const S = {
  "zh-CN": {
    // General
    search: "æœç´¢",
    generate_image: "ç”Ÿå›¾",
    prompt: "æç¤ºè¯",
    prompt_management: "æç¤ºè¯ç®¡ç†",
    prompt_management_tooltip: "æç¤ºè¯ç®¡ç† (å³é”®æ‰“å¼€ç®¡ç†é¢æ¿)",
    close: "å…³é—­",
    copy: "å¤åˆ¶",
    delete: "åˆ é™¤",
    edit: "ç¼–è¾‘",
    save: "ä¿å­˜",
    cancel: "å–æ¶ˆ",
    confirm: "ç¡®è®¤",
    import: "å¯¼å…¥",
    export: "å¯¼å‡º",
    add: "æ·»åŠ ",
    create: "æ–°å»º",
    loading: "åŠ è½½ä¸­...",
    success: "æˆåŠŸ",
    error: "é”™è¯¯",
    warning: "è­¦å‘Š",
    info: "æç¤º",
    placeholder_1: "åˆ«çŸœæŒäº†ï¼Œå¿«é—®æˆ‘ç‚¹å•¥ï¼",
    placeholder_2: "æ‚¨çš„ä¸“å±æ™ºæ…§å·²ä¸Šçº¿ï¼Œè¯·éšæ„è°ƒæˆ~",
    placeholder_3: "å®ï¼è¿™é‡Œæœ‰ä¸ªAIåœ¨ç­‰æŠ•å–‚é—®é¢˜â€¦",
    placeholder_4: "å¼€å§‹ä½ çš„çµé­‚æ‹·é—®å§ï¼(æˆ–è€…éšä¾¿èŠèŠä¹Ÿè¡Œ)",
    placeholder_5: "æ­£åœ¨è¿æ¥å®‡å®™çŸ¥è¯†åº“â€¦ å¥½äº†ï¼Œæ‚¨è¯´ï¼",
    placeholder_6: "å·´å±±å¤œé›¨æ¶¨ç§‹æ± â€¦ æ‚¨æœ‰ä½•äº‹ç›¸è¯¢ï¼Ÿ",
    placeholder_7: "é™å€™ä½³éŸ³ï¼Œæ´—è€³æ­å¬ã€‚",
    placeholder_8: "æ€ç»ªå¦‚é£ï¼Œè¯·åœ¨æ­¤åˆ»é©»è¶³â€¦",
    placeholder_9: "åœ¨å—ï¼Ÿ",
    placeholder_10: "AIå¾…å‘½ä¸­ï¼Œè¯·æŒ‡ç¤ºï¼",
    placeholder_11: "æ€è€ƒä¸­â€¦ (å‡è£…å¾ˆå¿™)",
    placeholder_12: "æ‚¨å¥½ï¼Œè¿™é‡Œæ˜¯ä¸ä¼šæ‰çº¿çš„AIå®¢æœã€‚",
    placeholder_13: "è¯·è¾“å…¥æ‚¨çš„å¥‡æ€å¦™æƒ³â€¦",
    placeholder_14: "æ€ç»´æ¥å£å·²å°±ç»ªï¼Œè¯·ä¼ è¾“æŒ‡ä»¤ã€‚",
    placeholder_15: "æ¢ç´¢æœªçŸ¥ï¼Ÿè§£æƒ‘ç­”ç–‘ï¼Ÿæˆ‘å‡†å¤‡å¥½äº†ã€‚",
    // Panel Manager
    quick_insert: "æ’å…¥",
    new_prompt: "æ–°å»º",
    manage_prompts: "ç®¡ç†",
    search_prompts_placeholder: "æœç´¢...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Â· â†‘/â†“ Â· Enter Â· Esc Â· â†/â†’",
    category: "åˆ†ç±»",
    add_category: "+ åˆ†ç±»",
    new_category: "æ–°åˆ†ç±»",
    edit_category: "æ”¹åˆ†ç±»",
    name: "åç§°",
    category_name_placeholder: "è¾“å…¥åç§°",
    icon: "å›¾æ ‡",
    icon_emoji: "å›¾æ ‡",
    search_icon: "æœç´¢å›¾æ ‡...",
    select_icon: "é€‰æ‹©å›¾æ ‡",
    color: "é¢œè‰²",
    all_categories: "å…¨éƒ¨",
    change_category: "æ”¹åˆ†ç±»",
    uncategorized: "å…¶ä»–",
    usage_count: "ä½¿ç”¨",
    created_at: "åˆ›å»ºäº",
    favorite: "æ”¶è—",
    edit: "ç¼–è¾‘",
    delete: "åˆ é™¤",
    search_model_placeholder: "æœç´¢æˆ–é€‰æ‹©æ¨¡å‹...",
    no_models_found: "æ— åŒ¹é…æ¨¡å‹",
    loading_models: "ğŸ”„ åŠ è½½æ¨¡å‹ä¸­...",
    load_models_failed: "âŒ åŠ è½½å¤±è´¥",
    prev_page: "ä¸Šä¸€é¡µ",
    next_page: "ä¸‹ä¸€é¡µ",
    page_info: "ç¬¬ {current} / {total} é¡µ",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI å˜é‡è¯­æ³•",
    basic_syntax: "åŸºç¡€è¯­æ³•",
    common_variable_types: "å¸¸ç”¨å˜é‡ç±»å‹",
    system_variables: "ç³»ç»Ÿå˜é‡",
    clipboard_content: "å½“å‰å‰ªè´´æ¿å†…å®¹",
    // Constants - Categories
    cat_writing: "å†™ä½œ",
    cat_writing_desc: "æ–‡ç« , æ–‡æ¡ˆ, æ•…äº‹, è„šæœ¬ç­‰",
    cat_productivity: "ææ•ˆ",
    cat_productivity_desc: "æ€»ç»“, è®¡åˆ’, é‚®ä»¶, æŠ¥å‘Š, ç¿»è¯‘ç­‰",
    cat_learning: "å­¦ä¹ ",
    cat_learning_desc: "æ¦‚å¿µ, è¯­è¨€, ç ”ç©¶ç­‰",
    cat_coding: "ç¼–ç¨‹",
    cat_coding_desc: "ç®—æ³•, è°ƒè¯•, API, å¼€å‘ç­‰",
    cat_data: "æ•°æ®",
    cat_data_desc: "æ¸…æ´—, åˆ†æ, å¯è§†åŒ–ç­‰",
    cat_lifestyle: "ç”Ÿæ´»",
    cat_lifestyle_desc: "æ—…è¡Œ, èœè°±, åˆ›æ„, ä¼‘é—²ç­‰",
    cat_roleplay: "è§’è‰²",
    cat_roleplay_desc: "è®¾å®š, æ¨¡æ‹Ÿ, æ¸¸æˆç­‰",
    // Constants - Variable Types
    var_text: "æ–‡æœ¬è¾“å…¥",
    var_text_desc: "æ ‡å‡†å•è¡Œæ–‡æœ¬è¾“å…¥æ¡†ï¼Œé€‚åˆå§“åã€æ ‡é¢˜ç­‰çŸ­æ–‡æœ¬",
    var_textarea: "å¤šè¡Œæ–‡æœ¬",
    var_textarea_desc: "å¤šè¡Œæ–‡æœ¬åŒºåŸŸï¼Œé€‚åˆè¯¦ç»†æè¿°ã€æ–‡ç« å†…å®¹æˆ–ä»£ç ç‰‡æ®µ",
    var_select: "ä¸‹æ‹‰é€‰æ‹©",
    var_select_desc: "ä¸‹æ‹‰èœå•ï¼Œæä¾›é¢„å®šä¹‰é€‰é¡¹ï¼Œç¡®ä¿è¾“å…¥ä¸€è‡´æ€§",
    var_number: "æ•°å­—è¾“å…¥",
    var_number_desc: "é™åˆ¶ä¸ºæ•°å€¼çš„è¾“å…¥æ¡†ï¼Œé€‚åˆæ•°é‡ã€è¯„åˆ†ç­‰",
    var_checkbox: "å¤é€‰æ¡†",
    var_checkbox_desc: "å¸ƒå°”å€¼é€‰æ‹©ï¼Œé€‚åˆå¼€å…³ã€ç¡®è®¤ç­‰",
    var_date: "æ—¥æœŸé€‰æ‹©",
    var_date_desc: "æ—¥å†é€‰æ‹©å™¨ï¼Œç¡®ä¿æ ‡å‡†æ—¥æœŸæ ¼å¼",
    var_datetime_local: "æ—¥æœŸæ—¶é—´",
    var_datetime_local_desc: "æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ï¼Œé€‚åˆé¢„çº¦ã€äº‹ä»¶ç­‰",
    var_color: "é¢œè‰²é€‰æ‹©",
    var_color_desc: "é¢œè‰²é€‰æ‹©å™¨ï¼Œè¿”å›åå…­è¿›åˆ¶é¢œè‰²ä»£ç ",
    var_email: "é‚®ç®±åœ°å€",
    var_email_desc: "é‚®ç®±æ ¼å¼éªŒè¯çš„è¾“å…¥æ¡†",
    var_month: "æœˆä»½é€‰æ‹©",
    var_month_desc: "æœˆä»½å’Œå¹´ä»½é€‰æ‹©å™¨ï¼Œä¸éœ€è¦å…·ä½“æ—¥æœŸ",
    var_range: "æ»‘å—èŒƒå›´",
    var_range_desc: "æ»‘å—æ§ä»¶ï¼Œåœ¨æŒ‡å®šèŒƒå›´å†…é€‰æ‹©æ•°å€¼",
    var_tel: "ç”µè¯å·ç ",
    var_tel_desc: "ç”µè¯å·ç æ ¼å¼çš„è¾“å…¥æ¡†",
    var_time: "æ—¶é—´é€‰æ‹©",
    var_time_desc: "æ—¶é—´é€‰æ‹©å™¨ï¼Œä¸åŒ…å«æ—¥æœŸ",
    var_url: "ç½‘å€é“¾æ¥",
    var_url_desc: "URLæ ¼å¼éªŒè¯çš„è¾“å…¥æ¡†",
    var_map: "åœ°å›¾åæ ‡",
    var_map_desc: "äº¤äº’å¼åœ°å›¾ç•Œé¢ï¼Œé€‰æ‹©åœ°ç†åæ ‡ï¼ˆå®éªŒæ€§åŠŸèƒ½ï¼‰",
    var_table_type: "ç±»å‹",
    var_table_desc: "è¯´æ˜",
    var_table_props: "å±æ€§",
    var_table_example: "ç¤ºä¾‹",
    // Constants - System Variables
    sys_clipboard: "å‰ªè´´æ¿å†…å®¹",
    sys_clipboard_desc: "è·å–ç”¨æˆ·å‰ªè´´æ¿ä¸­çš„æ–‡æœ¬å†…å®¹",
    sys_clipboard_note: "éœ€è¦ç”¨æˆ·æ‰‹åŠ¨å¯ç”¨å‰ªè´´æ¿è®¿é—®åŠŸèƒ½",
    // Placeholders
    placeholder_1: "åˆ«çŸœæŒäº†ï¼Œå¿«é—®æˆ‘ç‚¹å•¥ï¼",
    placeholder_2: "æ‚¨çš„ä¸“å±æ™ºæ…§å·²ä¸Šçº¿ï¼Œè¯·éšæ„è°ƒæˆ~",
    placeholder_3: "å®ï¼è¿™é‡Œæœ‰ä¸ªAIåœ¨ç­‰æŠ•å–‚é—®é¢˜â€¦",
    placeholder_4: "å¼€å§‹ä½ çš„çµé­‚æ‹·é—®å§ï¼(æˆ–è€…éšä¾¿èŠèŠä¹Ÿè¡Œ)",
    placeholder_5: "æ­£åœ¨è¿æ¥å®‡å®™çŸ¥è¯†åº“â€¦ å¥½äº†ï¼Œæ‚¨è¯´ï¼",
    placeholder_6: "å·´å±±å¤œé›¨æ¶¨ç§‹æ± â€¦ æ‚¨æœ‰ä½•äº‹ç›¸è¯¢ï¼Ÿ",
    placeholder_7: "é™å€™ä½³éŸ³ï¼Œæ´—è€³æ­å¬ã€‚",
    placeholder_8: "æ€ç»ªå¦‚é£ï¼Œè¯·åœ¨æ­¤åˆ»é©»è¶³â€¦",
    placeholder_9: "åœ¨å—ï¼Ÿ",
    placeholder_10: "AIå¾…å‘½ä¸­ï¼Œè¯·æŒ‡ç¤ºï¼",
    placeholder_11: "æ€è€ƒä¸­â€¦ (å‡è£…å¾ˆå¿™)",
    placeholder_12: "æ‚¨å¥½ï¼Œè¿™é‡Œæ˜¯ä¸ä¼šæ‰çº¿çš„AIå®¢æœã€‚",
    placeholder_13: "è¯·è¾“å…¥æ‚¨çš„å¥‡æ€å¦™æƒ³â€¦",
    placeholder_14: "æ€ç»´æ¥å£å·²å°±ç»ªï¼Œè¯·ä¼ è¾“æŒ‡ä»¤ã€‚",
    placeholder_15: "æ¢ç´¢æœªçŸ¥ï¼Ÿè§£æƒ‘ç­”ç–‘ï¼Ÿæˆ‘å‡†å¤‡å¥½äº†ã€‚",
    // UI Components
    create: "åˆ›å»º",
    auto_fill: "è‡ªåŠ¨å¡«å……",
    title_content_required: "æ ‡é¢˜å’Œå†…å®¹ä¸èƒ½ä¸ºç©ºï¼",
    category_required: "è¯·é€‰æ‹©ä¸€ä¸ªåˆ†ç±»ï¼",
    prompt_updated: "æç¤ºè¯æ›´æ–°æˆåŠŸï¼",
    prompt_created: "æç¤ºè¯åˆ›å»ºæˆåŠŸï¼",
    save_failed: "ä¿å­˜å¤±è´¥: ",
    confirm_delete_title: "ç¡®è®¤åˆ é™¤",
    confirm_delete_prompt_message: `ç¡®è®¤åˆ é™¤æç¤ºè¯ "{title}" å—ï¼Ÿ

æ³¨æ„ï¼šè¿™å°†ä»æœ¬åœ°å’Œ OpenWebUI ä¸­åˆ é™¤è¯¥æç¤ºè¯ã€‚`,
    prompt_deleted: "âœ… æç¤ºè¯å·²åˆ é™¤",
    delete_failed: "åˆ é™¤å¤±è´¥: ",
    prompt_not_found: "æœªæ‰¾åˆ°è¦åˆ é™¤çš„æç¤ºè¯",
    update_category_failed: "æ›´æ–°åˆ†ç±»å¤±è´¥: ",
    category_name_required: "åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©ºï¼",
    confirm_delete_category: "ç¡®è®¤åˆ é™¤è¿™ä¸ªåˆ†ç±»å—ï¼Ÿåˆ†ç±»ä¸‹çš„æç¤ºè¯å°†å˜ä¸ºâ€œæœªåˆ†ç±»â€ã€‚",
    import_export_prompt: `è¯·é€‰æ‹©æ“ä½œï¼š
1. å¯¼å…¥æç¤ºè¯
2. å¯¼å‡ºæç¤ºè¯
3. å–æ¶ˆ

è¯·è¾“å…¥æ•°å­— (1-3):`,
    import_prompts: "å¯¼å…¥æç¤ºè¯",
    export_prompts: "å¯¼å‡ºæç¤ºè¯",
    cancel: "å–æ¶ˆ",
    delete: "åˆ é™¤",
    found_prompts_import_confirm: `å‘ç° {count} ä¸ªæç¤ºè¯ã€‚
æ˜¯å¦ç»§ç»­å¯¼å…¥ï¼Ÿ`,
    import_success_message: `å¯¼å…¥å®Œæˆï¼
æˆåŠŸå¯¼å…¥ {imported} ä¸ªæ–°æç¤ºè¯ã€‚
è·³è¿‡ {skipped} ä¸ªé‡å¤æç¤ºè¯ã€‚`,
    invalid_file_format: "æ— æ•ˆçš„æ–‡ä»¶æ ¼å¼",
    file_parse_failed: "æ–‡ä»¶è§£æå¤±è´¥: ",
    describe_func_placeholder: "è¯·æè¿°æ‚¨å¸Œæœ›æç¤ºè¯å®ç°çš„åŠŸèƒ½",
    generation_failed_retry: "ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•",
    generation_error: "ç”Ÿæˆè¿‡ç¨‹å‡ºé”™: ",
    generated_preview_title: "ğŸ¯ ç”Ÿæˆçš„æç¤ºè¯é¢„è§ˆ",
    title_label: "æ ‡é¢˜ï¼š",
    content_label: "å†…å®¹ï¼š",
    category_label: "åˆ†ç±»ï¼š",
    command_label: "å‘½ä»¤ï¼š",
    quality_score_label: "è´¨é‡è¯„åˆ†ï¼š",
    errors_label: "âŒ é”™è¯¯",
    warnings_label: "âš ï¸ è­¦å‘Š",
    suggestions_label: "ğŸ’¡ å»ºè®®",
    content_meets_requirements: "ç”Ÿæˆå†…å®¹ç¬¦åˆè¦æ±‚ï¼",
    accept_result: "æ¥å—ç»“æœ",
    regenerate: "é‡æ–°ç”Ÿæˆ",
    manual_edit: "æ‰‹åŠ¨ç¼–è¾‘",
    synced_to_form_hint: "å·²åŒæ­¥åˆ°å·¦ä¾§è¡¨å•ï¼Œå¯ç›´æ¥é¢„è§ˆæˆ–ä¿®æ”¹åç‚¹å‡»ä¿å­˜ã€‚",
    ai_prompt_saved: "âœ… AIç”Ÿæˆçš„æç¤ºè¯å·²æˆåŠŸä¿å­˜ï¼",
    no_retry_record: "æ²¡æœ‰å¯ä¾›é‡æ–°ç”Ÿæˆçš„è®°å½•ï¼Œè¯·å…ˆç”Ÿæˆä¸€æ¬¡ã€‚",
    search_select_model_placeholder: "æœç´¢æˆ–é€‰æ‹©æ¨¡å‹...",
    no_models_available: "æš‚æ— å¯ç”¨æ¨¡å‹",
    load_failed_refresh: "åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°",
    fill_title_content: "è¯·å…ˆå¡«å†™æ ‡é¢˜å’Œå†…å®¹",
    prompt_preview_title: "æç¤ºè¯é¢„è§ˆ - ",
    edit_prompt_title: "ç¼–è¾‘æç¤ºè¯",
    new_prompt_title: "æ–°å»ºæç¤ºè¯",
    unknown_model: "æœªçŸ¥æ¨¡å‹",
    offline: "ç¦»çº¿",
    prompt_editor_title: "æç¤ºè¯ç¼–è¾‘å™¨",
    workspace: "å·¥ä½œåŒº",
    ai_mode: "AI æ¨¡å¼",
    manual_mode: "æ‰‹åŠ¨æ¨¡å¼",
    preview: "é¢„è§ˆ",
    ai_generate_title: "AI ç”Ÿæˆæç¤ºè¯",
    ai_generate_subtitle: "æè¿°æ‚¨çš„éœ€æ±‚ï¼ŒAI å°†ä¸ºæ‚¨ç”Ÿæˆæç¤ºè¯",
    ai_model: "AI æ¨¡å‹",
    func_description: "åŠŸèƒ½æè¿°",
    func_desc_placeholder: "æè¿°æ‚¨å¸Œæœ›æç¤ºè¯å®ç°çš„åŠŸèƒ½...",
    func_desc_hint: "ä¾‹å¦‚ï¼šå¸®æˆ‘å†™ä¸€ç¯‡å…³äºäººå·¥æ™ºèƒ½å‘å±•çš„æ–‡ç« ...",
    use_clipboard: "ä½¿ç”¨å‰ªè´´æ¿å†…å®¹",
    clipboard_note: "å°†å‰ªè´´æ¿å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡",
    generate_btn: "ç”Ÿæˆ",
    generating: "ç”Ÿæˆä¸­...",
    generate_hint: "AIç”Ÿæˆå¯èƒ½ä¸å‡†ç¡®ï¼Œè¯·äººå·¥æ ¸å¯¹",
    prompt_details: "æç¤ºè¯è¯¦æƒ…",
    prompt_details_subtitle: "æ‰‹åŠ¨ç¼–è¾‘æç¤ºè¯å†…å®¹",
    title: "æ ‡é¢˜",
    title_placeholder: "è¾“å…¥æç¤ºè¯æ ‡é¢˜...",
    content: "å†…å®¹",
    content_placeholder: "è¾“å…¥æç¤ºè¯å†…å®¹ï¼Œæ”¯æŒå˜é‡...",
    common_types: "å¸¸ç”¨å˜é‡ç±»å‹",
    variable_syntax_help: "å˜é‡è¯­æ³•å¸®åŠ©",
    live_preview: "å®æ—¶é¢„è§ˆ",
    variable_highlight: "å˜é‡é«˜äº®",
    variable_syntax_title: "å˜é‡è¯­æ³•æŒ‡å—",
    basic_syntax: "åŸºç¡€è¯­æ³•",
    common_variable_types: "å¸¸ç”¨å˜é‡ç±»å‹",
    system_variables: "ç³»ç»Ÿå˜é‡",
    clipboard_content: "å‰ªè´´æ¿å†…å®¹",
    untitled: "æœªå‘½å",
    no_content: "æ— å†…å®¹",
    switch_model_failed: "åˆ‡æ¢æ¨¡å‹å¤±è´¥: ",
    switched_to: "å·²åˆ‡æ¢åˆ°: ",
    get_template_failed: "è·å–æ¨¡æ¿å¤±è´¥: ",
    ai_api_unavailable: "AI API ä¸å¯ç”¨",
    no_prompts: "æš‚æ— æç¤ºè¯",
    no_prompts_hint: "ç‚¹å‡»â€œ+â€æŒ‰é’®ï¼Œåˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªæç¤ºè¯ï¼",
    help_simple_var: "ç®€å•æ–‡æœ¬å˜é‡",
    help_typed_var: "æŒ‡å®šå˜é‡ç±»å‹",
    help_prop_var: "å¸¦å±æ€§çš„å˜é‡",
    help_example_name: "è¾“å…¥å§“å",
    help_example_high: "é«˜",
    help_example_medium: "ä¸­",
    help_example_low: "ä½",
    strict_naming_rules: `ã€é‡è¦ï¼šä¸¥æ ¼å‘½åè§„èŒƒã€‘
ç”Ÿæˆçš„å‘½ä»¤åç§°å¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š
1. åªèƒ½åŒ…å«ï¼šè‹±æ–‡å­—æ¯(a-z, A-Z)ã€æ•°å­—(0-9)ã€ä¸­åˆ’çº¿(-)å’Œä¸‹åˆ’çº¿(_)
2. ç»å¯¹ç¦æ­¢ä½¿ç”¨ï¼šç©ºæ ¼ã€ç‚¹(.)ã€æ–œçº¿(/)ç­‰å…¶ä»–ç‰¹æ®Šå­—ç¬¦
3. æ ¼å¼è¦æ±‚ï¼šå°å†™å­—æ¯å¼€å¤´ï¼Œå¤šè¯ç”¨åˆ†éš”ç¬¦è¿æ¥
4. é•¿åº¦ï¼š2-30ä¸ªå­—ç¬¦
5. ç¤ºä¾‹ï¼šdata-analysis, user_report, task-manager`,
    variable_syntax_rules: 'ã€é‡è¦ï¼šå˜é‡è¯­æ³•è§„èŒƒã€‘\næ‰€æœ‰å˜é‡å±æ€§å¿…é¡»ä½¿ç”¨ "property=value" çš„æ ¼å¼ï¼Œç‰¹åˆ«æ˜¯ "default" å±æ€§ã€‚\n1.  **æ­£ç¡®è¯­æ³•**: `{{å˜é‡å | ç±»å‹:default="é»˜è®¤å€¼"}}`\n2.  **é”™è¯¯è¯­æ³•**: `{{å˜é‡å | ç±»å‹ | é»˜è®¤å€¼}}`\n\n**ç¤ºä¾‹**:\n-   **æ–‡æœ¬ç±»å‹**:\n    -   âœ… æ­£ç¡®: `{{topic | text:default="å‡½æ•°"}}`\n    -   âŒ é”™è¯¯: `{{topic | text | å‡½æ•°}}`\n-   **æ•°å­—ç±»å‹**:\n    -   âœ… æ­£ç¡®: `{{count | number:default=5}}`\n    -   âŒ é”™è¯¯: `{{count | number:5}}`\n-   **ä¸‹æ‹‰é€‰æ‹©ç±»å‹**:\n    -   âœ… æ­£ç¡®: `{{priority | select:options=["é«˜","ä¸­","ä½"]:default="ä¸­"}}`\n    -   âŒ é”™è¯¯: `{{priority | select | ["é«˜","ä¸­","ä½"]}}`',
    available_variables_intro: `ã€é‡è¦ï¼šå¯ç”¨çš„å˜é‡ç±»å‹å’Œå‚æ•°ã€‘
ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å˜é‡ç±»å‹æ¥åˆ›å»ºåŠŸèƒ½ä¸°å¯Œçš„æç¤ºè¯è¡¨å•ã€‚è¯·åœ¨ç”Ÿæˆæ—¶çµæ´»è¿ç”¨ã€‚`,
    operation_failed: "æ“ä½œå¤±è´¥: ",
    update_category_failed: "æ›´æ–°åˆ†ç±»å¤±è´¥: ",
    attempt_count: "å°è¯• {n} æ¬¡",
    errors_prefix: `
é”™è¯¯: `,
    warnings_prefix: `
è­¦å‘Š: `,
    score_prefix: `
è¯„åˆ†: `,
    use_clipboard_hint: "å°†å‰ªè´´æ¿å†…å®¹ä½œä¸ºä¸Šä¸‹æ–‡ä¿¡æ¯",
    step_generating: "ç”Ÿæˆä¸­",
    step_validating: "éªŒè¯ä¸­",
    step_completed: "å®Œæˆ",
    ai_processing: "AI æ­£åœ¨å¤„ç†...",
    preview_placeholder: "åœ¨æ­¤å¤„é¢„è§ˆç”Ÿæˆçš„æç¤ºè¯æ•ˆæœ",
    select_category: "é€‰æ‹©åˆ†ç±»",
    manual_edit_title: "æ‰‹åŠ¨ç¼–è¾‘æç¤ºè¯",
    manual_edit_subtitle: "åœ¨æ­¤å¤„å¾®è°ƒç”Ÿæˆçš„æç¤ºè¯",
    supports_markdown: "æ”¯æŒ Markdown",
    variable_help: "å˜é‡å¸®åŠ©",
    tags: "æ ‡ç­¾",
    tags_placeholder: "è¾“å…¥æ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”...",
    expand_ai: "å±•å¼€ AI åŠ©æ‰‹",
    collapse_ai: "æŠ˜å  AI åŠ©æ‰‹",
    wizard_step_ai: "AI ç”Ÿæˆ",
    wizard_step_edit: "ç¼–è¾‘å¾®è°ƒ",
    skip_to_edit: "è·³è¿‡åˆ°ç¼–è¾‘",
    back_to_ai: "è¿”å› AI ç”Ÿæˆ",
    save_prompt: "ä¿å­˜æç¤ºè¯",
    saving: "ä¿å­˜ä¸­",
    // Shortcut Help
    shortcut_help_title: "å¿«æ·é”®å¸®åŠ©",
    // AI Generation Process
    generating_attempt: "æ­£åœ¨ç”Ÿæˆç¬¬ {attempt} æ¬¡å°è¯•...",
    validating_content: "æ­£åœ¨éªŒè¯ç”Ÿæˆå†…å®¹...",
    generation_success: "ç”ŸæˆæˆåŠŸï¼",
    validation_failed_retry: "éªŒè¯å¤±è´¥ï¼Œå‡†å¤‡é‡è¯•... (å¾—åˆ†: {score}%)",
    all_retries_failed: "æ‰€æœ‰é‡è¯•å‡å¤±è´¥",
    generation_error_msg: "ç”Ÿæˆé”™è¯¯: {message}",
    fix_variable_syntax: "ä¿®å¤å˜é‡è¯­æ³•",
    check_variable_syntax: "æ£€æŸ¥æ‰€æœ‰ {{}} å˜é‡çš„æ ¼å¼æ˜¯å¦æ­£ç¡®",
    improve_title: "ä¼˜åŒ–æ ‡é¢˜",
    add_title: "æ·»åŠ æˆ–ä¿®æ”¹æç¤ºè¯æ ‡é¢˜",
    supplement_content: "è¡¥å……å†…å®¹",
    add_content: "æ·»åŠ æ›´è¯¦ç»†çš„æç¤ºè¯å†…å®¹",
    simplify_content: "ç®€åŒ–å†…å®¹",
    shorten_content: "ç§»é™¤ä¸å¿…è¦çš„å†…å®¹ï¼Œä¿æŒç®€æ´",
    shortcut_section_nav: "å¯¼èˆª",
    shortcut_nav_desc: "â†‘/â†“: é€‰æ‹©æç¤ºè¯",
    shortcut_section_cat: "åˆ†ç±»",
    shortcut_cat_desc: "â†/â†’: åˆ‡æ¢åˆ†ç±»",
    shortcut_section_open: "æ‰“å¼€",
    shortcut_open_desc_1: "Enter: æ’å…¥é€‰ä¸­çš„æç¤ºè¯",
    shortcut_open_desc_2: "Esc: å…³é—­é¢æ¿"
  },
  "en-US": {
    // General
    search: "Search",
    generate_image: "Generate Image",
    prompt: "Prompt",
    prompt_management: "Prompt Management",
    prompt_management_tooltip: "Prompt Management (Right click to open management panel)",
    use_clipboard_hint: "Use clipboard content as context",
    step_generating: "Generating",
    step_validating: "Validating",
    step_completed: "Completed",
    ai_processing: "AI is processing...",
    preview_placeholder: "Preview generated prompt here",
    select_category: "Select Category",
    manual_edit_title: "Manual Edit Prompt",
    manual_edit_subtitle: "Fine-tune the generated prompt here",
    supports_markdown: "Supports Markdown",
    variable_help: "Variable Help",
    tags: "Tags",
    tags_placeholder: "Enter tags, separated by commas...",
    expand_ai: "Expand AI Assistant",
    collapse_ai: "Collapse AI Assistant",
    wizard_step_ai: "AI Generate",
    wizard_step_edit: "Edit & Tune",
    skip_to_edit: "Skip to Edit",
    back_to_ai: "Back to AI",
    save_prompt: "Save Prompt",
    saving: "Saving",
    close: "Close",
    copy: "Copy",
    delete: "Delete",
    edit: "Edit",
    save: "Save",
    cancel: "Cancel",
    confirm: "Confirm",
    import: "Import",
    export: "Export",
    add: "Add",
    create: "Create",
    loading: "Loading...",
    success: "Success",
    error: "Error",
    warning: "Warning",
    info: "Info",
    placeholder_1: "Don't be shy, ask me something!",
    placeholder_2: "Your personal wisdom is online, feel free to ask~",
    placeholder_3: "Ding! An AI is waiting for your question...",
    placeholder_4: "Start your soul interrogation! (or just chat)",
    placeholder_5: "Connecting to the universe database... Go ahead!",
    placeholder_6: "How can I help you today?",
    placeholder_7: "Waiting for your command.",
    placeholder_8: "Thoughts are like wind, pause here for a moment...",
    placeholder_9: "Are you there?",
    placeholder_10: "AI standing by, please instruct!",
    placeholder_11: "Thinking... (pretending to be busy)",
    placeholder_12: "Hello, this is the AI support that never goes offline.",
    placeholder_13: "Please enter your whimsical ideas...",
    placeholder_14: "Mind interface ready, please transmit instructions.",
    placeholder_15: "Exploring the unknown? Answering doubts? I'm ready.",
    // Panel Manager
    quick_insert: "Insert",
    new_prompt: "New",
    manage_prompts: "Manage",
    search_prompts_placeholder: "Search...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Â· â†‘/â†“ Â· Enter Â· Esc Â· â†/â†’",
    category: "Category",
    add_category: "+ Category",
    new_category: "New Category",
    edit_category: "Edit Category",
    name: "Name",
    category_name_placeholder: "Enter name",
    icon: "Icon",
    icon_emoji: "Icon",
    search_icon: "Search icon...",
    select_icon: "Select Icon",
    color: "Color",
    all_categories: "All",
    change_category: "Change",
    uncategorized: "Other",
    usage_count: "Usage",
    created_at: "Created",
    favorite: "Fav",
    search_model_placeholder: "Search or select model...",
    no_models_found: "No models found",
    loading_models: "ğŸ”„ Loading models...",
    load_models_failed: "âŒ Failed to load",
    prev_page: "Prev",
    next_page: "Next",
    page_info: "Page {current} / {total}",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI Variable Syntax",
    basic_syntax: "Basic Syntax",
    common_variable_types: "Common Variable Types",
    system_variables: "System Variables",
    clipboard_content: "Current Clipboard Content",
    // Constants - Categories
    cat_writing: "Writing",
    cat_writing_desc: "Articles, Copywriting, Stories, Scripts, etc.",
    cat_productivity: "Productivity",
    cat_productivity_desc: "Summaries, Plans, Emails, Reports, Translation, etc.",
    cat_learning: "Learning",
    cat_learning_desc: "Concepts, Languages, Research, etc.",
    cat_coding: "Coding",
    cat_coding_desc: "Algorithms, Debugging, APIs, Development, etc.",
    cat_data: "Data",
    cat_data_desc: "Cleaning, Analysis, Visualization, etc.",
    cat_lifestyle: "Lifestyle",
    cat_lifestyle_desc: "Travel, Recipes, Ideas, Leisure, etc.",
    cat_roleplay: "Roleplay",
    cat_roleplay_desc: "Characters, Simulation, Games, etc.",
    // Constants - Variable Types
    var_text: "Text Input",
    var_text_desc: "Standard single-line text input",
    var_textarea: "Textarea",
    var_textarea_desc: "Multi-line text area",
    var_select: "Select",
    var_select_desc: "Dropdown menu",
    var_number: "Number",
    var_number_desc: "Numeric input",
    var_checkbox: "Checkbox",
    var_checkbox_desc: "Boolean selection",
    var_date: "Date",
    var_date_desc: "Date picker",
    var_datetime_local: "Date Time",
    var_datetime_local_desc: "Date and time picker",
    var_color: "Color",
    var_color_desc: "Color picker",
    var_email: "Email",
    var_email_desc: "Email address input",
    var_month: "Month",
    var_month_desc: "Month and year picker",
    var_range: "Range",
    var_range_desc: "Slider control",
    var_tel: "Telephone",
    var_tel_desc: "Phone number input",
    var_time: "Time",
    var_time_desc: "Time picker",
    var_url: "URL",
    var_url_desc: "URL input",
    var_map: "Map",
    var_map_desc: "Interactive map (Experimental)",
    var_table_type: "Type",
    var_table_desc: "Description",
    var_table_props: "Properties",
    var_table_example: "Example",
    // Constants - System Variables
    sys_clipboard: "Clipboard Content",
    sys_clipboard_desc: "Get text content from user clipboard",
    sys_clipboard_note: "Requires user permission",
    // Placeholders
    placeholder_1: "Don't be shy, ask me anything!",
    placeholder_2: "Your personal wisdom is online, feel free to tease~",
    placeholder_3: "Ding! There is an AI waiting for feeding questions...",
    placeholder_4: "Start your soul torture! (Or just chat casually)",
    placeholder_5: "Connecting to the universe knowledge base... Okay, you say!",
    placeholder_6: "What can I do for you?",
    placeholder_7: "Waiting for good news, listening with respectful attention.",
    placeholder_8: "Thoughts are like wind, please stop at this moment...",
    placeholder_9: "Are you there?",
    placeholder_10: "AI standing by, please instruct!",
    placeholder_11: "Thinking... (Pretending to be busy)",
    placeholder_12: "Hello, this is the AI customer service that will not go offline.",
    placeholder_13: "Please enter your whimsy...",
    placeholder_14: "Thinking interface ready, please transmit instructions.",
    placeholder_15: "Explore the unknown? Answer questions? I'm ready.",
    // UI Components
    create: "Create",
    auto_fill: "Auto Fill",
    title_content_required: "Title and content cannot be empty!",
    category_required: "Please select a category!",
    prompt_updated: "Prompt updated successfully!",
    prompt_created: "Prompt created successfully!",
    save_failed: "Save failed: ",
    confirm_delete_title: "Confirm Delete",
    confirm_delete_prompt_message: `Are you sure you want to delete prompt "{title}"?

Note: This will delete the prompt from local storage and OpenWebUI.`,
    prompt_deleted: "âœ… Prompt deleted",
    delete_failed: "Delete failed: ",
    prompt_not_found: "Prompt not found",
    update_category_failed: "Update category failed: ",
    category_name_required: "Category name cannot be empty!",
    confirm_delete_category: 'Are you sure you want to delete this category? Prompts under this category will become "Uncategorized".',
    import_export_prompt: `Please select an action:
1. Import Prompts
2. Export Prompts
3. Cancel

Enter a number (1-3):`,
    import_prompts: "Import Prompts",
    export_prompts: "Export Prompts",
    cancel: "Cancel",
    delete: "Delete",
    found_prompts_import_confirm: `Found {count} prompts.
Do you want to continue importing?`,
    import_success_message: `Import complete!
Successfully imported {imported} new prompts.
Skipped {skipped} duplicate prompts.`,
    invalid_file_format: "Invalid file format",
    file_parse_failed: "File parse failed: ",
    describe_func_placeholder: "Please describe the function you want the prompt to achieve",
    generation_failed_retry: "Generation failed, please retry",
    generation_error: "Generation error: ",
    generated_preview_title: "ğŸ¯ Generated Prompt Preview",
    title_label: "Title: ",
    content_label: "Content: ",
    category_label: "Category: ",
    command_label: "Command: ",
    quality_score_label: "Quality Score: ",
    errors_label: "âŒ Errors",
    warnings_label: "âš ï¸ Warnings",
    suggestions_label: "ğŸ’¡ Suggestions",
    content_meets_requirements: "Generated content meets requirements!",
    accept_result: "Accept Result",
    regenerate: "Regenerate",
    manual_edit: "Manual Edit",
    synced_to_form_hint: "Synced to the form on the left, you can preview or modify before saving.",
    ai_prompt_saved: "âœ… AI generated prompt saved successfully!",
    no_retry_record: "No record to regenerate, please generate once first.",
    search_select_model_placeholder: "Search or select model...",
    no_models_available: "No models available",
    load_failed_refresh: "Load failed, please refresh",
    fill_title_content: "Please fill in title and content first",
    prompt_preview_title: "Prompt Preview - ",
    edit_prompt_title: "Edit Prompt",
    new_prompt_title: "New Prompt",
    unknown_model: "Unknown Model",
    offline: "Offline",
    prompt_editor_title: "Prompt Editor",
    workspace: "Workspace",
    ai_mode: "AI Mode",
    manual_mode: "Manual Mode",
    preview: "Preview",
    ai_generate_title: "AI Generate Prompt",
    ai_generate_subtitle: "Describe your needs, AI will generate the prompt for you",
    ai_model: "AI Model",
    func_description: "Function Description",
    func_desc_placeholder: "Describe the function you want the prompt to achieve...",
    func_desc_hint: "Example: Help me write an article about the development of AI...",
    use_clipboard: "Use Clipboard Content",
    clipboard_note: "Use clipboard content as context",
    generate_btn: "Generate",
    generating: "Generating...",
    generate_hint: "AI generation may be inaccurate, please verify manually",
    prompt_details: "Prompt Details",
    prompt_details_subtitle: "Manually edit prompt content",
    title: "Title",
    title_placeholder: "Enter prompt title...",
    content: "Content",
    content_placeholder: "Enter prompt content, support variables...",
    common_types: "Common Variable Types",
    variable_syntax_help: "Variable Syntax Help",
    live_preview: "Live Preview",
    variable_highlight: "Variable Highlight",
    variable_syntax_title: "Variable Syntax Guide",
    basic_syntax: "Basic Syntax",
    common_variable_types: "Common Variable Types",
    system_variables: "System Variables",
    clipboard_content: "Clipboard Content",
    untitled: "Untitled",
    no_content: "No Content",
    switch_model_failed: "Switch model failed: ",
    switched_to: "Switched to: ",
    get_template_failed: "Get template failed: ",
    ai_api_unavailable: "AI API Unavailable",
    no_prompts: "No prompts",
    no_prompts_hint: 'Click "+" button to create your first prompt!',
    help_simple_var: "Simple text variable",
    help_typed_var: "Specify variable type",
    help_prop_var: "Variable with properties",
    help_example_name: "Enter Name",
    help_example_high: "High",
    help_example_medium: "Medium",
    help_example_low: "Low",
    strict_naming_rules: `[IMPORTANT: Strict Naming Rules]
Generated command names must strictly follow these rules:
1. Allowed characters: English letters (a-z, A-Z), numbers (0-9), hyphens (-), and underscores (_)
2. STRICTLY PROHIBITED: spaces, dots (.), slashes (/), and other special characters
3. Format: Start with a lowercase letter, connect multiple words with separators
4. Length: 2-30 characters
5. Examples: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[IMPORTANT: Variable Syntax Rules]\nAll variable properties must use the "property=value" format, especially the "default" property.\n1.  **Correct Syntax**: `{{variable_name | type:default="value"}}`\n2.  **Incorrect Syntax**: `{{variable_name | type | value}}`\n\n**Examples**:\n-   **Text Type**:\n    -   âœ… Correct: `{{topic | text:default="function"}}`\n    -   âŒ Incorrect: `{{topic | text | function}}`\n-   **Number Type**:\n    -   âœ… Correct: `{{count | number:default=5}}`\n    -   âŒ Incorrect: `{{count | number:5}}`\n-   **Select Type**:\n    -   âœ… Correct: `{{priority | select:options=["High","Medium","Low"]:default="Medium"}}`\n    -   âŒ Incorrect: `{{priority | select | ["High","Medium","Low"]}}`',
    available_variables_intro: `[IMPORTANT: Available Variable Types and Properties]
You can use the following variable types to create rich prompt forms. Please use them flexibly when generating.`,
    operation_failed: "Operation failed: ",
    update_category_failed: "Update category failed: ",
    attempt_count: "Attempt {n}",
    errors_prefix: `
Errors: `,
    warnings_prefix: `
Warnings: `,
    score_prefix: `
Score: `,
    // Shortcut Help
    shortcut_help_title: "Shortcut Help",
    shortcut_section_nav: "Navigation",
    shortcut_nav_desc: "â†‘/â†“: Select Prompt",
    shortcut_section_cat: "Categories",
    shortcut_cat_desc: "â†/â†’: Switch Category",
    shortcut_section_open: "Open",
    shortcut_open_desc_1: "Enter: Insert Selected Prompt",
    shortcut_open_desc_2: "Esc: Close Panel"
  },
  "zh-TW": {
    // General
    search: "æœå°‹",
    generate_image: "ç”Ÿæˆåœ–ç‰‡",
    prompt: "æç¤ºè©",
    prompt_management: "æç¤ºè©ç®¡ç†",
    prompt_management_tooltip: "æç¤ºè©ç®¡ç† (å³éµé–‹å•Ÿç®¡ç†é¢æ¿)",
    close: "é—œé–‰",
    copy: "è¤‡è£½",
    delete: "åˆªé™¤",
    edit: "ç·¨è¼¯",
    save: "å„²å­˜",
    cancel: "å–æ¶ˆ",
    confirm: "ç¢ºèª",
    import: "åŒ¯å…¥",
    export: "åŒ¯å‡º",
    add: "æ–°å¢",
    create: "å»ºç«‹",
    loading: "è¼‰å…¥ä¸­...",
    success: "æˆåŠŸ",
    error: "éŒ¯èª¤",
    warning: "è­¦å‘Š",
    info: "æç¤º",
    // Panel Manager
    quick_insert: "æ’å…¥",
    new_prompt: "æ–°å»º",
    manage_prompts: "ç®¡ç†",
    search_prompts_placeholder: "æœå°‹...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Â· â†‘/â†“ Â· Enter Â· Esc Â· â†/â†’",
    category: "åˆ†é¡",
    add_category: "+ åˆ†é¡",
    new_category: "æ–°åˆ†é¡",
    edit_category: "æ”¹åˆ†é¡",
    name: "åç¨±",
    category_name_placeholder: "è¼¸å…¥åç¨±",
    icon: "åœ–ç¤º",
    icon_emoji: "åœ–ç¤º",
    search_icon: "æœå°‹åœ–ç¤º...",
    select_icon: "é¸æ“‡åœ–ç¤º",
    color: "é¡è‰²",
    all_categories: "å…¨éƒ¨",
    change_category: "æ”¹åˆ†é¡",
    uncategorized: "å…¶ä»–",
    usage_count: "ä½¿ç”¨",
    created_at: "å»ºç«‹æ–¼",
    favorite: "æ”¶è—",
    search_model_placeholder: "æœå°‹æˆ–é¸æ“‡æ¨¡å‹...",
    no_models_found: "ç„¡ç¬¦åˆæ¨¡å‹",
    loading_models: "ğŸ”„ è¼‰å…¥æ¨¡å‹ä¸­...",
    load_models_failed: "âŒ è¼‰å…¥å¤±æ•—",
    prev_page: "ä¸Šä¸€é ",
    next_page: "ä¸‹ä¸€é ",
    page_info: "ç¬¬ {current} / {total} é ",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI è®Šæ•¸èªæ³•",
    basic_syntax: "åŸºç¤èªæ³•",
    common_variable_types: "å¸¸ç”¨è®Šæ•¸é¡å‹",
    system_variables: "ç³»çµ±è®Šæ•¸",
    clipboard_content: "ç›®å‰å‰ªè²¼ç°¿å…§å®¹",
    // Constants - Categories
    cat_writing: "å¯«ä½œ",
    cat_writing_desc: "æ–‡ç« , æ–‡æ¡ˆ, æ•…äº‹, è…³æœ¬ç­‰",
    cat_productivity: "ææ•ˆ",
    cat_productivity_desc: "æ‘˜è¦, è¨ˆç•«, éƒµä»¶, å ±å‘Š, ç¿»è­¯ç­‰",
    cat_learning: "å­¸ç¿’",
    cat_learning_desc: "æ¦‚å¿µ, èªè¨€, ç ”ç©¶ç­‰",
    cat_coding: "ç·¨ç¨‹",
    cat_coding_desc: "æ¼”ç®—æ³•, é™¤éŒ¯, API, é–‹ç™¼ç­‰",
    cat_data: "æ•¸æ“š",
    cat_data_desc: "æ•¸æ“šæ¸…æ´—, çµ±è¨ˆåˆ†æ, è¦–è¦ºåŒ–ç­‰",
    cat_lifestyle: "ç”Ÿæ´»",
    cat_lifestyle_desc: "æ—…è¡Œè¨ˆç•«, é£Ÿè­œ, å‰µæ„, ä¼‘é–’ç­‰",
    cat_roleplay: "è§’è‰²",
    cat_roleplay_desc: "è¨­å®š, æ¨¡æ“¬, éŠæˆ²ç­‰",
    // Constants - Variable Types
    var_text: "æ–‡å­—è¼¸å…¥",
    var_text_desc: "æ¨™æº–å–®è¡Œæ–‡å­—è¼¸å…¥æ¡†ï¼Œé©åˆå§“åã€æ¨™é¡Œç­‰çŸ­æ–‡å­—",
    var_textarea: "å¤šè¡Œæ–‡å­—",
    var_textarea_desc: "å¤šè¡Œæ–‡å­—å€åŸŸï¼Œé©åˆè©³ç´°æè¿°ã€æ–‡ç« å…§å®¹æˆ–ç¨‹å¼ç¢¼ç‰‡æ®µ",
    var_select: "ä¸‹æ‹‰é¸æ“‡",
    var_select_desc: "ä¸‹æ‹‰é¸å–®ï¼Œæä¾›é å®šç¾©é¸é …ï¼Œç¢ºä¿è¼¸å…¥ä¸€è‡´æ€§",
    var_number: "æ•¸å­—è¼¸å…¥",
    var_number_desc: "é™åˆ¶ç‚ºæ•¸å€¼çš„è¼¸å…¥æ¡†ï¼Œé©åˆæ•¸é‡ã€è©•åˆ†ç­‰",
    var_checkbox: "æ ¸å–æ–¹å¡Š",
    var_checkbox_desc: "å¸ƒæ—å€¼é¸æ“‡ï¼Œé©åˆé–‹é—œã€ç¢ºèªç­‰",
    var_date: "æ—¥æœŸé¸æ“‡",
    var_date_desc: "æ—¥æ›†é¸æ“‡å™¨ï¼Œç¢ºä¿æ¨™æº–æ—¥æœŸæ ¼å¼",
    var_datetime_local: "æ—¥æœŸæ™‚é–“",
    var_datetime_local_desc: "æ—¥æœŸå’Œæ™‚é–“é¸æ“‡å™¨ï¼Œé©åˆé ç´„ã€æ´»å‹•ç­‰",
    var_color: "é¡è‰²é¸æ“‡",
    var_color_desc: "é¡è‰²é¸æ“‡å™¨ï¼Œå›å‚³åå…­é€²ä½é¡è‰²ä»£ç¢¼",
    var_email: "é›»å­éƒµä»¶",
    var_email_desc: "é›»å­éƒµä»¶æ ¼å¼é©—è­‰çš„è¼¸å…¥æ¡†",
    var_month: "æœˆä»½é¸æ“‡",
    var_month_desc: "æœˆä»½å’Œå¹´ä»½é¸æ“‡å™¨ï¼Œä¸éœ€è¦å…·é«”æ—¥æœŸ",
    var_range: "æ»‘æ¡¿ç¯„åœ",
    var_range_desc: "æ»‘æ¡¿æ§åˆ¶é …ï¼Œåœ¨æŒ‡å®šç¯„åœå…§é¸æ“‡æ•¸å€¼",
    var_tel: "é›»è©±è™Ÿç¢¼",
    var_tel_desc: "é›»è©±è™Ÿç¢¼æ ¼å¼çš„è¼¸å…¥æ¡†",
    var_time: "æ™‚é–“é¸æ“‡",
    var_time_desc: "æ™‚é–“é¸æ“‡å™¨ï¼Œä¸åŒ…å«æ—¥æœŸ",
    var_url: "ç¶²å€é€£çµ",
    var_url_desc: "URLæ ¼å¼é©—è­‰çš„è¼¸å…¥æ¡†",
    var_map: "åœ°åœ–åº§æ¨™",
    var_map_desc: "äº’å‹•å¼åœ°åœ–ä»‹é¢ï¼Œé¸æ“‡åœ°ç†åº§æ¨™ï¼ˆå¯¦é©—æ€§åŠŸèƒ½ï¼‰",
    var_table_type: "é¡å‹",
    var_table_desc: "èªªæ˜",
    var_table_props: "å±¬æ€§",
    var_table_example: "ç¯„ä¾‹",
    // Constants - System Variables
    sys_clipboard: "å‰ªè²¼ç°¿å…§å®¹",
    sys_clipboard_desc: "å–å¾—ä½¿ç”¨è€…å‰ªè²¼ç°¿ä¸­çš„æ–‡å­—å…§å®¹",
    sys_clipboard_note: "éœ€è¦ä½¿ç”¨è€…æ‰‹å‹•å•Ÿç”¨å‰ªè²¼ç°¿å­˜å–åŠŸèƒ½",
    // Placeholders
    placeholder_1: "åˆ¥çŸœæŒäº†ï¼Œå¿«å•æˆ‘é»å•¥ï¼",
    placeholder_2: "æ‚¨çš„å°ˆå±¬æ™ºæ…§å·²ä¸Šç·šï¼Œè«‹éš¨æ„èª¿æˆ²~",
    placeholder_3: "å®ï¼é€™è£¡æœ‰å€‹AIåœ¨ç­‰æŠ•é¤µå•é¡Œâ€¦",
    placeholder_4: "é–‹å§‹ä½ çš„éˆé­‚æ‹·å•å§ï¼(æˆ–è€…éš¨ä¾¿èŠèŠä¹Ÿè¡Œ)",
    placeholder_5: "æ­£åœ¨é€£æ¥å®‡å®™çŸ¥è­˜åº«â€¦ å¥½äº†ï¼Œæ‚¨èªªï¼",
    placeholder_6: "å·´å±±å¤œé›¨æ¼²ç§‹æ± â€¦ æ‚¨æœ‰ä½•äº‹ç›¸è©¢ï¼Ÿ",
    placeholder_7: "éœå€™ä½³éŸ³ï¼Œæ´—è€³æ­è½ã€‚",
    placeholder_8: "æ€ç·’å¦‚é¢¨ï¼Œè«‹åœ¨æ­¤åˆ»é§è¶³â€¦",
    placeholder_9: "åœ¨å—ï¼Ÿ",
    placeholder_10: "AIå¾…å‘½ä¸­ï¼Œè«‹æŒ‡ç¤ºï¼",
    placeholder_11: "æ€è€ƒä¸­â€¦ (å‡è£å¾ˆå¿™)",
    placeholder_12: "æ‚¨å¥½ï¼Œé€™è£¡æ˜¯ä¸æœƒæ‰ç·šçš„AIå®¢æœã€‚",
    placeholder_13: "è«‹è¼¸å…¥æ‚¨çš„å¥‡æ€å¦™æƒ³â€¦",
    placeholder_14: "æ€ç¶­ä»‹é¢å·²å°±ç·’ï¼Œè«‹å‚³è¼¸æŒ‡ä»¤ã€‚",
    placeholder_15: "æ¢ç´¢æœªçŸ¥ï¼Ÿè§£æƒ‘ç­”ç–‘ï¼Ÿæˆ‘æº–å‚™å¥½äº†ã€‚",
    // UI Components
    auto_fill: "è‡ªå‹•å¡«å…¥",
    title_content_required: "æ¨™é¡Œå’Œå…§å®¹ä¸èƒ½ç‚ºç©ºï¼",
    category_required: "è«‹é¸æ“‡ä¸€å€‹åˆ†é¡ï¼",
    prompt_updated: "æç¤ºè©æ›´æ–°æˆåŠŸï¼",
    prompt_created: "æç¤ºè©å»ºç«‹æˆåŠŸï¼",
    save_failed: "å„²å­˜å¤±æ•—: ",
    confirm_delete_title: "ç¢ºèªåˆªé™¤",
    confirm_delete_prompt_message: 'ç¢ºèªåˆªé™¤æç¤ºè© "{title}" å—ï¼Ÿ\\n\\næ³¨æ„ï¼šé€™å°‡å¾æœ¬åœ°å’Œ OpenWebUI ä¸­åˆªé™¤è©²æç¤ºè©ã€‚',
    prompt_deleted: "âœ… æç¤ºè©å·²åˆªé™¤",
    delete_failed: "åˆªé™¤å¤±æ•—: ",
    prompt_not_found: "æœªæ‰¾åˆ°è¦åˆªé™¤çš„æç¤ºè©",
    update_category_failed: "æ›´æ–°åˆ†é¡å¤±æ•—: ",
    category_name_required: "åˆ†é¡åç¨±ä¸èƒ½ç‚ºç©ºï¼",
    confirm_delete_category: "ç¢ºèªåˆªé™¤é€™å€‹åˆ†é¡å—ï¼Ÿåˆ†é¡ä¸‹çš„æç¤ºè©å°‡è®Šç‚ºã€Œæœªåˆ†é¡ã€ã€‚",
    import_export_prompt: "è«‹é¸æ“‡æ“ä½œï¼š\\n1. åŒ¯å…¥æç¤ºè©\\n2. åŒ¯å‡ºæç¤ºè©\\n3. å–æ¶ˆ\\n\\nè«‹è¼¸å…¥æ•¸å­— (1-3):",
    import_prompts: "åŒ¯å…¥æç¤ºè©",
    export_prompts: "åŒ¯å‡ºæç¤ºè©",
    found_prompts_import_confirm: "ç™¼ç¾ {count} å€‹æç¤ºè©ã€‚\\næ˜¯å¦ç¹¼çºŒåŒ¯å…¥ï¼Ÿ",
    import_success_message: "åŒ¯å…¥å®Œæˆï¼\\næˆåŠŸåŒ¯å…¥ {imported} å€‹æ–°æç¤ºè©ã€‚\\nè·³é {skipped} å€‹é‡è¤‡æç¤ºè©ã€‚",
    invalid_file_format: "ç„¡æ•ˆçš„æª”æ¡ˆæ ¼å¼",
    file_parse_failed: "æª”æ¡ˆè§£æå¤±æ•—: ",
    describe_func_placeholder: "è«‹æè¿°æ‚¨å¸Œæœ›æç¤ºè©å¯¦ç¾çš„åŠŸèƒ½",
    generation_failed_retry: "ç”Ÿæˆå¤±æ•—ï¼Œè«‹é‡è©¦",
    generation_error: "ç”Ÿæˆéç¨‹å‡ºéŒ¯: ",
    generated_preview_title: "ğŸ¯ ç”Ÿæˆçš„æç¤ºè©é è¦½",
    title_label: "æ¨™é¡Œï¼š",
    content_label: "å…§å®¹ï¼š",
    category_label: "åˆ†é¡ï¼š",
    command_label: "å‘½ä»¤ï¼š",
    quality_score_label: "å“è³ªè©•åˆ†ï¼š",
    errors_label: "âŒ éŒ¯èª¤",
    warnings_label: "âš ï¸ è­¦å‘Š",
    suggestions_label: "ğŸ’¡ å»ºè­°",
    content_meets_requirements: "ç”Ÿæˆå…§å®¹ç¬¦åˆè¦æ±‚ï¼",
    accept_result: "æ¥å—çµæœ",
    regenerate: "é‡æ–°ç”Ÿæˆ",
    manual_edit: "æ‰‹å‹•ç·¨è¼¯",
    synced_to_form_hint: "å·²åŒæ­¥åˆ°å·¦å´è¡¨å–®ï¼Œå¯ç›´æ¥é è¦½æˆ–ä¿®æ”¹å¾Œé»æ“Šå„²å­˜ã€‚",
    ai_prompt_saved: "âœ… AIç”Ÿæˆçš„æç¤ºè©å·²æˆåŠŸå„²å­˜ï¼",
    no_retry_record: "æ²’æœ‰å¯ä¾›é‡æ–°ç”Ÿæˆçš„è¨˜éŒ„ï¼Œè«‹å…ˆç”Ÿæˆä¸€æ¬¡ã€‚",
    search_select_model_placeholder: "æœå°‹æˆ–é¸æ“‡æ¨¡å‹...",
    no_models_available: "æš«ç„¡å¯ç”¨æ¨¡å‹",
    load_failed_refresh: "è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†",
    fill_title_content: "è«‹å…ˆå¡«å¯«æ¨™é¡Œå’Œå…§å®¹",
    prompt_preview_title: "æç¤ºè©é è¦½ - ",
    edit_prompt_title: "ç·¨è¼¯æç¤ºè©",
    new_prompt_title: "æ–°å»ºæç¤ºè©",
    unknown_model: "æœªçŸ¥æ¨¡å‹",
    offline: "é›¢ç·š",
    prompt_editor_title: "æç¤ºè©ç·¨è¼¯å™¨",
    workspace: "å·¥ä½œå€",
    ai_mode: "AI æ¨¡å¼",
    manual_mode: "æ‰‹å‹•æ¨¡å¼",
    preview: "é è¦½",
    ai_generate_title: "AI ç”Ÿæˆæç¤ºè©",
    ai_generate_subtitle: "æè¿°æ‚¨çš„éœ€æ±‚ï¼ŒAI å°‡ç‚ºæ‚¨ç”Ÿæˆæç¤ºè©",
    ai_model: "AI æ¨¡å‹",
    func_description: "åŠŸèƒ½æè¿°",
    placeholder_1: "åˆ¥å®¢æ°£ï¼Œå•æˆ‘é»ä»€éº¼å§ï¼",
    placeholder_2: "æ‚¨çš„å°ˆå±¬æ™ºæ…§å·²ä¸Šç·šï¼Œæ­¡è¿éš¨æ„äº’å‹•ï½",
    placeholder_3: "å®ï¼é€™è£¡æœ‰å€‹AIåœ¨ç­‰æ‚¨æŠ•é¤µå•é¡Œ...",
    placeholder_4: "é–‹å§‹æ‚¨çš„éˆé­‚æ‹·å•å§ï¼(æˆ–è€…éš¨ä¾¿èŠèŠä¹Ÿè¡Œ)",
    placeholder_5: "æ­£åœ¨é€£æ¥å®‡å®™çŸ¥è­˜åº«... å¥½äº†ï¼Œè«‹èªªï¼",
    placeholder_6: "æœ‰ä»€éº¼æˆ‘å¯ä»¥å¹«æ‚¨çš„å—ï¼Ÿ",
    placeholder_7: "éœå€™ä½³éŸ³ï¼Œæ´—è€³æ­è½ã€‚",
    placeholder_8: "æ€ç·’å¦‚é¢¨ï¼Œè«‹åœ¨æ­¤åˆ»é§è¶³...",
    placeholder_9: "åœ¨å—ï¼Ÿ",
    placeholder_10: "AIå¾…å‘½ä¸­ï¼Œè«‹æŒ‡ç¤ºï¼",
    placeholder_11: "æ€è€ƒä¸­... (å‡è£å¾ˆå¿™)",
    placeholder_12: "æ‚¨å¥½ï¼Œé€™è£¡æ˜¯æ°¸é åœ¨ç·šçš„AIå®¢æœã€‚",
    placeholder_13: "è«‹è¼¸å…¥æ‚¨çš„å¥‡æ€å¦™æƒ³...",
    placeholder_14: "æ€ç¶­æ¥å£å·²å°±ç·’ï¼Œè«‹å‚³è¼¸æŒ‡ä»¤ã€‚",
    placeholder_15: "æ¢ç´¢æœªçŸ¥ï¼Ÿè§£æƒ‘ç­”ç–‘ï¼Ÿæˆ‘æº–å‚™å¥½äº†ã€‚",
    func_desc_placeholder: "æè¿°æ‚¨å¸Œæœ›æç¤ºè©å¯¦ç¾çš„åŠŸèƒ½...",
    func_desc_hint: "ä¾‹å¦‚ï¼šå¹«æˆ‘å¯«ä¸€ç¯‡é—œæ–¼äººå·¥æ™ºæ…§ç™¼å±•çš„æ–‡ç« ...",
    use_clipboard: "ä½¿ç”¨å‰ªè²¼ç°¿å…§å®¹",
    clipboard_note: "å°‡å‰ªè²¼ç°¿å…§å®¹ä½œç‚ºä¸Šä¸‹æ–‡",
    generate_btn: "ç”Ÿæˆ",
    generating: "ç”Ÿæˆä¸­...",
    generate_hint: "AIç”Ÿæˆå¯èƒ½ä¸æº–ç¢ºï¼Œè«‹äººå·¥æ ¸å°",
    prompt_details: "æç¤ºè©è©³æƒ…",
    prompt_details_subtitle: "æ‰‹å‹•ç·¨è¼¯æç¤ºè©å…§å®¹",
    title: "æ¨™é¡Œ",
    title_placeholder: "è¼¸å…¥æç¤ºè©æ¨™é¡Œ...",
    content: "å…§å®¹",
    content_placeholder: "è¼¸å…¥æç¤ºè©å…§å®¹ï¼Œæ”¯æ´è®Šæ•¸...",
    common_types: "å¸¸ç”¨è®Šæ•¸é¡å‹",
    variable_syntax_help: "è®Šæ•¸èªæ³•èªªæ˜",
    live_preview: "å³æ™‚é è¦½",
    variable_highlight: "è®Šæ•¸é«˜äº®",
    untitled: "æœªå‘½å",
    no_content: "ç„¡å…§å®¹",
    switch_model_failed: "åˆ‡æ›æ¨¡å‹å¤±æ•—: ",
    switched_to: "å·²åˆ‡æ›åˆ°: ",
    get_template_failed: "å–å¾—æ¨¡æ¿å¤±æ•—: ",
    ai_api_unavailable: "AI API ä¸å¯ç”¨",
    no_prompts: "æš«ç„¡æç¤ºè©",
    no_prompts_hint: "é»æ“Šã€Œ+ã€æŒ‰éˆ•ï¼Œå»ºç«‹ä½ çš„ç¬¬ä¸€å€‹æç¤ºè©ï¼",
    help_simple_var: "ç°¡å–®æ–‡å­—è®Šæ•¸",
    help_typed_var: "æŒ‡å®šè®Šæ•¸é¡å‹",
    help_prop_var: "å¸¶å±¬æ€§çš„è®Šæ•¸",
    help_example_name: "è¼¸å…¥å§“å",
    help_example_high: "é«˜",
    help_example_medium: "ä¸­",
    help_example_low: "ä½",
    strict_naming_rules: `ã€é‡è¦ï¼šåš´æ ¼å‘½åè¦ç¯„ã€‘
ç”Ÿæˆçš„å‘½ä»¤åç¨±å¿…é ˆåš´æ ¼éµå®ˆä»¥ä¸‹è¦å‰‡ï¼š
1. åªèƒ½åŒ…å«ï¼šè‹±æ–‡å­—æ¯(a-z, A-Z)ã€æ•¸å­—(0-9)ã€ä¸­ç·š(-)å’Œåº•ç·š(_)
2. çµ•å°ç¦æ­¢ä½¿ç”¨ï¼šç©ºæ ¼ã€é»(.)ã€æ–œç·š(/)ç­‰å…¶ä»–ç‰¹æ®Šå­—å…ƒ
3. æ ¼å¼è¦æ±‚ï¼šå°å¯«å­—æ¯é–‹é ­ï¼Œå¤šè©ç”¨åˆ†éš”ç¬¦è™Ÿé€£æ¥
4. é•·åº¦ï¼š2-30å€‹å­—å…ƒ
5. ç¯„ä¾‹ï¼šdata-analysis, user_report, task-manager`,
    variable_syntax_rules: 'ã€é‡è¦ï¼šè®Šæ•¸èªæ³•è¦ç¯„ã€‘\næ‰€æœ‰è®Šæ•¸å±¬æ€§å¿…é ˆä½¿ç”¨ "property=value" çš„æ ¼å¼ï¼Œç‰¹åˆ¥æ˜¯ "default" å±¬æ€§ã€‚\n1.  **æ­£ç¢ºèªæ³•**: `{{è®Šæ•¸å | é¡å‹:default="é è¨­å€¼"}}`\n2.  **éŒ¯èª¤èªæ³•**: `{{è®Šæ•¸å | é¡å‹ | é è¨­å€¼}}`\n\n**ç¯„ä¾‹**:\n-   **æ–‡å­—é¡å‹**:\n    -   âœ… æ­£ç¢º: `{{topic | text:default="å‡½æ•¸"}}`\n    -   âŒ éŒ¯èª¤: `{{topic | text | å‡½æ•¸}}`\n-   **æ•¸å­—é¡å‹**:\n    -   âœ… æ­£ç¢º: `{{count | number:default=5}}`\n    -   âŒ éŒ¯èª¤: `{{count | number:5}}`\n-   **ä¸‹æ‹‰é¸æ“‡é¡å‹**:\n    -   âœ… æ­£ç¢º: `{{priority | select:options=["é«˜","ä¸­","ä½"]:default="ä¸­"}}`\n    -   âŒ éŒ¯èª¤: `{{priority | select | ["é«˜","ä¸­","ä½"]}}`',
    available_variables_intro: `ã€é‡è¦ï¼šå¯ç”¨çš„è®Šæ•¸é¡å‹å’Œåƒæ•¸ã€‘
ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è®Šæ•¸é¡å‹ä¾†å»ºç«‹åŠŸèƒ½è±å¯Œçš„æç¤ºè©è¡¨å–®ã€‚è«‹åœ¨ç”Ÿæˆæ™‚éˆæ´»é‹ç”¨ã€‚`,
    operation_failed: "æ“ä½œå¤±æ•—: ",
    attempt_count: "å˜—è©¦ {n} æ¬¡",
    errors_prefix: "\\néŒ¯èª¤: ",
    warnings_prefix: "\\nè­¦å‘Š: ",
    score_prefix: "\\nè©•åˆ†: ",
    use_clipboard_hint: "å°‡å‰ªè²¼ç°¿å…§å®¹ä½œç‚ºä¸Šä¸‹æ–‡è³‡è¨Š",
    step_generating: "ç”Ÿæˆä¸­",
    step_validating: "é©—è­‰ä¸­",
    step_completed: "å®Œæˆ",
    ai_processing: "AI æ­£åœ¨è™•ç†...",
    preview_placeholder: "åœ¨æ­¤è™•é è¦½ç”Ÿæˆçš„æç¤ºè©æ•ˆæœ",
    select_category: "é¸æ“‡åˆ†é¡",
    manual_edit_title: "æ‰‹å‹•ç·¨è¼¯æç¤ºè©",
    manual_edit_subtitle: "åœ¨æ­¤è™•å¾®èª¿ç”Ÿæˆçš„æç¤ºè©",
    supports_markdown: "æ”¯æ´ Markdown",
    variable_help: "è®Šæ•¸èªªæ˜",
    tags: "æ¨™ç±¤",
    tags_placeholder: "è¼¸å…¥æ¨™ç±¤ï¼Œç”¨é€—è™Ÿåˆ†éš”...",
    expand_ai: "å±•é–‹ AI åŠ©æ‰‹",
    collapse_ai: "æ‘ºç–Š AI åŠ©æ‰‹",
    wizard_step_ai: "AI ç”Ÿæˆ",
    wizard_step_edit: "ç·¨è¼¯å¾®èª¿",
    skip_to_edit: "è·³éåˆ°ç·¨è¼¯",
    back_to_ai: "è¿”å› AI ç”Ÿæˆ",
    save_prompt: "å„²å­˜æç¤ºè©",
    saving: "å„²å­˜ä¸­",
    // Shortcut Help
    shortcut_help_title: "å¿«é€Ÿéµèªªæ˜",
    shortcut_section_nav: "å°è¦½",
    shortcut_nav_desc: "â†‘/â†“: é¸æ“‡æç¤ºè©",
    shortcut_section_cat: "åˆ†é¡",
    shortcut_cat_desc: "â†/â†’: åˆ‡æ›åˆ†é¡",
    shortcut_section_open: "é–‹å•Ÿ",
    shortcut_open_desc_1: "Enter: æ’å…¥é¸å–çš„æç¤ºè©",
    shortcut_open_desc_2: "Esc: é—œé–‰é¢æ¿",
    // AI Generation Process
    generating_attempt: "æ­£åœ¨ç”Ÿæˆç¬¬ {attempt} æ¬¡å˜—è©¦...",
    validating_content: "æ­£åœ¨é©—è­‰ç”Ÿæˆå…§å®¹...",
    generation_success: "ç”ŸæˆæˆåŠŸï¼",
    validation_failed_retry: "é©—è­‰å¤±æ•—ï¼Œæº–å‚™é‡è©¦... (å¾—åˆ†: {score}%)",
    all_retries_failed: "æ‰€æœ‰é‡è©¦å‡å¤±æ•—",
    generation_error_msg: "ç”ŸæˆéŒ¯èª¤: {message}",
    fix_variable_syntax: "ä¿®å¾©è®Šæ•¸èªæ³•",
    check_variable_syntax: "æª¢æŸ¥æ‰€æœ‰ {{}} è®Šæ•¸çš„æ ¼å¼æ˜¯å¦æ­£ç¢º",
    improve_title: "æœ€ä½³åŒ–æ¨™é¡Œ",
    add_title: "æ–°å¢æˆ–ä¿®æ”¹æç¤ºè©æ¨™é¡Œ",
    supplement_content: "è£œå……å…§å®¹",
    add_content: "æ–°å¢æ›´è©³ç´°çš„æç¤ºè©å…§å®¹",
    simplify_content: "ç°¡åŒ–å…§å®¹",
    shorten_content: "ç§»é™¤ä¸å¿…è¦çš„å…§å®¹ï¼Œä¿æŒç°¡æ½”"
  },
  ko: {
    // General
    search: "ê²€ìƒ‰",
    generate_image: "ì´ë¯¸ì§€ ìƒì„±",
    prompt: "í”„ë¡¬í”„íŠ¸",
    prompt_management: "í”„ë¡¬í”„íŠ¸ ê´€ë¦¬",
    prompt_management_tooltip: "í”„ë¡¬í”„íŠ¸ ê´€ë¦¬ (ìš°í´ë¦­í•˜ì—¬ ê´€ë¦¬ íŒ¨ë„ ì—´ê¸°)",
    close: "ë‹«ê¸°",
    copy: "ë³µì‚¬",
    delete: "ì‚­ì œ",
    edit: "í¸ì§‘",
    save: "ì €ì¥",
    cancel: "ì·¨ì†Œ",
    confirm: "í™•ì¸",
    import: "ê°€ì ¸ì˜¤ê¸°",
    export: "ë‚´ë³´ë‚´ê¸°",
    add: "ì¶”ê°€",
    create: "ìƒì„±",
    loading: "ë¡œë”© ì¤‘...",
    success: "ì„±ê³µ",
    error: "ì˜¤ë¥˜",
    warning: "ê²½ê³ ",
    info: "ì •ë³´",
    placeholder_1: "ë¶€ë„ëŸ¬ì›Œí•˜ì§€ ë§ê³  ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!",
    placeholder_2: "ë‹¹ì‹ ì˜ ì „ìš© AIê°€ ì˜¨ë¼ì¸ì…ë‹ˆë‹¤. í¸í•˜ê²Œ ì§ˆë¬¸í•˜ì„¸ìš”~",
    placeholder_3: "ë”©ë™! AIê°€ ë‹¹ì‹ ì˜ ì§ˆë¬¸ì„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤...",
    placeholder_4: "ì˜í˜¼ì„ ìš¸ë¦¬ëŠ” ì§ˆë¬¸ì„ ì‹œì‘í•´ë³´ì„¸ìš”! (ì•„ë‹ˆë©´ ê·¸ëƒ¥ ìˆ˜ë‹¤ë„ ì¢‹ì•„ìš”)",
    placeholder_5: "ìš°ì£¼ ì§€ì‹ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²° ì¤‘... ë§ì”€í•˜ì„¸ìš”!",
    placeholder_6: "ì˜¤ëŠ˜ì€ ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?",
    placeholder_7: "ëª…ë ¹ì„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.",
    placeholder_8: "ìƒê°ì€ ë°”ëŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì ì‹œ ë¨¸ë¬¼ëŸ¬ ë³´ì„¸ìš”...",
    placeholder_9: "ê³„ì‹ ê°€ìš”?",
    placeholder_10: "AI ëŒ€ê¸° ì¤‘, ì§€ì‹œë¥¼ ë‚´ë ¤ì£¼ì„¸ìš”!",
    placeholder_11: "ìƒê° ì¤‘... (ë°”ìœ ì²™ í•˜ëŠ” ì¤‘)",
    placeholder_12: "ì•ˆë…•í•˜ì„¸ìš”, ì ˆëŒ€ ëŠê¸°ì§€ ì•ŠëŠ” AI ì„œí¬íŠ¸ì…ë‹ˆë‹¤.",
    placeholder_13: "ê¸°ë°œí•œ ì•„ì´ë””ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”...",
    placeholder_14: "ë§ˆì¸ë“œ ì¸í„°í˜ì´ìŠ¤ ì¤€ë¹„ ì™„ë£Œ, ì§€ì‹œë¥¼ ì „ì†¡í•´ì£¼ì„¸ìš”.",
    placeholder_15: "ë¯¸ì§€ì˜ ì„¸ê³„ íƒí—˜? ê¶ê¸ˆì¦ í•´ê²°? ì¤€ë¹„ëìŠµë‹ˆë‹¤.",
    // Panel Manager
    quick_insert: "ë¹ ë¥¸ ì‚½ì…",
    new_prompt: "ìƒˆ í”„ë¡¬í”„íŠ¸",
    manage_prompts: "í”„ë¡¬í”„íŠ¸ ê´€ë¦¬",
    search_prompts_placeholder: "í”„ë¡¬í”„íŠ¸ ê²€ìƒ‰...",
    hint_inline: "âŒ˜/Ctrl+Shift+P ì—´ê¸° Â· â†‘/â†“ ì„ íƒ Â· Enter ì‚½ì… Â· Esc ë‹«ê¸° Â· â†/â†’ ì¹´í…Œê³ ë¦¬",
    category: "ì¹´í…Œê³ ë¦¬",
    add_category: "+ ì¹´í…Œê³ ë¦¬ ì¶”ê°€",
    new_category: "ìƒˆ ì¹´í…Œê³ ë¦¬",
    edit_category: "ì¹´í…Œê³ ë¦¬ í¸ì§‘",
    name: "ì´ë¦„",
    category_name_placeholder: "ì¹´í…Œê³ ë¦¬ ì´ë¦„ ì…ë ¥",
    icon: "ì•„ì´ì½˜",
    icon_emoji: "ì•„ì´ì½˜ (Emoji)",
    search_icon: "ì•„ì´ì½˜ ê²€ìƒ‰...",
    select_icon: "ì•„ì´ì½˜ ì„ íƒ",
    color: "ìƒ‰ìƒ",
    all_categories: "ì „ì²´",
    change_category: "ì¹´í…Œê³ ë¦¬ ë³€ê²½",
    uncategorized: "ë¯¸ë¶„ë¥˜",
    usage_count: "ì‚¬ìš©",
    created_at: "ìƒì„±ì¼",
    favorite: "ì¦ê²¨ì°¾ê¸°",
    search_model_placeholder: "ëª¨ë¸ ê²€ìƒ‰ ë˜ëŠ” ì„ íƒ...",
    no_models_found: "ì¼ì¹˜í•˜ëŠ” ëª¨ë¸ ì—†ìŒ",
    loading_models: "ğŸ”„ ëª¨ë¸ ë¡œë”© ì¤‘...",
    load_models_failed: "âŒ ë¡œë“œ ì‹¤íŒ¨",
    prev_page: "ì´ì „",
    next_page: "ë‹¤ìŒ",
    page_info: "{current} / {total} í˜ì´ì§€",
    // UI Components
    auto_fill: "ìë™ ì±„ìš°ê¸°",
    title_content_required: "ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!",
    category_required: "ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!",
    prompt_updated: "í”„ë¡¬í”„íŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!",
    prompt_created: "í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!",
    save_failed: "ì €ì¥ ì‹¤íŒ¨: ",
    confirm_delete_title: "ì‚­ì œ í™•ì¸",
    confirm_delete_prompt_message: `"{title}" í”„ë¡¬í”„íŠ¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ì°¸ê³ : ë¡œì»¬ ë° OpenWebUIì—ì„œ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤.`,
    prompt_deleted: "âœ… í”„ë¡¬í”„íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤",
    delete_failed: "ì‚­ì œ ì‹¤íŒ¨: ",
    prompt_not_found: "í”„ë¡¬í”„íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
    update_category_failed: "ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ",
    category_name_required: "ì¹´í…Œê³ ë¦¬ ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤!",
    confirm_delete_category: 'ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì¹´í…Œê³ ë¦¬ì˜ í”„ë¡¬í”„íŠ¸ëŠ” "ë¯¸ë¶„ë¥˜"ê°€ ë©ë‹ˆë‹¤.',
    import_export_prompt: `ì‘ì—…ì„ ì„ íƒí•˜ì„¸ìš”:
1. í”„ë¡¬í”„íŠ¸ ê°€ì ¸ì˜¤ê¸°
2. í”„ë¡¬í”„íŠ¸ ë‚´ë³´ë‚´ê¸°
3. ì·¨ì†Œ

ìˆ«ì ì…ë ¥ (1-3):`,
    import_prompts: "í”„ë¡¬í”„íŠ¸ ê°€ì ¸ì˜¤ê¸°",
    export_prompts: "í”„ë¡¬í”„íŠ¸ ë‚´ë³´ë‚´ê¸°",
    cancel: "ì·¨ì†Œ",
    delete: "ì‚­ì œ",
    found_prompts_import_confirm: `{count}ê°œì˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.
ê°€ì ¸ì˜¤ê¸°ë¥¼ ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,
    import_success_message: `ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ!
{imported}ê°œì˜ ìƒˆ í”„ë¡¬í”„íŠ¸ë¥¼ ì„±ê³µì ìœ¼ë¡œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.
{skipped}ê°œì˜ ì¤‘ë³µ í”„ë¡¬í”„íŠ¸ë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.`,
    invalid_file_format: "ì˜ëª»ëœ íŒŒì¼ í˜•ì‹",
    file_parse_failed: "íŒŒì¼ íŒŒì‹± ì‹¤íŒ¨: ",
    describe_func_placeholder: "í”„ë¡¬í”„íŠ¸ê°€ ìˆ˜í–‰í•  ê¸°ëŠ¥ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”",
    generation_failed_retry: "ìƒì„± ì‹¤íŒ¨, ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”",
    generation_error: "ìƒì„± ì˜¤ë¥˜: ",
    generated_preview_title: "ğŸ¯ ìƒì„±ëœ í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°",
    title_label: "ì œëª©: ",
    content_label: "ë‚´ìš©: ",
    category_label: "ì¹´í…Œê³ ë¦¬: ",
    command_label: "ëª…ë ¹: ",
    quality_score_label: "í’ˆì§ˆ ì ìˆ˜: ",
    errors_label: "âŒ ì˜¤ë¥˜",
    warnings_label: "âš ï¸ ê²½ê³ ",
    suggestions_label: "ğŸ’¡ ì œì•ˆ",
    content_meets_requirements: "ìƒì„±ëœ ë‚´ìš©ì´ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•©ë‹ˆë‹¤!",
    accept_result: "ê²°ê³¼ ìˆ˜ë½",
    regenerate: "ì¬ìƒì„±",
    manual_edit: "ìˆ˜ë™ í¸ì§‘",
    synced_to_form_hint: "ì™¼ìª½ ì–‘ì‹ì— ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì €ì¥í•˜ê¸° ì „ì— ë¯¸ë¦¬ ë³´ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    ai_prompt_saved: "âœ… AI ìƒì„± í”„ë¡¬í”„íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!",
    no_retry_record: "ì¬ìƒì„±í•  ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € í•œ ë²ˆ ìƒì„±í•´ì£¼ì„¸ìš”.",
    search_select_model_placeholder: "ëª¨ë¸ ê²€ìƒ‰ ë˜ëŠ” ì„ íƒ...",
    no_models_available: "ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë¸ ì—†ìŒ",
    load_failed_refresh: "ë¡œë“œ ì‹¤íŒ¨, ìƒˆë¡œ ê³ ì¹¨ í•´ì£¼ì„¸ìš”",
    fill_title_content: "ì œëª©ê³¼ ë‚´ìš©ì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”",
    prompt_preview_title: "í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸° - ",
    edit_prompt_title: "í”„ë¡¬í”„íŠ¸ í¸ì§‘",
    new_prompt_title: "ìƒˆ í”„ë¡¬í”„íŠ¸",
    unknown_model: "ì•Œ ìˆ˜ ì—†ëŠ” ëª¨ë¸",
    offline: "ì˜¤í”„ë¼ì¸",
    prompt_editor_title: "í”„ë¡¬í”„íŠ¸ í¸ì§‘ê¸°",
    workspace: "ì‘ì—… ê³µê°„",
    ai_mode: "AI ëª¨ë“œ",
    manual_mode: "ìˆ˜ë™ ëª¨ë“œ",
    preview: "ë¯¸ë¦¬ë³´ê¸°",
    ai_generate_title: "AI í”„ë¡¬í”„íŠ¸ ìƒì„±",
    ai_generate_subtitle: "ìš”êµ¬ ì‚¬í•­ì„ ì„¤ëª…í•˜ë©´ AIê°€ í”„ë¡¬í”„íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤",
    ai_model: "AI ëª¨ë¸",
    func_description: "ê¸°ëŠ¥ ì„¤ëª…",
    func_desc_placeholder: "í”„ë¡¬í”„íŠ¸ê°€ ìˆ˜í–‰í•  ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ì„¸ìš”...",
    func_desc_hint: "ì˜ˆ: AI ê°œë°œì— ê´€í•œ ê¸°ì‚¬ë¥¼ ì‘ì„±í•´ì¤˜...",
    use_clipboard: "í´ë¦½ë³´ë“œ ë‚´ìš© ì‚¬ìš©",
    clipboard_note: "í´ë¦½ë³´ë“œ ë‚´ìš©ì„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì‚¬ìš©",
    generate_btn: "ìƒì„±",
    generating: "ìƒì„± ì¤‘...",
    generate_hint: "AI ìƒì„±ì€ ë¶€ì •í™•í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìˆ˜ë™ìœ¼ë¡œ í™•ì¸í•´ì£¼ì„¸ìš”",
    prompt_details: "í”„ë¡¬í”„íŠ¸ ìƒì„¸",
    prompt_details_subtitle: "í”„ë¡¬í”„íŠ¸ ë‚´ìš© ìˆ˜ë™ í¸ì§‘",
    title: "ì œëª©",
    title_placeholder: "í”„ë¡¬í”„íŠ¸ ì œëª© ì…ë ¥...",
    content: "ë‚´ìš©",
    content_placeholder: "í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì…ë ¥, ë³€ìˆ˜ ì§€ì›...",
    common_types: "ì¼ë°˜ ë³€ìˆ˜ ìœ í˜•",
    variable_syntax_help: "ë³€ìˆ˜ ë¬¸ë²• ë„ì›€ë§",
    live_preview: "ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°",
    variable_highlight: "ë³€ìˆ˜ ê°•ì¡°",
    variable_syntax_title: "ë³€ìˆ˜ ë¬¸ë²• ê°€ì´ë“œ",
    basic_syntax: "ê¸°ë³¸ ë¬¸ë²•",
    common_variable_types: "ì¼ë°˜ ë³€ìˆ˜ ìœ í˜•",
    system_variables: "ì‹œìŠ¤í…œ ë³€ìˆ˜",
    clipboard_content: "í´ë¦½ë³´ë“œ ë‚´ìš©",
    untitled: "ì œëª© ì—†ìŒ",
    no_content: "ë‚´ìš© ì—†ìŒ",
    switch_model_failed: "ëª¨ë¸ ì „í™˜ ì‹¤íŒ¨: ",
    switched_to: "ì „í™˜ë¨: ",
    get_template_failed: "í…œí”Œë¦¿ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: ",
    ai_api_unavailable: "AI API ì‚¬ìš© ë¶ˆê°€",
    no_prompts: "í”„ë¡¬í”„íŠ¸ ì—†ìŒ",
    no_prompts_hint: '"+" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì²« ë²ˆì§¸ í”„ë¡¬í”„íŠ¸ë¥¼ ë§Œë“œì„¸ìš”!',
    help_simple_var: "ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ë³€ìˆ˜",
    help_typed_var: "ë³€ìˆ˜ ìœ í˜• ì§€ì •",
    help_prop_var: "ì†ì„±ì´ ìˆëŠ” ë³€ìˆ˜",
    help_example_name: "ì´ë¦„ ì…ë ¥",
    help_example_high: "ë†’ìŒ",
    help_example_medium: "ì¤‘ê°„",
    help_example_low: "ë‚®ìŒ",
    save_prompt: "í”„ë¡¬í”„íŠ¸ ì €ì¥",
    saving: "ì €ì¥ ì¤‘",
    wizard_step_ai: "AI ìƒì„±",
    wizard_step_edit: "í¸ì§‘ ë° ì¡°ì •",
    variable_help: "ë³€ìˆ˜ ë„ì›€ë§",
    shortcut_help_title: "ë‹¨ì¶•í‚¤ ë„ì›€ë§",
    // AI Generation Process
    generating_attempt: "{attempt}ë²ˆì§¸ ì‹œë„ ìƒì„± ì¤‘...",
    validating_content: "ìƒì„±ëœ ì½˜í…ì¸  ê²€ì¦ ì¤‘...",
    generation_success: "ìƒì„± ì„±ê³µ!",
    validation_failed_retry: "ê²€ì¦ ì‹¤íŒ¨, ì¬ì‹œë„ ì¤€ë¹„ ì¤‘... (ì ìˆ˜: {score}%)",
    all_retries_failed: "ëª¨ë“  ì¬ì‹œë„ ì‹¤íŒ¨",
    generation_error_msg: "ìƒì„± ì˜¤ë¥˜: {message}",
    fix_variable_syntax: "ë³€ìˆ˜ êµ¬ë¬¸ ìˆ˜ì •",
    check_variable_syntax: "ëª¨ë“  {{}} ë³€ìˆ˜ì˜ í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ì„¸ìš”",
    improve_title: "ì œëª© ê°œì„ ",
    add_title: "í”„ë¡¬í”„íŠ¸ ì œëª© ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •",
    supplement_content: "ë‚´ìš© ë³´ì¶©",
    add_content: "ë” ìì„¸í•œ í”„ë¡¬í”„íŠ¸ ë‚´ìš© ì¶”ê°€",
    simplify_content: "ë‚´ìš© ë‹¨ìˆœí™”",
    shorten_content: "ë¶ˆí•„ìš”í•œ ë‚´ìš©ì„ ì œê±°í•˜ê³  ê°„ê²°í•˜ê²Œ ìœ ì§€í•˜ì„¸ìš”",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI ë³€ìˆ˜ ë¬¸ë²•",
    basic_syntax: "ê¸°ë³¸ ë¬¸ë²•",
    common_variable_types: "ì¼ë°˜ ë³€ìˆ˜ ìœ í˜•",
    system_variables: "ì‹œìŠ¤í…œ ë³€ìˆ˜",
    clipboard_content: "í˜„ì¬ í´ë¦½ë³´ë“œ ë‚´ìš©",
    // Constants - Categories
    cat_writing: "ê¸€ì“°ê¸°",
    cat_writing_desc: "ê¸°ì‚¬, ì¹´í”¼ë¼ì´íŒ…, ì´ì•¼ê¸°, ëŒ€ë³¸ ë“±",
    cat_productivity: "ìƒì‚°ì„±",
    cat_productivity_desc: "ìš”ì•½, ê³„íš, ì´ë©”ì¼, ë³´ê³ ì„œ, ë²ˆì—­ ë“±",
    cat_learning: "í•™ìŠµ",
    cat_learning_desc: "ê°œë…, ì–¸ì–´, ì—°êµ¬ ë“±",
    cat_coding: "ì½”ë”©",
    cat_coding_desc: "ì•Œê³ ë¦¬ì¦˜, ë””ë²„ê¹…, API, ê°œë°œ ë“±",
    cat_data: "ë°ì´í„°",
    cat_data_desc: "ì •ì œ, ë¶„ì„, ì‹œê°í™” ë“±",
    cat_lifestyle: "ë¼ì´í”„ìŠ¤íƒ€ì¼",
    cat_lifestyle_desc: "ì—¬í–‰, ë ˆì‹œí”¼, ì•„ì´ë””ì–´, ë ˆì € ë“±",
    cat_roleplay: "ë¡¤í”Œë ˆì´",
    cat_roleplay_desc: "ìºë¦­í„°, ì‹œë®¬ë ˆì´ì…˜, ê²Œì„ ë“±",
    // Constants - Variable Types
    var_text: "í…ìŠ¤íŠ¸ ì…ë ¥",
    var_text_desc: "í‘œì¤€ í•œ ì¤„ í…ìŠ¤íŠ¸ ì…ë ¥",
    var_textarea: "í…ìŠ¤íŠ¸ ì˜ì—­",
    var_textarea_desc: "ì—¬ëŸ¬ ì¤„ í…ìŠ¤íŠ¸ ì˜ì—­",
    var_select: "ì„ íƒ",
    var_select_desc: "ë“œë¡­ë‹¤ìš´ ë©”ë‰´",
    var_number: "ìˆ«ì",
    var_number_desc: "ìˆ«ì ì…ë ¥",
    var_checkbox: "ì²´í¬ë°•ìŠ¤",
    var_checkbox_desc: "ë¶€ìš¸ ì„ íƒ",
    var_date: "ë‚ ì§œ",
    var_date_desc: "ë‚ ì§œ ì„ íƒê¸°",
    var_datetime_local: "ì¼ì‹œ",
    var_datetime_local_desc: "ë‚ ì§œ ë° ì‹œê°„ ì„ íƒê¸°",
    var_color: "ìƒ‰ìƒ",
    var_color_desc: "ìƒ‰ìƒ ì„ íƒê¸°",
    var_email: "ì´ë©”ì¼",
    var_email_desc: "ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥",
    var_month: "ì›”",
    var_month_desc: "ì›” ë° ì—°ë„ ì„ íƒê¸°",
    var_range: "ë²”ìœ„",
    var_range_desc: "ìŠ¬ë¼ì´ë” ì»¨íŠ¸ë¡¤",
    var_tel: "ì „í™”ë²ˆí˜¸",
    var_tel_desc: "ì „í™”ë²ˆí˜¸ ì…ë ¥",
    var_time: "ì‹œê°„",
    var_time_desc: "ì‹œê°„ ì„ íƒê¸°",
    var_url: "URL",
    var_url_desc: "URL ì…ë ¥",
    var_map: "ì§€ë„",
    var_map_desc: "ëŒ€í™”í˜• ì§€ë„ (ì‹¤í—˜ì )",
    var_table_type: "ìœ í˜•",
    var_table_desc: "ì„¤ëª…",
    var_table_props: "ì†ì„±",
    var_table_example: "ì˜ˆì‹œ",
    // Constants - System Variables
    sys_clipboard: "í´ë¦½ë³´ë“œ ë‚´ìš©",
    sys_clipboard_desc: "ì‚¬ìš©ì í´ë¦½ë³´ë“œì—ì„œ í…ìŠ¤íŠ¸ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°",
    sys_clipboard_note: "ì‚¬ìš©ì ê¶Œí•œ í•„ìš”",
    // UI Components (Supplementary)
    strict_naming_rules: `[ì¤‘ìš”: ì—„ê²©í•œ ëª…ëª… ê·œì¹™]
ìƒì„±ëœ ëª…ë ¹ ì´ë¦„ì€ ë‹¤ìŒ ê·œì¹™ì„ ì—„ê²©íˆ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤:
1. í—ˆìš© ë¬¸ì: ì˜ë¬¸ì(a-z, A-Z), ìˆ«ì(0-9), í•˜ì´í”ˆ(-), ë°‘ì¤„(_)
2. ì—„ê²©íˆ ê¸ˆì§€: ê³µë°±, ì (.), ìŠ¬ë˜ì‹œ(/) ë° ê¸°íƒ€ íŠ¹ìˆ˜ ë¬¸ì
3. í˜•ì‹: ì†Œë¬¸ìë¡œ ì‹œì‘, ì—¬ëŸ¬ ë‹¨ì–´ëŠ” êµ¬ë¶„ ê¸°í˜¸ë¡œ ì—°ê²°
4. ê¸¸ì´: 2-30ì
5. ì˜ˆì‹œ: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[ì¤‘ìš”: ë³€ìˆ˜ ë¬¸ë²• ê·œì¹™]\nëª¨ë“  ë³€ìˆ˜ ì†ì„±ì€ "property=value" í˜•ì‹ì„ ì‚¬ìš©í•´ì•¼ í•˜ë©°, íŠ¹íˆ "default" ì†ì„±ì´ ê·¸ë ‡ìŠµë‹ˆë‹¤.\n1.  **ì˜¬ë°”ë¥¸ ë¬¸ë²•**: `{{variable_name | type:default="value"}}`\n2.  **ì˜ëª»ëœ ë¬¸ë²•**: `{{variable_name | type | value}}`\n\n**ì˜ˆì‹œ**:\n-   **í…ìŠ¤íŠ¸ ìœ í˜•**:\n    -   âœ… ì˜¬ë°”ë¦„: `{{topic | text:default="function"}}`\n    -   âŒ í‹€ë¦¼: `{{topic | text | function}}`\n-   **ìˆ«ì ìœ í˜•**:\n    -   âœ… ì˜¬ë°”ë¦„: `{{count | number:default=5}}`\n    -   âŒ í‹€ë¦¼: `{{count | number:5}}`\n-   **ì„ íƒ ìœ í˜•**:\n    -   âœ… ì˜¬ë°”ë¦„: `{{priority | select:options=["High","Medium","Low"]:default="Medium"}}`\n    -   âŒ í‹€ë¦¼: `{{priority | select | ["High","Medium","Low"]}}`',
    available_variables_intro: `[ì¤‘ìš”: ì‚¬ìš© ê°€ëŠ¥í•œ ë³€ìˆ˜ ìœ í˜• ë° ì†ì„±]
ë‹¤ìŒ ë³€ìˆ˜ ìœ í˜•ì„ ì‚¬ìš©í•˜ì—¬ í’ë¶€í•œ í”„ë¡¬í”„íŠ¸ ì–‘ì‹ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„± ì‹œ ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”.`,
    operation_failed: "ì‘ì—… ì‹¤íŒ¨: ",
    update_category_failed: "ì¹´í…Œê³ ë¦¬ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ",
    attempt_count: "ì‹œë„ {n}",
    errors_prefix: "\\nì˜¤ë¥˜: ",
    warnings_prefix: "\\nê²½ê³ : ",
    score_prefix: "\\nì ìˆ˜: ",
    use_clipboard_hint: "í´ë¦½ë³´ë“œ ë‚´ìš©ì„ ì»¨í…ìŠ¤íŠ¸ë¡œ ì‚¬ìš©",
    step_generating: "ìƒì„± ì¤‘",
    step_validating: "ê²€ì¦ ì¤‘",
    step_completed: "ì™„ë£Œ",
    ai_processing: "AIê°€ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...",
    preview_placeholder: "ì—¬ê¸°ì—ì„œ ìƒì„±ëœ í”„ë¡¬í”„íŠ¸ ë¯¸ë¦¬ë³´ê¸°",
    select_category: "ì¹´í…Œê³ ë¦¬ ì„ íƒ",
    manual_edit_title: "í”„ë¡¬í”„íŠ¸ ìˆ˜ë™ í¸ì§‘",
    manual_edit_subtitle: "ì—¬ê¸°ì—ì„œ ìƒì„±ëœ í”„ë¡¬í”„íŠ¸ë¥¼ ë¯¸ì„¸ ì¡°ì •í•˜ì„¸ìš”",
    supports_markdown: "ë§ˆí¬ë‹¤ìš´ ì§€ì›",
    tags: "íƒœê·¸",
    tags_placeholder: "íƒœê·¸ ì…ë ¥, ì‰¼í‘œë¡œ êµ¬ë¶„...",
    expand_ai: "AI ë„ìš°ë¯¸ í¼ì¹˜ê¸°",
    collapse_ai: "AI ë„ìš°ë¯¸ ì ‘ê¸°",
    skip_to_edit: "í¸ì§‘ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°",
    back_to_ai: "AIë¡œ ëŒì•„ê°€ê¸°",
    // Shortcut Help
    shortcut_section_nav: "íƒìƒ‰",
    shortcut_nav_desc: "â†‘/â†“: í”„ë¡¬í”„íŠ¸ ì„ íƒ",
    shortcut_section_cat: "ì¹´í…Œê³ ë¦¬",
    shortcut_cat_desc: "â†/â†’: ì¹´í…Œê³ ë¦¬ ì „í™˜",
    shortcut_section_open: "ì—´ê¸°",
    shortcut_open_desc_1: "Enter: ì„ íƒí•œ í”„ë¡¬í”„íŠ¸ ì‚½ì…",
    shortcut_open_desc_2: "Esc: íŒ¨ë„ ë‹«ê¸°"
  },
  fr: {
    // General
    search: "Rechercher",
    generate_image: "GÃ©nÃ©rer Image",
    prompt: "Prompt",
    prompt_management: "Gestion des Prompts",
    prompt_management_tooltip: "Gestion des Prompts (Clic droit pour ouvrir)",
    close: "Fermer",
    copy: "Copier",
    delete: "Supprimer",
    edit: "Modifier",
    save: "Enregistrer",
    cancel: "Annuler",
    confirm: "Confirmer",
    import: "Importer",
    export: "Exporter",
    add: "Ajouter",
    create: "CrÃ©er",
    loading: "Chargement...",
    success: "SuccÃ¨s",
    error: "Erreur",
    warning: "Avertissement",
    info: "Info",
    placeholder_1: "Ne soyez pas timide, demandez-moi quelque chose !",
    placeholder_2: "Votre sagesse personnelle est en ligne, n'hÃ©sitez pas Ã  demander~",
    placeholder_3: "Ding ! Une IA attend votre question...",
    placeholder_4: "Commencez votre interrogation spirituelle ! (ou discutez simplement)",
    placeholder_5: "Connexion Ã  la base de donnÃ©es de l'univers... Allez-y !",
    placeholder_6: "Comment puis-je vous aider aujourd'hui ?",
    placeholder_7: "En attente de votre commande.",
    placeholder_8: "Les pensÃ©es sont comme le vent, faites une pause ici...",
    placeholder_9: "ÃŠtes-vous lÃ  ?",
    placeholder_10: "IA en attente, veuillez instruire !",
    placeholder_11: "RÃ©flexion... (je fais semblant d'Ãªtre occupÃ©)",
    placeholder_12: "Bonjour, ici le support IA qui ne se dÃ©connecte jamais.",
    placeholder_13: "Veuillez entrer vos idÃ©es fantaisistes...",
    placeholder_14: "Interface mentale prÃªte, veuillez transmettre les instructions.",
    placeholder_15: "Explorer l'inconnu ? RÃ©pondre aux doutes ? Je suis prÃªt.",
    // Panel Manager
    quick_insert: "Insertion Rapide",
    new_prompt: "Nouveau Prompt",
    manage_prompts: "GÃ©rer les Prompts",
    search_prompts_placeholder: "Rechercher des prompts...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Ouvrir Â· â†‘/â†“ Choisir Â· Enter InsÃ©rer Â· Esc Fermer Â· â†/â†’ CatÃ©gorie",
    category: "CatÃ©gorie",
    add_category: "+ Ajouter CatÃ©gorie",
    new_category: "Nouvelle CatÃ©gorie",
    edit_category: "Modifier CatÃ©gorie",
    name: "Nom",
    category_name_placeholder: "Nom de la catÃ©gorie",
    icon: "IcÃ´ne",
    icon_emoji: "IcÃ´ne (Emoji)",
    search_icon: "Rechercher une icÃ´ne...",
    select_icon: "SÃ©lectionner une icÃ´ne",
    color: "Couleur",
    all_categories: "Tout",
    change_category: "Changer CatÃ©gorie",
    uncategorized: "Non classÃ©",
    usage_count: "Utilisation",
    created_at: "CrÃ©Ã© le",
    favorite: "Favori",
    search_model_placeholder: "Rechercher un modÃ¨le...",
    no_models_found: "Aucun modÃ¨le trouvÃ©",
    loading_models: "ğŸ”„ Chargement des modÃ¨les...",
    load_models_failed: "âŒ Ã‰chec du chargement",
    prev_page: "PrÃ©cÃ©dent",
    next_page: "Suivant",
    page_info: "Page {current} / {total}",
    // UI Components
    auto_fill: "Remplissage Auto",
    title_content_required: "Le titre et le contenu sont requis !",
    category_required: "Veuillez choisir une catÃ©gorie !",
    prompt_updated: "Prompt mis Ã  jour !",
    prompt_created: "Prompt crÃ©Ã© !",
    save_failed: "Ã‰chec de l'enregistrement : ",
    confirm_delete_title: "Confirmer la suppression",
    confirm_delete_prompt_message: `Supprimer le prompt "{title}" ?

Note : Cela le supprimera localement et d'OpenWebUI.`,
    prompt_deleted: "âœ… Prompt supprimÃ©",
    delete_failed: "Ã‰chec de la suppression : ",
    prompt_not_found: "Prompt introuvable",
    update_category_failed: "Ã‰chec de la mise Ã  jour de la catÃ©gorie : ",
    category_name_required: "Le nom de la catÃ©gorie est requis !",
    confirm_delete_category: 'Voulez-vous vraiment supprimer cette catÃ©gorie ? Les prompts de cette catÃ©gorie deviendront "Non classÃ©".',
    import_export_prompt: `Veuillez sÃ©lectionner une action :
1. Importer des Prompts
2. Exporter des Prompts
3. Annuler

Entrez un nombre (1-3) :`,
    import_prompts: "Importer des Prompts",
    export_prompts: "Exporter des Prompts",
    cancel: "Annuler",
    delete: "Supprimer",
    found_prompts_import_confirm: `{count} prompts trouvÃ©s.
Voulez-vous continuer l'importation ?`,
    import_success_message: `Importation terminÃ©e !
{imported} nouveaux prompts importÃ©s avec succÃ¨s.
{skipped} prompts en double ignorÃ©s.`,
    invalid_file_format: "Format de fichier invalide",
    file_parse_failed: "Ã‰chec de l'analyse du fichier : ",
    describe_func_placeholder: "Veuillez dÃ©crire la fonction que vous souhaitez que le prompt rÃ©alise",
    generation_failed_retry: "Ã‰chec de la gÃ©nÃ©ration, veuillez rÃ©essayer",
    generation_error: "Erreur de gÃ©nÃ©ration : ",
    generated_preview_title: "ğŸ¯ AperÃ§u du Prompt GÃ©nÃ©rÃ©",
    title_label: "Titre : ",
    content_label: "Contenu : ",
    category_label: "CatÃ©gorie : ",
    command_label: "Commande : ",
    quality_score_label: "Score de QualitÃ© : ",
    errors_label: "âŒ Erreurs",
    warnings_label: "âš ï¸ Avertissements",
    suggestions_label: "ğŸ’¡ Suggestions",
    content_meets_requirements: "Le contenu gÃ©nÃ©rÃ© rÃ©pond aux exigences !",
    accept_result: "Accepter le RÃ©sultat",
    regenerate: "RÃ©gÃ©nÃ©rer",
    manual_edit: "Ã‰dition Manuelle",
    synced_to_form_hint: "SynchronisÃ© avec le formulaire Ã  gauche, vous pouvez prÃ©visualiser ou modifier avant d'enregistrer.",
    ai_prompt_saved: "âœ… Prompt gÃ©nÃ©rÃ© par IA enregistrÃ© avec succÃ¨s !",
    no_retry_record: "Aucun enregistrement Ã  rÃ©gÃ©nÃ©rer, veuillez d'abord gÃ©nÃ©rer une fois.",
    search_select_model_placeholder: "Rechercher ou sÃ©lectionner un modÃ¨le...",
    no_models_available: "Aucun modÃ¨le disponible",
    load_failed_refresh: "Ã‰chec du chargement, veuillez actualiser",
    fill_title_content: "Veuillez d'abord remplir le titre et le contenu",
    prompt_preview_title: "AperÃ§u du Prompt - ",
    edit_prompt_title: "Modifier le Prompt",
    new_prompt_title: "Nouveau Prompt",
    unknown_model: "ModÃ¨le Inconnu",
    offline: "Hors ligne",
    prompt_editor_title: "Ã‰diteur de Prompt",
    workspace: "Espace de Travail",
    ai_mode: "Mode IA",
    manual_mode: "Mode Manuel",
    preview: "AperÃ§u",
    ai_generate_title: "GÃ©nÃ©rer Prompt IA",
    ai_generate_subtitle: "DÃ©crivez vos besoins, l'IA gÃ©nÃ©rera le prompt pour vous",
    ai_model: "ModÃ¨le IA",
    func_description: "Description de la Fonction",
    func_desc_placeholder: "DÃ©crivez la fonction que vous souhaitez que le prompt rÃ©alise...",
    func_desc_hint: "Exemple : Aide-moi Ã  Ã©crire un article sur le dÃ©veloppement de l'IA...",
    use_clipboard: "Utiliser le Contenu du Presse-papiers",
    clipboard_note: "Utiliser le contenu du presse-papiers comme contexte",
    generate_btn: "GÃ©nÃ©rer",
    generating: "GÃ©nÃ©ration...",
    generate_hint: "La gÃ©nÃ©ration par IA peut Ãªtre inexacte, veuillez vÃ©rifier manuellement",
    prompt_details: "DÃ©tails du Prompt",
    prompt_details_subtitle: "Modifier manuellement le contenu du prompt",
    title: "Titre",
    title_placeholder: "Entrer le titre du prompt...",
    content: "Contenu",
    content_placeholder: "Entrer le contenu du prompt, supporte les variables...",
    common_types: "Types de Variables Courants",
    variable_syntax_help: "Aide Syntaxe Variables",
    live_preview: "AperÃ§u en Direct",
    variable_highlight: "Surlignage des Variables",
    variable_syntax_title: "Guide de Syntaxe des Variables",
    basic_syntax: "Syntaxe de Base",
    common_variable_types: "Types de Variables Courants",
    system_variables: "Variables SystÃ¨me",
    clipboard_content: "Contenu du Presse-papiers",
    untitled: "Sans titre",
    no_content: "Pas de contenu",
    switch_model_failed: "Ã‰chec du changement de modÃ¨le : ",
    switched_to: "PassÃ© Ã  : ",
    get_template_failed: "Ã‰chec de l'obtention du modÃ¨le : ",
    ai_api_unavailable: "API IA Indisponible",
    no_prompts: "Aucun prompt",
    no_prompts_hint: 'Cliquez sur le bouton "+" pour crÃ©er votre premier prompt !',
    help_simple_var: "Variable texte simple",
    help_typed_var: "SpÃ©cifier le type de variable",
    help_prop_var: "Variable avec propriÃ©tÃ©s",
    help_example_name: "Entrer Nom",
    help_example_high: "Haut",
    help_example_medium: "Moyen",
    help_example_low: "Bas",
    save_prompt: "Enregistrer le Prompt",
    saving: "Enregistrement...",
    wizard_step_ai: "GÃ©nÃ©ration AI",
    wizard_step_edit: "Ã‰dition & RÃ©glage",
    variable_help: "Aide Variables",
    shortcut_help_title: "Aide Raccourcis",
    // AI Generation Process
    generating_attempt: "GÃ©nÃ©ration de la tentative {attempt}...",
    validating_content: "Validation du contenu gÃ©nÃ©rÃ©...",
    generation_success: "GÃ©nÃ©ration rÃ©ussie !",
    validation_failed_retry: "Ã‰chec de la validation, prÃ©paration de la tentative... (Score : {score}%)",
    all_retries_failed: "Toutes les tentatives ont Ã©chouÃ©",
    generation_error_msg: "Erreur de gÃ©nÃ©ration : {message}",
    fix_variable_syntax: "Corriger la syntaxe des variables",
    check_variable_syntax: "VÃ©rifiez si le format de toutes les variables {{}} est correct",
    improve_title: "AmÃ©liorer le titre",
    add_title: "Ajouter ou modifier le titre du prompt",
    supplement_content: "ComplÃ©ter le contenu",
    add_content: "Ajouter un contenu de prompt plus dÃ©taillÃ©",
    simplify_content: "Simplifier le contenu",
    shorten_content: "Supprimer le contenu inutile, rester concis",
    // Variable Help
    variable_syntax_title: "ğŸ“– Syntaxe des Variables OpenWebUI",
    basic_syntax: "Syntaxe de Base",
    common_variable_types: "Types de Variables Courants",
    system_variables: "Variables SystÃ¨me",
    clipboard_content: "Contenu du Presse-papiers",
    // Constants - Categories
    cat_writing: "Ã‰criture",
    cat_writing_desc: "Articles, RÃ©daction, Histoires, ScÃ©narios, etc.",
    cat_productivity: "ProductivitÃ©",
    cat_productivity_desc: "RÃ©sumÃ©s, Plans, Emails, Rapports, Traduction, etc.",
    cat_learning: "Apprentissage",
    cat_learning_desc: "Concepts, Langues, Recherche, etc.",
    cat_coding: "Codage",
    cat_coding_desc: "Algorithmes, DÃ©bogage, APIs, DÃ©veloppement, etc.",
    cat_data: "DonnÃ©es",
    cat_data_desc: "Nettoyage, Analyse, Visualisation, etc.",
    cat_lifestyle: "Style de Vie",
    cat_lifestyle_desc: "Voyages, Recettes, IdÃ©es, Loisirs, etc.",
    cat_roleplay: "Jeu de RÃ´le",
    cat_roleplay_desc: "Personnages, Simulation, Jeux, etc.",
    // Constants - Variable Types
    var_text: "EntrÃ©e Texte",
    var_text_desc: "EntrÃ©e de texte standard sur une ligne",
    var_textarea: "Zone de Texte",
    var_textarea_desc: "Zone de texte multiligne",
    var_select: "SÃ©lection",
    var_select_desc: "Menu dÃ©roulant",
    var_number: "Nombre",
    var_number_desc: "EntrÃ©e numÃ©rique",
    var_checkbox: "Case Ã  Cocher",
    var_checkbox_desc: "SÃ©lection boolÃ©enne",
    var_date: "Date",
    var_date_desc: "SÃ©lecteur de date",
    var_datetime_local: "Date et Heure",
    var_datetime_local_desc: "SÃ©lecteur de date et heure",
    var_color: "Couleur",
    var_color_desc: "SÃ©lecteur de couleur",
    var_email: "Email",
    var_email_desc: "EntrÃ©e d'adresse email",
    var_month: "Mois",
    var_month_desc: "SÃ©lecteur de mois et annÃ©e",
    var_range: "Plage",
    var_range_desc: "ContrÃ´le par curseur",
    var_tel: "TÃ©lÃ©phone",
    var_tel_desc: "EntrÃ©e de numÃ©ro de tÃ©lÃ©phone",
    var_time: "Heure",
    var_time_desc: "SÃ©lecteur d'heure",
    var_url: "URL",
    var_url_desc: "EntrÃ©e URL",
    var_map: "Carte",
    var_map_desc: "Carte interactive (ExpÃ©rimental)",
    var_table_type: "Type",
    var_table_desc: "Description",
    var_table_props: "PropriÃ©tÃ©s",
    var_table_example: "Exemple",
    // Constants - System Variables
    sys_clipboard: "Contenu du Presse-papiers",
    sys_clipboard_desc: "Obtenir le contenu textuel du presse-papiers utilisateur",
    sys_clipboard_note: "NÃ©cessite la permission de l'utilisateur",
    // UI Components (Supplementary)
    strict_naming_rules: `[IMPORTANT : RÃ¨gles de Nommage Strictes]
Les noms de commandes gÃ©nÃ©rÃ©s doivent respecter strictement ces rÃ¨gles :
1. CaractÃ¨res autorisÃ©s : Lettres anglaises (a-z, A-Z), chiffres (0-9), tirets (-) et traits de soulignement (_)
2. STRICTEMENT INTERDIT : espaces, points (.), barres obliques (/) et autres caractÃ¨res spÃ©ciaux
3. Format : Commencer par une minuscule, relier les mots par des sÃ©parateurs
4. Longueur : 2-30 caractÃ¨res
5. Exemples : data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[IMPORTANT : RÃ¨gles de Syntaxe des Variables]\nToutes les propriÃ©tÃ©s de variables doivent utiliser le format "property=value", en particulier la propriÃ©tÃ© "default".\n1.  **Syntaxe Correcte** : `{{variable_name | type:default="value"}}`\n2.  **Syntaxe Incorrecte** : `{{variable_name | type | value}}`\n\n**Exemples** :\n-   **Type Texte** :\n    -   âœ… Correct : `{{topic | text:default="fonction"}}`\n    -   âŒ Incorrect : `{{topic | text | fonction}}`\n-   **Type Nombre** :\n    -   âœ… Correct : `{{count | number:default=5}}`\n    -   âŒ Incorrect : `{{count | number:5}}`\n-   **Type SÃ©lection** :\n    -   âœ… Correct : `{{priority | select:options=["Haut","Moyen","Bas"]:default="Moyen"}}`\n    -   âŒ Incorrect : `{{priority | select | ["Haut","Moyen","Bas"]}}`',
    available_variables_intro: `[IMPORTANT : Types de Variables et PropriÃ©tÃ©s Disponibles]
Vous pouvez utiliser les types de variables suivants pour crÃ©er des formulaires de prompt riches. Veuillez les utiliser de maniÃ¨re flexible lors de la gÃ©nÃ©ration.`,
    operation_failed: "Ã‰chec de l'opÃ©ration : ",
    update_category_failed: "Ã‰chec de la mise Ã  jour de la catÃ©gorie : ",
    attempt_count: "Tentative {n}",
    errors_prefix: "\\nErreurs : ",
    warnings_prefix: "\\nAvertissements : ",
    score_prefix: "\\nScore : ",
    use_clipboard_hint: "Utiliser le contenu du presse-papiers comme contexte",
    step_generating: "GÃ©nÃ©ration",
    step_validating: "Validation",
    step_completed: "TerminÃ©",
    ai_processing: "L'IA traite votre demande...",
    preview_placeholder: "AperÃ§u du prompt gÃ©nÃ©rÃ© ici",
    select_category: "SÃ©lectionner CatÃ©gorie",
    manual_edit_title: "Ã‰dition Manuelle du Prompt",
    manual_edit_subtitle: "Affinez le prompt gÃ©nÃ©rÃ© ici",
    supports_markdown: "Supporte Markdown",
    tags: "Tags",
    tags_placeholder: "Entrer des tags, sÃ©parÃ©s par des virgules...",
    expand_ai: "Ã‰tendre l'Assistant IA",
    collapse_ai: "RÃ©duire l'Assistant IA",
    skip_to_edit: "Passer Ã  l'Ã©dition",
    back_to_ai: "Retour Ã  l'IA",
    // Shortcut Help
    shortcut_section_nav: "Navigation",
    shortcut_nav_desc: "â†‘/â†“ : SÃ©lectionner Prompt",
    shortcut_section_cat: "CatÃ©gories",
    shortcut_cat_desc: "â†/â†’ : Changer CatÃ©gorie",
    shortcut_section_open: "Ouvrir",
    shortcut_open_desc_1: "EntrÃ©e : InsÃ©rer Prompt SÃ©lectionnÃ©",
    shortcut_open_desc_2: "Ã‰chap : Fermer Panneau"
  },
  es: {
    // General
    search: "Buscar",
    placeholder_1: "Â¡No seas tÃ­mido, pregÃºntame algo!",
    placeholder_2: "Tu sabidurÃ­a personal estÃ¡ en lÃ­nea, siÃ©ntete libre de preguntar~",
    placeholder_3: "Â¡Ding! Una IA estÃ¡ esperando tu pregunta...",
    placeholder_4: "Â¡Comienza tu interrogatorio del alma! (o simplemente charla)",
    placeholder_5: "Conectando con la base de datos del universo... Â¡Adelante!",
    placeholder_6: "Â¿CÃ³mo puedo ayudarte hoy?",
    placeholder_7: "Esperando tu comando.",
    placeholder_8: "Los pensamientos son como el viento, haz una pausa aquÃ­...",
    placeholder_9: "Â¿EstÃ¡s ahÃ­?",
    placeholder_10: "IA en espera, Â¡por favor instruye!",
    placeholder_11: "Pensando... (fingiendo estar ocupado)",
    placeholder_12: "Hola, este es el soporte de IA que nunca se desconecta.",
    placeholder_13: "Por favor ingresa tus ideas caprichosas...",
    placeholder_14: "Interfaz mental lista, por favor transmite instrucciones.",
    placeholder_15: "Â¿Explorar lo desconocido? Â¿Resolver dudas? Estoy listo.",
    generate_image: "Generar Imagen",
    prompt: "Prompt",
    prompt_management: "GestiÃ³n de Prompts",
    prompt_management_tooltip: "GestiÃ³n de Prompts (Clic derecho para abrir)",
    close: "Cerrar",
    copy: "Copiar",
    delete: "Eliminar",
    edit: "Editar",
    save: "Guardar",
    cancel: "Cancelar",
    confirm: "Confirmar",
    import: "Importar",
    export: "Exportar",
    add: "AÃ±adir",
    create: "Crear",
    loading: "Cargando...",
    success: "Ã‰xito",
    error: "Error",
    warning: "Advertencia",
    info: "InformaciÃ³n",
    // Panel Manager
    quick_insert: "InserciÃ³n RÃ¡pida",
    new_prompt: "Nuevo Prompt",
    manage_prompts: "Gestionar Prompts",
    search_prompts_placeholder: "Buscar prompts...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Abrir Â· â†‘/â†“ Elegir Â· Enter Insertar Â· Esc Cerrar Â· â†/â†’ CategorÃ­a",
    category: "CategorÃ­a",
    add_category: "+ AÃ±adir CategorÃ­a",
    new_category: "Nueva CategorÃ­a",
    edit_category: "Editar CategorÃ­a",
    name: "Nombre",
    category_name_placeholder: "Nombre de la categorÃ­a",
    icon: "Icono",
    icon_emoji: "Icono (Emoji)",
    search_icon: "Buscar icono...",
    select_icon: "Seleccionar icono",
    color: "Color",
    all_categories: "Todo",
    change_category: "Cambiar CategorÃ­a",
    uncategorized: "Sin categorÃ­a",
    usage_count: "Uso",
    created_at: "Creado el",
    favorite: "Favorito",
    search_model_placeholder: "Buscar modelo...",
    no_models_found: "No se encontraron modelos",
    loading_models: "ğŸ”„ Cargando modelos...",
    load_models_failed: "âŒ Error al cargar",
    prev_page: "Anterior",
    next_page: "Siguiente",
    page_info: "PÃ¡gina {current} / {total}",
    // UI Components
    auto_fill: "Autocompletar",
    title_content_required: "Â¡El tÃ­tulo y el contenido son obligatorios!",
    category_required: "Â¡Por favor, elija una categorÃ­a!",
    prompt_updated: "Â¡Prompt actualizado!",
    prompt_created: "Â¡Prompt creado!",
    save_failed: "Error al guardar: ",
    confirm_delete_title: "Confirmar eliminaciÃ³n",
    confirm_delete_prompt_message: `Â¿Eliminar el prompt "{title}"?

Nota: Se eliminarÃ¡ localmente y de OpenWebUI.`,
    prompt_deleted: "âœ… Prompt eliminado",
    delete_failed: "Error al eliminar: ",
    prompt_not_found: "Prompt no encontrado",
    update_category_failed: "Error al actualizar categorÃ­a: ",
    category_name_required: "Â¡El nombre de la categorÃ­a es obligatorio!",
    confirm_delete_category: 'Â¿EstÃ¡ seguro de que desea eliminar esta categorÃ­a? Los prompts bajo esta categorÃ­a pasarÃ¡n a "Sin categorÃ­a".',
    import_export_prompt: `Por favor seleccione una acciÃ³n:
1. Importar Prompts
2. Exportar Prompts
3. Cancelar

Ingrese un nÃºmero (1-3):`,
    import_prompts: "Importar Prompts",
    export_prompts: "Exportar Prompts",
    cancel: "Cancelar",
    delete: "Eliminar",
    found_prompts_import_confirm: `Se encontraron {count} prompts.
Â¿Desea continuar importando?`,
    import_success_message: `Â¡ImportaciÃ³n completada!
Se importaron exitosamente {imported} nuevos prompts.
Se omitieron {skipped} prompts duplicados.`,
    invalid_file_format: "Formato de archivo invÃ¡lido",
    file_parse_failed: "Error al analizar archivo: ",
    describe_func_placeholder: "Por favor describa la funciÃ³n que desea que el prompt realice",
    generation_failed_retry: "GeneraciÃ³n fallida, por favor reintente",
    generation_error: "Error de generaciÃ³n: ",
    generated_preview_title: "ğŸ¯ Vista Previa del Prompt Generado",
    title_label: "TÃ­tulo: ",
    content_label: "Contenido: ",
    category_label: "CategorÃ­a: ",
    command_label: "Comando: ",
    quality_score_label: "PuntuaciÃ³n de Calidad: ",
    errors_label: "âŒ Errores",
    warnings_label: "âš ï¸ Advertencias",
    suggestions_label: "ğŸ’¡ Sugerencias",
    content_meets_requirements: "Â¡El contenido generado cumple con los requisitos!",
    accept_result: "Aceptar Resultado",
    regenerate: "Regenerar",
    manual_edit: "EdiciÃ³n Manual",
    synced_to_form_hint: "Sincronizado con el formulario de la izquierda, puede previsualizar o modificar antes de guardar.",
    ai_prompt_saved: "âœ… Â¡Prompt generado por IA guardado exitosamente!",
    no_retry_record: "No hay registro para regenerar, por favor genere una vez primero.",
    search_select_model_placeholder: "Buscar o seleccionar modelo...",
    no_models_available: "No hay modelos disponibles",
    load_failed_refresh: "Error al cargar, por favor actualice",
    fill_title_content: "Por favor complete el tÃ­tulo y el contenido primero",
    prompt_preview_title: "Vista Previa del Prompt - ",
    edit_prompt_title: "Editar Prompt",
    new_prompt_title: "Nuevo Prompt",
    unknown_model: "Modelo Desconocido",
    offline: "Desconectado",
    prompt_editor_title: "Editor de Prompt",
    workspace: "Espacio de Trabajo",
    ai_mode: "Modo IA",
    manual_mode: "Modo Manual",
    preview: "Vista Previa",
    ai_generate_title: "Generar Prompt con IA",
    ai_generate_subtitle: "Describa sus necesidades, la IA generarÃ¡ el prompt para usted",
    ai_model: "Modelo IA",
    func_description: "DescripciÃ³n de la FunciÃ³n",
    func_desc_placeholder: "Describa la funciÃ³n que desea que el prompt realice...",
    func_desc_hint: "Ejemplo: AyÃºdame a escribir un artÃ­culo sobre el desarrollo de la IA...",
    use_clipboard: "Usar Contenido del Portapapeles",
    clipboard_note: "Usar contenido del portapapeles como contexto",
    generate_btn: "Generar",
    generating: "Generando...",
    generate_hint: "La generaciÃ³n por IA puede ser inexacta, por favor verifique manualmente",
    prompt_details: "Detalles del Prompt",
    prompt_details_subtitle: "Editar manualmente el contenido del prompt",
    title: "TÃ­tulo",
    title_placeholder: "Ingresar tÃ­tulo del prompt...",
    content: "Contenido",
    content_placeholder: "Ingresar contenido del prompt, soporta variables...",
    common_types: "Tipos de Variables Comunes",
    variable_syntax_help: "Ayuda de Sintaxis de Variables",
    live_preview: "Vista Previa en Vivo",
    variable_highlight: "Resaltado de Variables",
    variable_syntax_title: "GuÃ­a de Sintaxis de Variables",
    basic_syntax: "Sintaxis BÃ¡sica",
    common_variable_types: "Tipos de Variables Comunes",
    system_variables: "Variables del Sistema",
    clipboard_content: "Contenido del Portapapeles",
    untitled: "Sin tÃ­tulo",
    no_content: "Sin contenido",
    switch_model_failed: "Error al cambiar modelo: ",
    switched_to: "Cambiado a: ",
    get_template_failed: "Error al obtener plantilla: ",
    ai_api_unavailable: "API de IA No Disponible",
    no_prompts: "Sin prompts",
    no_prompts_hint: 'Â¡Haga clic en el botÃ³n "+" para crear su primer prompt!',
    help_simple_var: "Variable de texto simple",
    help_typed_var: "Especificar tipo de variable",
    help_prop_var: "Variable con propiedades",
    help_example_name: "Ingresar Nombre",
    help_example_high: "Alto",
    help_example_medium: "Medio",
    help_example_low: "Bajo",
    save_prompt: "Guardar Prompt",
    saving: "Guardando...",
    wizard_step_ai: "GeneraciÃ³n AI",
    wizard_step_edit: "EdiciÃ³n y Ajuste",
    variable_help: "Ayuda de Variables",
    shortcut_help_title: "Ayuda de Atajos",
    // AI Generation Process
    generating_attempt: "Generando intento {attempt}...",
    validating_content: "Validando contenido generado...",
    generation_success: "Â¡GeneraciÃ³n exitosa!",
    validation_failed_retry: "ValidaciÃ³n fallida, preparando reintento... (PuntuaciÃ³n: {score}%)",
    all_retries_failed: "Todos los reintentos fallaron",
    generation_error_msg: "Error de generaciÃ³n: {message}",
    fix_variable_syntax: "Corregir sintaxis de variables",
    check_variable_syntax: "Verifique si el formato de todas las variables {{}} es correcto",
    improve_title: "Mejorar tÃ­tulo",
    add_title: "AÃ±adir o modificar tÃ­tulo del prompt",
    supplement_content: "Complementar contenido",
    add_content: "AÃ±adir contenido de prompt mÃ¡s detallado",
    simplify_content: "Simplificar contenido",
    shorten_content: "Eliminar contenido innecesario, mantener conciso",
    // Variable Help
    variable_syntax_title: "ğŸ“– Sintaxis de Variables OpenWebUI",
    basic_syntax: "Sintaxis BÃ¡sica",
    common_variable_types: "Tipos de Variables Comunes",
    system_variables: "Variables del Sistema",
    clipboard_content: "Contenido del Portapapeles",
    // Constants - Categories
    cat_writing: "Escritura",
    cat_writing_desc: "ArtÃ­culos, RedacciÃ³n, Historias, Guiones, etc.",
    cat_productivity: "Productividad",
    cat_productivity_desc: "ResÃºmenes, Planes, Correos, Informes, TraducciÃ³n, etc.",
    cat_learning: "Aprendizaje",
    cat_learning_desc: "Conceptos, Idiomas, InvestigaciÃ³n, etc.",
    cat_coding: "ProgramaciÃ³n",
    cat_coding_desc: "Algoritmos, DepuraciÃ³n, APIs, Desarrollo, etc.",
    cat_data: "Datos",
    cat_data_desc: "Limpieza, AnÃ¡lisis, VisualizaciÃ³n, etc.",
    cat_lifestyle: "Estilo de Vida",
    cat_lifestyle_desc: "Viajes, Recetas, Ideas, Ocio, etc.",
    cat_roleplay: "Juego de Rol",
    cat_roleplay_desc: "Personajes, SimulaciÃ³n, Juegos, etc.",
    // Constants - Variable Types
    var_text: "Entrada de Texto",
    var_text_desc: "Entrada de texto estÃ¡ndar de una lÃ­nea",
    var_textarea: "Ãrea de Texto",
    var_textarea_desc: "Ãrea de texto multilÃ­nea",
    var_select: "SelecciÃ³n",
    var_select_desc: "MenÃº desplegable",
    var_number: "NÃºmero",
    var_number_desc: "Entrada numÃ©rica",
    var_checkbox: "Casilla de VerificaciÃ³n",
    var_checkbox_desc: "SelecciÃ³n booleana",
    var_date: "Fecha",
    var_date_desc: "Selector de fecha",
    var_datetime_local: "Fecha y Hora",
    var_datetime_local_desc: "Selector de fecha y hora",
    var_color: "Color",
    var_color_desc: "Selector de color",
    var_email: "Email",
    var_email_desc: "Entrada de direcciÃ³n de correo",
    var_month: "Mes",
    var_month_desc: "Selector de mes y aÃ±o",
    var_range: "Rango",
    var_range_desc: "Control deslizante",
    var_tel: "TelÃ©fono",
    var_tel_desc: "Entrada de nÃºmero de telÃ©fono",
    var_time: "Hora",
    var_time_desc: "Selector de hora",
    var_url: "URL",
    var_url_desc: "Entrada de URL",
    var_map: "Mapa",
    var_map_desc: "Mapa interactivo (Experimental)",
    var_table_type: "Tipo",
    var_table_desc: "DescripciÃ³n",
    var_table_props: "Propiedades",
    var_table_example: "Ejemplo",
    // Constants - System Variables
    sys_clipboard: "Contenido del Portapapeles",
    sys_clipboard_desc: "Obtener contenido de texto del portapapeles del usuario",
    sys_clipboard_note: "Requiere permiso del usuario",
    // UI Components (Supplementary)
    strict_naming_rules: `[IMPORTANTE: Reglas de Nombramiento Estrictas]
Los nombres de comandos generados deben cumplir estrictamente estas reglas:
1. Caracteres permitidos: Letras inglesas (a-z, A-Z), nÃºmeros (0-9), guiones (-) y guiones bajos (_)
2. ESTRICTAMENTE PROHIBIDO: espacios, puntos (.), barras (/), y otros caracteres especiales
3. Formato: Comenzar con minÃºscula, conectar mÃºltiples palabras con separadores
4. Longitud: 2-30 caracteres
5. Ejemplos: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[IMPORTANTE: Reglas de Sintaxis de Variables]\nTodas las propiedades de variables deben usar el formato "property=value", especialmente la propiedad "default".\n1.  **Sintaxis Correcta**: `{{variable_name | type:default="value"}}`\n2.  **Sintaxis Incorrecta**: `{{variable_name | type | value}}`\n\n**Ejemplos**:\n-   **Tipo Texto**:\n    -   âœ… Correcto: `{{topic | text:default="funciÃ³n"}}`\n    -   âŒ Incorrecto: `{{topic | text | funciÃ³n}}`\n-   **Tipo NÃºmero**:\n    -   âœ… Correcto: `{{count | number:default=5}}`\n    -   âŒ Incorrecto: `{{count | number:5}}`\n-   **Tipo SelecciÃ³n**:\n    -   âœ… Correcto: `{{priority | select:options=["Alto","Medio","Bajo"]:default="Medio"}}`\n    -   âŒ Incorrecto: `{{priority | select | ["Alto","Medio","Bajo"]}}`',
    available_variables_intro: `[IMPORTANTE: Tipos de Variables y Propiedades Disponibles]
Puede usar los siguientes tipos de variables para crear formularios de prompt ricos. Por favor Ãºselos flexiblemente al generar.`,
    operation_failed: "OperaciÃ³n fallida: ",
    update_category_failed: "Error al actualizar categorÃ­a: ",
    attempt_count: "Intento {n}",
    errors_prefix: "\\nErrores: ",
    warnings_prefix: "\\nAdvertencias: ",
    score_prefix: "\\nPuntuaciÃ³n: ",
    use_clipboard_hint: "Usar contenido del portapapeles como contexto",
    step_generating: "Generando",
    step_validating: "Validando",
    step_completed: "Completado",
    ai_processing: "La IA estÃ¡ procesando...",
    preview_placeholder: "Vista previa del prompt generado aquÃ­",
    select_category: "Seleccionar CategorÃ­a",
    manual_edit_title: "EdiciÃ³n Manual del Prompt",
    manual_edit_subtitle: "Ajuste el prompt generado aquÃ­",
    supports_markdown: "Soporta Markdown",
    tags: "Etiquetas",
    tags_placeholder: "Ingresar etiquetas, separadas por comas...",
    expand_ai: "Expandir Asistente IA",
    collapse_ai: "Colapsar Asistente IA",
    skip_to_edit: "Saltar a ediciÃ³n",
    back_to_ai: "Volver a IA",
    // Shortcut Help
    shortcut_section_nav: "NavegaciÃ³n",
    shortcut_nav_desc: "â†‘/â†“: Seleccionar Prompt",
    shortcut_section_cat: "CategorÃ­as",
    shortcut_cat_desc: "â†/â†’: Cambiar CategorÃ­a",
    shortcut_section_open: "Abrir",
    shortcut_open_desc_1: "Enter: Insertar Prompt Seleccionado",
    shortcut_open_desc_2: "Esc: Cerrar Panel"
  },
  nl: {
    // General
    search: "Zoeken",
    generate_image: "Afbeelding Genereren",
    prompt: "Prompt",
    prompt_management: "Prompt Beheer",
    prompt_management_tooltip: "Prompt Beheer (Rechtermuisklik om te openen)",
    close: "Sluiten",
    copy: "KopiÃ«ren",
    delete: "Verwijderen",
    edit: "Bewerken",
    save: "Opslaan",
    cancel: "Annuleren",
    confirm: "Bevestigen",
    import: "Importeren",
    export: "Exporteren",
    add: "Toevoegen",
    create: "Aanmaken",
    loading: "Laden...",
    success: "Succes",
    error: "Fout",
    warning: "Waarschuwing",
    info: "Info",
    placeholder_1: "Wees niet verlegen, vraag me iets!",
    placeholder_2: "Je persoonlijke wijsheid is online, vraag maar raak~",
    placeholder_3: "Ding! Een AI wacht op je vraag...",
    placeholder_4: "Begin je zielverhoor! (of klets gewoon)",
    placeholder_5: "Verbinding maken met de universum database... Ga je gang!",
    placeholder_6: "Hoe kan ik je vandaag helpen?",
    placeholder_7: "Wachten op je commando.",
    placeholder_8: "Gedachten zijn als wind, pauzeer hier even...",
    placeholder_9: "Ben je daar?",
    placeholder_10: "AI stand-by, geef instructies!",
    placeholder_11: "Denken... (doen alsof ik het druk heb)",
    placeholder_12: "Hallo, dit is de AI-ondersteuning die nooit offline gaat.",
    placeholder_13: "Voer je grillige ideeÃ«n in...",
    placeholder_14: "Geestinterface gereed, stuur instructies.",
    placeholder_15: "Het onbekende verkennen? Twijfels beantwoorden? Ik ben er klaar voor.",
    // Panel Manager
    quick_insert: "Snel Invoegen",
    new_prompt: "Nieuwe Prompt",
    manage_prompts: "Prompts Beheren",
    search_prompts_placeholder: "Prompts zoeken...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Openen Â· â†‘/â†“ Kiezen Â· Enter Invoegen Â· Esc Sluiten Â· â†/â†’ Categorie",
    category: "Categorie",
    add_category: "+ Categorie Toevoegen",
    new_category: "Nieuwe Categorie",
    edit_category: "Categorie Bewerken",
    name: "Naam",
    category_name_placeholder: "Categorienaam",
    icon: "Icoon",
    icon_emoji: "Icoon (Emoji)",
    search_icon: "Icoon zoeken...",
    select_icon: "Icoon selecteren",
    color: "Kleur",
    all_categories: "Alle",
    change_category: "Categorie Wijzigen",
    uncategorized: "Ongecategoriseerd",
    usage_count: "Gebruik",
    created_at: "Gemaakt op",
    favorite: "Favoriet",
    search_model_placeholder: "Model zoeken...",
    no_models_found: "Geen modellen gevonden",
    loading_models: "ğŸ”„ Modellen laden...",
    load_models_failed: "âŒ Laden mislukt",
    prev_page: "Vorige",
    next_page: "Volgende",
    page_info: "Pagina {current} / {total}",
    // UI Components
    auto_fill: "Auto-invullen",
    title_content_required: "Titel en inhoud zijn verplicht!",
    category_required: "Kies een categorie!",
    prompt_updated: "Prompt bijgewerkt!",
    prompt_created: "Prompt aangemaakt!",
    save_failed: "Opslaan mislukt: ",
    confirm_delete_title: "Verwijderen bevestigen",
    confirm_delete_prompt_message: `Prompt "{title}" verwijderen?

Let op: Dit verwijdert het lokaal en uit OpenWebUI.`,
    prompt_deleted: "âœ… Prompt verwijderd",
    delete_failed: "Verwijderen mislukt: ",
    prompt_not_found: "Prompt niet gevonden",
    update_category_failed: "Categorie update mislukt: ",
    category_name_required: "Categorienaam is verplicht!",
    confirm_delete_category: 'Weet u zeker dat u deze categorie wilt verwijderen? Prompts onder deze categorie worden "Ongecategoriseerd".',
    import_export_prompt: `Selecteer een actie:
1. Prompts Importeren
2. Prompts Exporteren
3. Annuleren

Voer een nummer in (1-3):`,
    import_prompts: "Prompts Importeren",
    export_prompts: "Prompts Exporteren",
    cancel: "Annuleren",
    delete: "Verwijderen",
    found_prompts_import_confirm: `{count} prompts gevonden.
Wilt u doorgaan met importeren?`,
    import_success_message: `Importeren voltooid!
{imported} nieuwe prompts succesvol geÃ¯mporteerd.
{skipped} dubbele prompts overgeslagen.`,
    invalid_file_format: "Ongeldig bestandsformaat",
    file_parse_failed: "Bestand parseren mislukt: ",
    describe_func_placeholder: "Beschrijf de functie die de prompt moet uitvoeren",
    generation_failed_retry: "Generatie mislukt, probeer het opnieuw",
    generation_error: "Generatiefout: ",
    generated_preview_title: "ğŸ¯ Voorbeeld Gegenereerde Prompt",
    title_label: "Titel: ",
    content_label: "Inhoud: ",
    category_label: "Categorie: ",
    command_label: "Commando: ",
    quality_score_label: "Kwaliteitsscore: ",
    errors_label: "âŒ Fouten",
    warnings_label: "âš ï¸ Waarschuwingen",
    suggestions_label: "ğŸ’¡ Suggesties",
    content_meets_requirements: "Gegenereerde inhoud voldoet aan de eisen!",
    accept_result: "Resultaat Accepteren",
    regenerate: "Opnieuw Genereren",
    manual_edit: "Handmatig Bewerken",
    synced_to_form_hint: "Gesynchroniseerd met het formulier links, u kunt een voorbeeld bekijken of wijzigen voordat u opslaat.",
    ai_prompt_saved: "âœ… AI gegenereerde prompt succesvol opgeslagen!",
    no_retry_record: "Geen record om opnieuw te genereren, genereer eerst een keer.",
    search_select_model_placeholder: "Model zoeken of selecteren...",
    no_models_available: "Geen modellen beschikbaar",
    load_failed_refresh: "Laden mislukt, vernieuw alstublieft",
    fill_title_content: "Vul eerst titel en inhoud in",
    prompt_preview_title: "Prompt Voorbeeld - ",
    edit_prompt_title: "Prompt Bewerken",
    new_prompt_title: "Nieuwe Prompt",
    unknown_model: "Onbekend Model",
    offline: "Offline",
    prompt_editor_title: "Prompt Editor",
    workspace: "Werkruimte",
    ai_mode: "AI Modus",
    manual_mode: "Handmatige Modus",
    preview: "Voorbeeld",
    ai_generate_title: "AI Prompt Genereren",
    ai_generate_subtitle: "Beschrijf uw behoeften, AI genereert de prompt voor u",
    ai_model: "AI Model",
    func_description: "Functiebeschrijving",
    func_desc_placeholder: "Beschrijf de functie die de prompt moet bereiken...",
    func_desc_hint: "Voorbeeld: Help me een artikel te schrijven over de ontwikkeling van AI...",
    use_clipboard: "Gebruik Klembord Inhoud",
    clipboard_note: "Gebruik klembord inhoud als context",
    generate_btn: "Genereren",
    generating: "Genereren...",
    generate_hint: "AI-generatie kan onnauwkeurig zijn, controleer handmatig",
    prompt_details: "Prompt Details",
    prompt_details_subtitle: "Bewerk prompt inhoud handmatig",
    title: "Titel",
    title_placeholder: "Voer prompt titel in...",
    content: "Inhoud",
    content_placeholder: "Voer prompt inhoud in, ondersteunt variabelen...",
    common_types: "Veelvoorkomende Variabelen",
    variable_syntax_help: "Variabele Syntaxis Hulp",
    live_preview: "Live Voorbeeld",
    variable_highlight: "Variabele Markering",
    variable_syntax_title: "Variabele Syntaxis Gids",
    basic_syntax: "Basissyntaxis",
    common_variable_types: "Veelvoorkomende Variabelen",
    system_variables: "Systeemvariabelen",
    clipboard_content: "Klembord Inhoud",
    untitled: "Naamloos",
    no_content: "Geen Inhoud",
    switch_model_failed: "Model wisselen mislukt: ",
    switched_to: "Gewisseld naar: ",
    get_template_failed: "Sjabloon ophalen mislukt: ",
    ai_api_unavailable: "AI API Niet Beschikbaar",
    no_prompts: "Geen prompts",
    no_prompts_hint: 'Klik op de "+" knop om je eerste prompt te maken!',
    help_simple_var: "Eenvoudige tekstvariabele",
    help_typed_var: "Specificeer variabele type",
    help_prop_var: "Variabele met eigenschappen",
    help_example_name: "Naam Invoeren",
    help_example_high: "Hoog",
    help_example_medium: "Midden",
    help_example_low: "Laag",
    save_prompt: "Prompt Opslaan",
    saving: "Opslaan...",
    wizard_step_ai: "AI Generatie",
    wizard_step_edit: "Bewerken & Afstemmen",
    variable_help: "Variabele Hulp",
    shortcut_help_title: "Sneltoets Hulp",
    // AI Generation Process
    generating_attempt: "Poging {attempt} genereren...",
    validating_content: "Gegenereerde inhoud valideren...",
    generation_success: "Generatie succesvol!",
    validation_failed_retry: "Validatie mislukt, nieuwe poging voorbereiden... (Score: {score}%)",
    all_retries_failed: "Alle pogingen mislukt",
    generation_error_msg: "Generatiefout: {message}",
    fix_variable_syntax: "Variabele syntaxis corrigeren",
    check_variable_syntax: "Controleer of het formaat van alle {{}} variabelen correct is",
    improve_title: "Titel verbeteren",
    add_title: "Prompt titel toevoegen of wijzigen",
    supplement_content: "Inhoud aanvullen",
    add_content: "Meer gedetailleerde prompt inhoud toevoegen",
    simplify_content: "Inhoud vereenvoudigen",
    shorten_content: "Verwijder onnodige inhoud, houd het beknopt",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI Variabele Syntaxis",
    basic_syntax: "Basissyntaxis",
    common_variable_types: "Veelvoorkomende Variabelen",
    system_variables: "Systeemvariabelen",
    clipboard_content: "Klembord Inhoud",
    // Constants - Categories
    cat_writing: "Schrijven",
    cat_writing_desc: "Artikelen, Copywriting, Verhalen, Scripts, enz.",
    cat_productivity: "Productiviteit",
    cat_productivity_desc: "Samenvattingen, Plannen, E-mails, Rapporten, Vertaling, enz.",
    cat_learning: "Leren",
    cat_learning_desc: "Concepten, Talen, Onderzoek, enz.",
    cat_coding: "Coderen",
    cat_coding_desc: "Algoritmen, Debuggen, API's, Ontwikkeling, enz.",
    cat_data: "Data",
    cat_data_desc: "Opschonen, Analyse, Visualisatie, enz.",
    cat_lifestyle: "Levensstijl",
    cat_lifestyle_desc: "Reizen, Recepten, IdeeÃ«n, Vrije tijd, enz.",
    cat_roleplay: "Rollenspel",
    cat_roleplay_desc: "Personages, Simulatie, Spellen, enz.",
    // Constants - Variable Types
    var_text: "Tekstinvoer",
    var_text_desc: "Standaard eenregelige tekstinvoer",
    var_textarea: "Tekstgebied",
    var_textarea_desc: "Meerregelig tekstgebied",
    var_select: "Selectie",
    var_select_desc: "Dropdown-menu",
    var_number: "Nummer",
    var_number_desc: "Numerieke invoer",
    var_checkbox: "Selectievakje",
    var_checkbox_desc: "Booleaanse selectie",
    var_date: "Datum",
    var_date_desc: "Datumkiezer",
    var_datetime_local: "Datum Tijd",
    var_datetime_local_desc: "Datum- en tijdkiezer",
    var_color: "Kleur",
    var_color_desc: "Kleurkiezer",
    var_email: "E-mail",
    var_email_desc: "E-mailadres invoer",
    var_month: "Maand",
    var_month_desc: "Maand- en jaarkiezer",
    var_range: "Bereik",
    var_range_desc: "Schuifregelaar",
    var_tel: "Telefoon",
    var_tel_desc: "Telefoonnummer invoer",
    var_time: "Tijd",
    var_time_desc: "Tijdkiezer",
    var_url: "URL",
    var_url_desc: "URL invoer",
    var_map: "Kaart",
    var_map_desc: "Interactieve kaart (Experimenteel)",
    var_table_type: "Type",
    var_table_desc: "Beschrijving",
    var_table_props: "Eigenschappen",
    var_table_example: "Voorbeeld",
    // Constants - System Variables
    sys_clipboard: "Klembord Inhoud",
    sys_clipboard_desc: "Tekstinhoud van gebruikers klembord ophalen",
    sys_clipboard_note: "Vereist toestemming van gebruiker",
    // UI Components (Supplementary)
    strict_naming_rules: `[BELANGRIJK: Strikte Naamgevingsregels]
Gegenereerde commandonamen moeten strikt deze regels volgen:
1. Toegestane tekens: Engelse letters (a-z, A-Z), cijfers (0-9), koppeltekens (-) en underscores (_)
2. STRIKT VERBODEN: spaties, punten (.), schuine strepen (/) en andere speciale tekens
3. Formaat: Begin met een kleine letter, verbind meerdere woorden met scheidingstekens
4. Lengte: 2-30 tekens
5. Voorbeelden: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[BELANGRIJK: Variabele Syntaxisregels]\nAlle variabele-eigenschappen moeten het formaat "property=value" gebruiken, vooral de "default" eigenschap.\n1.  **Correcte Syntaxis**: `{{variable_name | type:default="value"}}`\n2.  **Incorrecte Syntaxis**: `{{variable_name | type | value}}`\n\n**Voorbeelden**:\n-   **Tekst Type**:\n    -   âœ… Correct: `{{topic | text:default="functie"}}`\n    -   âŒ Incorrect: `{{topic | text | functie}}`\n-   **Nummer Type**:\n    -   âœ… Correct: `{{count | number:default=5}}`\n    -   âŒ Incorrect: `{{count | number:5}}`\n-   **Selectie Type**:\n    -   âœ… Correct: `{{priority | select:options=["Hoog","Midden","Laag"]:default="Midden"}}`\n    -   âŒ Incorrect: `{{priority | select | ["Hoog","Midden","Laag"]}}`',
    available_variables_intro: `[BELANGRIJK: Beschikbare Variabele Types en Eigenschappen]
U kunt de volgende variabele types gebruiken om rijke promptformulieren te maken. Gebruik ze flexibel bij het genereren.`,
    operation_failed: "Bewerking mislukt: ",
    update_category_failed: "Categorie update mislukt: ",
    attempt_count: "Poging {n}",
    errors_prefix: "\\nFouten: ",
    warnings_prefix: "\\nWaarschuwingen: ",
    score_prefix: "\\nScore: ",
    use_clipboard_hint: "Gebruik klembord inhoud als context",
    step_generating: "Genereren",
    step_validating: "Valideren",
    step_completed: "Voltooid",
    ai_processing: "AI verwerkt...",
    preview_placeholder: "Voorbeeld gegenereerde prompt hier",
    select_category: "Selecteer Categorie",
    manual_edit_title: "Handmatig Prompt Bewerken",
    manual_edit_subtitle: "Verfijn de gegenereerde prompt hier",
    supports_markdown: "Ondersteunt Markdown",
    tags: "Tags",
    tags_placeholder: "Tags invoeren, gescheiden door komma's...",
    expand_ai: "AI Assistent Uitbreiden",
    collapse_ai: "AI Assistent Inklappen",
    skip_to_edit: "Overslaan naar bewerken",
    back_to_ai: "Terug naar AI",
    // Shortcut Help
    shortcut_section_nav: "Navigatie",
    shortcut_nav_desc: "â†‘/â†“: Selecteer Prompt",
    shortcut_section_cat: "CategorieÃ«n",
    shortcut_cat_desc: "â†/â†’: Wissel Categorie",
    shortcut_section_open: "Openen",
    shortcut_open_desc_1: "Enter: Voeg Geselecteerde Prompt In",
    shortcut_open_desc_2: "Esc: Sluit Paneel"
  },
  de: {
    // General
    search: "Suche",
    generate_image: "Bild generieren",
    prompt: "Prompt",
    prompt_management: "Prompt-Verwaltung",
    prompt_management_tooltip: "Prompt-Verwaltung (Rechtsklick zum Ã–ffnen)",
    close: "SchlieÃŸen",
    copy: "Kopieren",
    delete: "LÃ¶schen",
    edit: "Bearbeiten",
    save: "Speichern",
    cancel: "Abbrechen",
    confirm: "BestÃ¤tigen",
    import: "Importieren",
    export: "Exportieren",
    add: "HinzufÃ¼gen",
    create: "Erstellen",
    loading: "Laden...",
    success: "Erfolg",
    error: "Fehler",
    warning: "Warnung",
    info: "Info",
    placeholder_1: "Sei nicht schÃ¼chtern, frag mich etwas!",
    placeholder_2: "Deine persÃ¶nliche Weisheit ist online, frag ruhig~",
    placeholder_3: "Ding! Eine KI wartet auf deine Frage...",
    placeholder_4: "Beginne dein SeelenverhÃ¶r! (oder plaudere einfach)",
    placeholder_5: "Verbindung zur Universums-Datenbank... Leg los!",
    placeholder_6: "Wie kann ich dir heute helfen?",
    placeholder_7: "Warte auf deinen Befehl.",
    placeholder_8: "Gedanken sind wie Wind, mach hier eine Pause...",
    placeholder_9: "Bist du da?",
    placeholder_10: "KI bereit, bitte anweisen!",
    placeholder_11: "Denke nach... (tue so, als wÃ¤re ich beschÃ¤ftigt)",
    placeholder_12: "Hallo, hier ist der KI-Support, der nie offline geht.",
    placeholder_13: "Bitte gib deine wunderlichen Ideen ein...",
    placeholder_14: "Geist-Schnittstelle bereit, bitte Anweisungen Ã¼bertragen.",
    placeholder_15: "Das Unbekannte erkunden? Zweifel beantworten? Ich bin bereit.",
    // Panel Manager
    quick_insert: "SchnelleinfÃ¼gung",
    new_prompt: "Neuer Prompt",
    manage_prompts: "Prompts verwalten",
    search_prompts_placeholder: "Prompts suchen...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Ã–ffnen Â· â†‘/â†“ WÃ¤hlen Â· Enter EinfÃ¼gen Â· Esc SchlieÃŸen Â· â†/â†’ Kategorie",
    category: "Kategorie",
    add_category: "+ Kategorie hinzufÃ¼gen",
    new_category: "Neue Kategorie",
    edit_category: "Kategorie bearbeiten",
    name: "Name",
    category_name_placeholder: "Kategoriename",
    icon: "Icon",
    icon_emoji: "Icon (Emoji)",
    search_icon: "Icon suchen...",
    select_icon: "Icon auswÃ¤hlen",
    color: "Farbe",
    all_categories: "Alle",
    change_category: "Kategorie Ã¤ndern",
    uncategorized: "Nicht kategorisiert",
    usage_count: "Nutzung",
    created_at: "Erstellt am",
    favorite: "Favorit",
    search_model_placeholder: "Modell suchen...",
    no_models_found: "Keine Modelle gefunden",
    loading_models: "ğŸ”„ Modelle werden geladen...",
    load_models_failed: "âŒ Laden fehlgeschlagen",
    prev_page: "ZurÃ¼ck",
    next_page: "Weiter",
    page_info: "Seite {current} / {total}",
    // Constants - Categories
    cat_writing: "Schreiben",
    cat_writing_desc: "Artikel, Werbetexte, Geschichten, DrehbÃ¼cher usw.",
    cat_productivity: "ProduktivitÃ¤t",
    cat_productivity_desc: "Zusammenfassungen, PlÃ¤ne, E-Mails, Berichte, Ãœbersetzung usw.",
    cat_learning: "Lernen",
    cat_learning_desc: "Konzepte, Sprachen, Forschung usw.",
    cat_coding: "Programmieren",
    cat_coding_desc: "Algorithmen, Debugging, APIs, Entwicklung usw.",
    cat_data: "Daten",
    cat_data_desc: "Bereinigung, Analyse, Visualisierung usw.",
    cat_lifestyle: "Lifestyle",
    cat_lifestyle_desc: "Reisen, Rezepte, Ideen, Freizeit usw.",
    cat_roleplay: "Rollenspiel",
    cat_roleplay_desc: "Charaktere, Simulation, Spiele usw.",
    // Constants - Variable Types
    var_text: "Texteingabe",
    var_text_desc: "Standard-Einzeilen-Texteingabe",
    var_textarea: "Textbereich",
    var_textarea_desc: "Mehrzeiliger Textbereich",
    var_select: "Auswahl",
    var_select_desc: "Dropdown-MenÃ¼",
    var_number: "Nummer",
    var_number_desc: "Numerische Eingabe",
    var_checkbox: "KontrollkÃ¤stchen",
    var_checkbox_desc: "Boolesche Auswahl",
    var_date: "Datum",
    var_date_desc: "Datumsauswahl",
    var_datetime_local: "Datum & Zeit",
    var_datetime_local_desc: "Datums- und Zeitauswahl",
    var_color: "Farbe",
    var_color_desc: "Farbauswahl",
    var_email: "E-Mail",
    var_email_desc: "E-Mail-Adresseneingabe",
    var_month: "Monat",
    var_month_desc: "Monats- und Jahresauswahl",
    var_range: "Bereich",
    var_range_desc: "Schieberegler",
    var_tel: "Telefon",
    var_tel_desc: "Telefonnummerneingabe",
    var_time: "Zeit",
    var_time_desc: "Zeitauswahl",
    var_url: "URL",
    var_url_desc: "URL-Eingabe",
    var_map: "Karte",
    var_map_desc: "Interaktive Karte (Experimentell)",
    var_table_type: "Typ",
    var_table_desc: "Beschreibung",
    var_table_props: "Eigenschaften",
    var_table_example: "Beispiel",
    // Constants - System Variables
    sys_clipboard: "Zwischenablage-Inhalt",
    sys_clipboard_desc: "Textinhalt aus der Benutzer-Zwischenablage abrufen",
    sys_clipboard_note: "Erfordert Benutzerberechtigung",
    // UI Components
    auto_fill: "Auto-AusfÃ¼llen",
    title_content_required: "Titel und Inhalt sind erforderlich!",
    category_required: "Bitte wÃ¤hlen Sie eine Kategorie!",
    prompt_updated: "Prompt aktualisiert!",
    prompt_created: "Prompt erstellt!",
    save_failed: "Speichern fehlgeschlagen: ",
    confirm_delete_title: "LÃ¶schen bestÃ¤tigen",
    confirm_delete_prompt_message: `Prompt "{title}" lÃ¶schen?

Hinweis: Dies lÃ¶scht ihn lokal und aus OpenWebUI.`,
    prompt_deleted: "âœ… Prompt gelÃ¶scht",
    delete_failed: "LÃ¶schen fehlgeschlagen: ",
    prompt_not_found: "Prompt nicht gefunden",
    update_category_failed: "Kategorie-Aktualisierung fehlgeschlagen: ",
    category_name_required: "Kategoriename ist erforderlich!",
    confirm_delete_category: 'Sind Sie sicher, dass Sie diese Kategorie lÃ¶schen mÃ¶chten? Prompts in dieser Kategorie werden "Nicht kategorisiert".',
    import_export_prompt: `Bitte wÃ¤hlen Sie eine Aktion:
1. Prompts importieren
2. Prompts exportieren
3. Abbrechen

Geben Sie eine Zahl ein (1-3):`,
    import_prompts: "Prompts importieren",
    export_prompts: "Prompts exportieren",
    cancel: "Abbrechen",
    delete: "LÃ¶schen",
    found_prompts_import_confirm: `{count} Prompts gefunden.
MÃ¶chten Sie mit dem Import fortfahren?`,
    import_success_message: `Import abgeschlossen!
{imported} neue Prompts erfolgreich importiert.
{skipped} doppelte Prompts Ã¼bersprungen.`,
    invalid_file_format: "UngÃ¼ltiges Dateiformat",
    file_parse_failed: "Dateianalyse fehlgeschlagen: ",
    describe_func_placeholder: "Bitte beschreiben Sie die Funktion, die der Prompt erfÃ¼llen soll",
    generation_failed_retry: "Generierung fehlgeschlagen, bitte erneut versuchen",
    generation_error: "Generierungsfehler: ",
    generated_preview_title: "ğŸ¯ Vorschau des generierten Prompts",
    title_label: "Titel: ",
    content_label: "Inhalt: ",
    category_label: "Kategorie: ",
    command_label: "Befehl: ",
    quality_score_label: "QualitÃ¤tsfaktor: ",
    errors_label: "âŒ Fehler",
    warnings_label: "âš ï¸ Warnungen",
    suggestions_label: "ğŸ’¡ VorschlÃ¤ge",
    content_meets_requirements: "Generierter Inhalt erfÃ¼llt die Anforderungen!",
    accept_result: "Ergebnis akzeptieren",
    regenerate: "Neu generieren",
    manual_edit: "Manuelle Bearbeitung",
    synced_to_form_hint: "Mit dem Formular links synchronisiert, Sie kÃ¶nnen vor dem Speichern eine Vorschau anzeigen oder Ã¤ndern.",
    ai_prompt_saved: "âœ… KI-generierter Prompt erfolgreich gespeichert!",
    no_retry_record: "Kein Datensatz zum Regenerieren, bitte zuerst einmal generieren.",
    search_select_model_placeholder: "Modell suchen oder auswÃ¤hlen...",
    no_models_available: "Keine Modelle verfÃ¼gbar",
    load_failed_refresh: "Laden fehlgeschlagen, bitte aktualisieren",
    fill_title_content: "Bitte fÃ¼llen Sie zuerst Titel und Inhalt aus",
    prompt_preview_title: "Prompt-Vorschau - ",
    edit_prompt_title: "Prompt bearbeiten",
    new_prompt_title: "Neuer Prompt",
    unknown_model: "Unbekanntes Modell",
    offline: "Offline",
    prompt_editor_title: "Prompt-Editor",
    workspace: "Arbeitsbereich",
    ai_mode: "KI-Modus",
    manual_mode: "Manueller Modus",
    preview: "Vorschau",
    ai_generate_title: "KI-Prompt generieren",
    ai_generate_subtitle: "Beschreiben Sie Ihre BedÃ¼rfnisse, die KI generiert den Prompt fÃ¼r Sie",
    ai_model: "KI-Modell",
    func_description: "Funktionsbeschreibung",
    func_desc_placeholder: "Beschreiben Sie die Funktion, die der Prompt erreichen soll...",
    func_desc_hint: "Beispiel: Hilf mir, einen Artikel Ã¼ber die Entwicklung der KI zu schreiben...",
    use_clipboard: "Zwischenablage-Inhalt verwenden",
    clipboard_note: "Zwischenablage-Inhalt als Kontext verwenden",
    generate_btn: "Generieren",
    generating: "Generieren...",
    generate_hint: "KI-Generierung kann ungenau sein, bitte manuell Ã¼berprÃ¼fen",
    prompt_details: "Prompt-Details",
    prompt_details_subtitle: "Prompt-Inhalt manuell bearbeiten",
    title: "Titel",
    title_placeholder: "Prompt-Titel eingeben...",
    content: "Inhalt",
    content_placeholder: "Prompt-Inhalt eingeben, unterstÃ¼tzt Variablen...",
    common_types: "HÃ¤ufige Variablentypen",
    variable_syntax_help: "Variablen-Syntax-Hilfe",
    live_preview: "Live-Vorschau",
    variable_highlight: "Variablen-Hervorhebung",
    variable_syntax_title: "Variablen-Syntax-Leitfaden",
    basic_syntax: "Basissyntax",
    common_variable_types: "HÃ¤ufige Variablentypen",
    system_variables: "Systemvariablen",
    clipboard_content: "Zwischenablage-Inhalt",
    untitled: "Unbenannt",
    no_content: "Kein Inhalt",
    switch_model_failed: "Modellwechsel fehlgeschlagen: ",
    switched_to: "Gewechselt zu: ",
    get_template_failed: "Vorlage abrufen fehlgeschlagen: ",
    ai_api_unavailable: "KI-API nicht verfÃ¼gbar",
    no_prompts: "Keine Prompts",
    no_prompts_hint: 'Klicken Sie auf die SchaltflÃ¤che "+", um Ihren ersten Prompt zu erstellen!',
    help_simple_var: "Einfache Textvariable",
    help_typed_var: "Variablentyp angeben",
    help_prop_var: "Variable mit Eigenschaften",
    help_example_name: "Name eingeben",
    help_example_high: "Hoch",
    help_example_medium: "Mittel",
    help_example_low: "Niedrig",
    save_prompt: "Prompt speichern",
    saving: "Speichern...",
    wizard_step_ai: "AI-Generierung",
    wizard_step_edit: "Bearbeiten & Abstimmen",
    variable_help: "Variablen-Hilfe",
    shortcut_help_title: "Shortcut-Hilfe",
    // AI Generation Process
    generating_attempt: "Generiere Versuch {attempt}...",
    validating_content: "Validiere generierten Inhalt...",
    generation_success: "Generierung erfolgreich!",
    validation_failed_retry: "Validierung fehlgeschlagen, bereite erneuten Versuch vor... (Score: {score}%)",
    all_retries_failed: "Alle Versuche fehlgeschlagen",
    generation_error_msg: "Generierungsfehler: {message}",
    fix_variable_syntax: "Variablensyntax korrigieren",
    check_variable_syntax: "ÃœberprÃ¼fen Sie, ob das Format aller {{}} Variablen korrekt ist",
    improve_title: "Titel verbessern",
    add_title: "Prompt-Titel hinzufÃ¼gen oder Ã¤ndern",
    supplement_content: "Inhalt ergÃ¤nzen",
    add_content: "Detaillierteren Prompt-Inhalt hinzufÃ¼gen",
    simplify_content: "Inhalt vereinfachen",
    shorten_content: "UnnÃ¶tigen Inhalt entfernen, kurz halten",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI Variablen-Syntax",
    basic_syntax: "Basissyntax",
    common_variable_types: "HÃ¤ufige Variablentypen",
    system_variables: "Systemvariablen",
    clipboard_content: "Zwischenablage-Inhalt",
    // Constants - Categories
    cat_writing: "Schreiben",
    cat_writing_desc: "Artikel, Werbetexte, Geschichten, DrehbÃ¼cher usw.",
    cat_productivity: "ProduktivitÃ¤t",
    cat_productivity_desc: "Zusammenfassungen, PlÃ¤ne, E-Mails, Berichte, Ãœbersetzung usw.",
    cat_learning: "Lernen",
    cat_learning_desc: "Konzepte, Sprachen, Forschung usw.",
    cat_coding: "Programmieren",
    cat_coding_desc: "Algorithmen, Debugging, APIs, Entwicklung usw.",
    cat_data: "Daten",
    cat_data_desc: "Bereinigung, Analyse, Visualisierung usw.",
    cat_lifestyle: "Lifestyle",
    cat_lifestyle_desc: "Reisen, Rezepte, Ideen, Freizeit usw.",
    cat_roleplay: "Rollenspiel",
    cat_roleplay_desc: "Charaktere, Simulation, Spiele usw.",
    // Constants - Variable Types
    var_text: "Texteingabe",
    var_text_desc: "Standard-Einzeilen-Texteingabe",
    var_textarea: "Textbereich",
    var_textarea_desc: "Mehrzeiliger Textbereich",
    var_select: "Auswahl",
    var_select_desc: "Dropdown-MenÃ¼",
    var_number: "Nummer",
    var_number_desc: "Numerische Eingabe",
    var_checkbox: "KontrollkÃ¤stchen",
    var_checkbox_desc: "Boolesche Auswahl",
    var_date: "Datum",
    var_date_desc: "Datumsauswahl",
    var_datetime_local: "Datum & Zeit",
    var_datetime_local_desc: "Datums- und Zeitauswahl",
    var_color: "Farbe",
    var_color_desc: "Farbauswahl",
    var_email: "E-Mail",
    var_email_desc: "E-Mail-Adresseneingabe",
    var_month: "Monat",
    var_month_desc: "Monats- und Jahresauswahl",
    var_range: "Bereich",
    var_range_desc: "Schieberegler",
    var_tel: "Telefon",
    var_tel_desc: "Telefonnummerneingabe",
    var_time: "Zeit",
    var_time_desc: "Zeitauswahl",
    var_url: "URL",
    var_url_desc: "URL-Eingabe",
    var_map: "Karte",
    var_map_desc: "Interaktive Karte (Experimentell)",
    var_table_type: "Typ",
    var_table_desc: "Beschreibung",
    var_table_props: "Eigenschaften",
    var_table_example: "Beispiel",
    // Constants - System Variables
    sys_clipboard: "Zwischenablage-Inhalt",
    sys_clipboard_desc: "Textinhalt aus der Benutzer-Zwischenablage abrufen",
    sys_clipboard_note: "Erfordert Benutzerberechtigung",
    // UI Components (Supplementary)
    strict_naming_rules: `[WICHTIG: Strenge Namensregeln]
Generierte Befehlsnamen mÃ¼ssen diese Regeln strikt befolgen:
1. Erlaubte Zeichen: Englische Buchstaben (a-z, A-Z), Zahlen (0-9), Bindestriche (-) und Unterstriche (_)
2. STRENG VERBOTEN: Leerzeichen, Punkte (.), SchrÃ¤gstriche (/) und andere Sonderzeichen
3. Format: Mit Kleinbuchstaben beginnen, mehrere WÃ¶rter mit Trennzeichen verbinden
4. LÃ¤nge: 2-30 Zeichen
5. Beispiele: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[WICHTIG: Variablen-Syntaxregeln]\nAlle Variableneigenschaften mÃ¼ssen das Format "property=value" verwenden, insbesondere die Eigenschaft "default".\n1.  **Korrekte Syntax**: `{{variable_name | type:default="value"}}`\n2.  **Falsche Syntax**: `{{variable_name | type | value}}`\n\n**Beispiele**:\n-   **Text-Typ**:\n    -   âœ… Korrekt: `{{topic | text:default="Funktion"}}`\n    -   âŒ Falsch: `{{topic | text | Funktion}}`\n-   **Nummer-Typ**:\n    -   âœ… Korrekt: `{{count | number:default=5}}`\n    -   âŒ Falsch: `{{count | number:5}}`\n-   **Auswahl-Typ**:\n    -   âœ… Korrekt: `{{priority | select:options=["Hoch","Mittel","Niedrig"]:default="Mittel"}}`\n    -   âŒ Falsch: `{{priority | select | ["Hoch","Mittel","Niedrig"]}}`',
    available_variables_intro: `[WICHTIG: VerfÃ¼gbare Variablentypen und Eigenschaften]
Sie kÃ¶nnen die folgenden Variablentypen verwenden, um umfangreiche Prompt-Formulare zu erstellen. Bitte verwenden Sie sie flexibel bei der Generierung.`,
    operation_failed: "Operation fehlgeschlagen: ",
    update_category_failed: "Kategorie-Update fehlgeschlagen: ",
    attempt_count: "Versuch {n}",
    errors_prefix: "\\nFehler: ",
    warnings_prefix: "\\nWarnungen: ",
    score_prefix: "\\nPunktzahl: ",
    use_clipboard_hint: "Zwischenablage-Inhalt als Kontext verwenden",
    step_generating: "Generieren",
    step_validating: "Validieren",
    step_completed: "Abgeschlossen",
    ai_processing: "KI verarbeitet...",
    preview_placeholder: "Vorschau des generierten Prompts hier",
    select_category: "Kategorie wÃ¤hlen",
    manual_edit_title: "Manuelle Prompt-Bearbeitung",
    manual_edit_subtitle: "Verfeinern Sie den generierten Prompt hier",
    supports_markdown: "UnterstÃ¼tzt Markdown",
    tags: "Tags",
    tags_placeholder: "Tags eingeben, durch Kommas getrennt...",
    expand_ai: "KI-Assistent erweitern",
    collapse_ai: "KI-Assistent einklappen",
    skip_to_edit: "Zu Bearbeiten springen",
    back_to_ai: "ZurÃ¼ck zu KI",
    // Shortcut Help
    shortcut_section_nav: "Navigation",
    shortcut_nav_desc: "â†‘/â†“: Prompt wÃ¤hlen",
    shortcut_section_cat: "Kategorien",
    shortcut_cat_desc: "â†/â†’: Kategorie wechseln",
    shortcut_section_open: "Ã–ffnen",
    shortcut_open_desc_1: "Enter: GewÃ¤hlten Prompt einfÃ¼gen",
    shortcut_open_desc_2: "Esc: Panel schlieÃŸen"
  },
  el: {
    // General
    search: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·",
    generate_image: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î•Î¹ÎºÏŒÎ½Î±Ï‚",
    prompt: "Prompt",
    prompt_management: "Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Prompt",
    prompt_management_tooltip: "Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Prompt (Î”ÎµÎ¾Î¯ ÎºÎ»Î¹Îº Î³Î¹Î± Î¬Î½Î¿Î¹Î³Î¼Î±)",
    close: "ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿",
    copy: "Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î®",
    delete: "Î”Î¹Î±Î³ÏÎ±Ï†Î®",
    edit: "Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±",
    save: "Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·",
    cancel: "Î‘ÎºÏÏÏ‰ÏƒÎ·",
    confirm: "Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·",
    import: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®",
    export: "Î•Î¾Î±Î³Ï‰Î³Î®",
    add: "Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·",
    create: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±",
    loading: "Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...",
    success: "Î•Ï€Î¹Ï„Ï…Ï‡Î¯Î±",
    error: "Î£Ï†Î¬Î»Î¼Î±",
    warning: "Î ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¯Î·ÏƒÎ·",
    info: "Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚",
    placeholder_1: "ÎœÎ·Î½ Î½Ï„ÏÎ­Ï€ÎµÏƒÎ±Î¹, ÏÏÏ„Î± Î¼Îµ ÎºÎ¬Ï„Î¹!",
    placeholder_2: "Î— Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ® ÏƒÎ¿Ï… ÏƒÎ¿Ï†Î¯Î± ÎµÎ¯Î½Î±Î¹ online, ÏÏÏ„Î± ÎµÎ»ÎµÏÎ¸ÎµÏÎ±~",
    placeholder_3: "ÎÏ„Î¹Î½! ÎœÎ¹Î± Î¤ÎµÏ‡Î½Î·Ï„Î® ÎÎ¿Î·Î¼Î¿ÏƒÏÎ½Î· Ï€ÎµÏÎ¹Î¼Î­Î½ÎµÎ¹ Ï„Î·Î½ ÎµÏÏÏ„Î·ÏƒÎ® ÏƒÎ¿Ï…...",
    placeholder_4: "ÎÎµÎºÎ¯Î½Î± Ï„Î·Î½ Î±Î½Î¬ÎºÏÎ¹ÏƒÎ· Ï„Î·Ï‚ ÏˆÏ…Ï‡Î®Ï‚ ÏƒÎ¿Ï…! (Î® Î±Ï€Î»Î¬ ÏƒÏ…Î¶Î®Ï„Î±)",
    placeholder_5: "Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï„Î¿Ï… ÏƒÏÎ¼Ï€Î±Î½Ï„Î¿Ï‚... Î ÏÎ¿Ï‡ÏÏÎ±!",
    placeholder_6: "Î ÏÏ‚ Î¼Ï€Î¿ÏÏ Î½Î± ÏƒÎµ Î²Î¿Î·Î¸Î®ÏƒÏ‰ ÏƒÎ®Î¼ÎµÏÎ±;",
    placeholder_7: "Î‘Î½Î±Î¼Î¿Î½Î® Î³Î¹Î± Ï„Î·Î½ ÎµÎ½Ï„Î¿Î»Î® ÏƒÎ¿Ï….",
    placeholder_8: "ÎŸÎ¹ ÏƒÎºÎ­ÏˆÎµÎ¹Ï‚ ÎµÎ¯Î½Î±Î¹ ÏƒÎ±Î½ Ï„Î¿Î½ Î¬Î½ÎµÎ¼Î¿, ÎºÎ¬Î½Îµ Î¼Î¹Î± Ï€Î±ÏÏƒÎ· ÎµÎ´Ï...",
    placeholder_9: "Î•Î¯ÏƒÎ±Î¹ ÎµÎºÎµÎ¯;",
    placeholder_10: "AI ÏƒÎµ ÎµÏ„Î¿Î¹Î¼ÏŒÏ„Î·Ï„Î±, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Î´ÏÏƒÎµ Î¿Î´Î·Î³Î¯ÎµÏ‚!",
    placeholder_11: "Î£ÎºÎ­Ï†Ï„Î¿Î¼Î±Î¹... (Ï€ÏÎ¿ÏƒÏ€Î¿Î¹Î¿ÏÎ¼Î±Î¹ ÏŒÏ„Î¹ ÎµÎ¯Î¼Î±Î¹ Î±Ï€Î±ÏƒÏ‡Î¿Î»Î·Î¼Î­Î½Î¿Ï‚)",
    placeholder_12: "Î“ÎµÎ¹Î±, ÎµÎ´Ï ÎµÎ¯Î½Î±Î¹ Î· Ï…Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· AI Ï€Î¿Ï… Î´ÎµÎ½ Î²Î³Î±Î¯Î½ÎµÎ¹ Ï€Î¿Ï„Î­ offline.",
    placeholder_13: "Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¹Ï‚ Ï†Î±Î½Ï„Î±ÏƒÏ„Î¹ÎºÎ­Ï‚ Î¹Î´Î­ÎµÏ‚ ÏƒÎ±Ï‚...",
    placeholder_14: "Î”Î¹ÎµÏ€Î±Ï†Î® Î¼Ï…Î±Î»Î¿Ï Î­Ï„Î¿Î¹Î¼Î·, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Î¼ÎµÏ„Î±Î´ÏÏƒÏ„Îµ Î¿Î´Î·Î³Î¯ÎµÏ‚.",
    placeholder_15: "Î•Î¾ÎµÏÎµÏÎ½Î·ÏƒÎ· Ï„Î¿Ï… Î¬Î³Î½Ï‰ÏƒÏ„Î¿Ï…; Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ· ÏƒÎµ Î±Ï€Î¿ÏÎ¯ÎµÏ‚; Î•Î¯Î¼Î±Î¹ Î­Ï„Î¿Î¹Î¼Î¿Ï‚.",
    // Panel Manager
    quick_insert: "Î“ÏÎ®Î³Î¿ÏÎ· Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®",
    new_prompt: "ÎÎ­Î¿ Prompt",
    manage_prompts: "Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Prompts",
    search_prompts_placeholder: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· prompts...",
    hint_inline: "âŒ˜/Ctrl+Shift+P Î†Î½Î¿Î¹Î³Î¼Î± Â· â†‘/â†“ Î•Ï€Î¹Î»Î¿Î³Î® Â· Enter Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Â· Esc ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Â· â†/â†’ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±",
    category: "ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±",
    add_category: "+ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    new_category: "ÎÎ­Î± ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±",
    edit_category: "Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    name: "ÎŒÎ½Î¿Î¼Î±",
    category_name_placeholder: "ÎŒÎ½Î¿Î¼Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    icon: "Î•Î¹ÎºÎ¿Î½Î¯Î´Î¹Î¿",
    icon_emoji: "Î•Î¹ÎºÎ¿Î½Î¯Î´Î¹Î¿ (Emoji)",
    search_icon: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎµÎ¹ÎºÎ¿Î½Î¹Î´Î¯Î¿Ï…...",
    select_icon: "Î•Ï€Î¹Î»Î¿Î³Î® ÎµÎ¹ÎºÎ¿Î½Î¹Î´Î¯Î¿Ï…",
    color: "Î§ÏÏÎ¼Î±",
    all_categories: "ÎŒÎ»Î±",
    change_category: "Î‘Î»Î»Î±Î³Î® ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    uncategorized: "Î§Ï‰ÏÎ¯Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±",
    usage_count: "Î§ÏÎ®ÏƒÎ·",
    created_at: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ ÏƒÏ„Î¹Ï‚",
    favorite: "Î‘Î³Î±Ï€Î·Î¼Î­Î½Î¿",
    search_model_placeholder: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¼Î¿Î½Ï„Î­Î»Î¿Ï…...",
    no_models_found: "Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ Î¼Î¿Î½Ï„Î­Î»Î±",
    loading_models: "ğŸ”„ Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î¼Î¿Î½Ï„Î­Î»Ï‰Î½...",
    load_models_failed: "âŒ Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚",
    prev_page: "Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿",
    next_page: "Î•Ï€ÏŒÎ¼ÎµÎ½Î¿",
    page_info: "Î£ÎµÎ»Î¯Î´Î± {current} / {total}",
    // Constants - Categories
    cat_writing: "Î“ÏÎ±Ï†Î®",
    cat_writing_desc: "Î†ÏÎ¸ÏÎ±, ÎšÎµÎ¯Î¼ÎµÎ½Î±, Î™ÏƒÏ„Î¿ÏÎ¯ÎµÏ‚, Î£ÎµÎ½Î¬ÏÎ¹Î±, Îº.Î»Ï€.",
    cat_productivity: "Î Î±ÏÎ±Î³Ï‰Î³Î¹ÎºÏŒÏ„Î·Ï„Î±",
    cat_productivity_desc: "Î ÎµÏÎ¹Î»Î®ÏˆÎµÎ¹Ï‚, Î£Ï‡Î­Î´Î¹Î±, Emails, Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚, ÎœÎµÏ„Î¬Ï†ÏÎ±ÏƒÎ·, Îº.Î»Ï€.",
    cat_learning: "ÎœÎ¬Î¸Î·ÏƒÎ·",
    cat_learning_desc: "ÎˆÎ½Î½Î¿Î¹ÎµÏ‚, Î“Î»ÏÏƒÏƒÎµÏ‚, ÎˆÏÎµÏ…Î½Î±, Îº.Î»Ï€.",
    cat_coding: "Î ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚",
    cat_coding_desc: "Î‘Î»Î³ÏŒÏÎ¹Î¸Î¼Î¿Î¹, Debugging, APIs, Î‘Î½Î¬Ï€Ï„Ï…Î¾Î·, Îº.Î»Ï€.",
    cat_data: "Î”ÎµÎ´Î¿Î¼Î­Î½Î±",
    cat_data_desc: "ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚, Î‘Î½Î¬Î»Ï…ÏƒÎ·, ÎŸÏ€Ï„Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·, Îº.Î»Ï€.",
    cat_lifestyle: "Î¤ÏÏŒÏ€Î¿Ï‚ Î–Ï‰Î®Ï‚",
    cat_lifestyle_desc: "Î¤Î±Î¾Î¯Î´Î¹Î±, Î£Ï…Î½Ï„Î±Î³Î­Ï‚, Î™Î´Î­ÎµÏ‚, Î‘Î½Î±ÏˆÏ…Ï‡Î®, Îº.Î»Ï€.",
    cat_roleplay: "Î Î±Î¹Ï‡Î½Î¯Î´Î¹ Î¡ÏŒÎ»Ï‰Î½",
    cat_roleplay_desc: "Î§Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚, Î ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·, Î Î±Î¹Ï‡Î½Î¯Î´Î¹Î±, Îº.Î»Ï€.",
    // Constants - Variable Types
    var_text: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÎšÎµÎ¹Î¼Î­Î½Î¿Ï…",
    var_text_desc: "Î¤Ï…Ï€Î¹ÎºÎ® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î¼Î¯Î±Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚",
    var_textarea: "Î ÎµÏÎ¹Î¿Ï‡Î® ÎšÎµÎ¹Î¼Î­Î½Î¿Ï…",
    var_textarea_desc: "Î ÎµÏÎ¹Î¿Ï‡Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Ï€Î¿Î»Î»Î±Ï€Î»ÏÎ½ Î³ÏÎ±Î¼Î¼ÏÎ½",
    var_select: "Î•Ï€Î¹Î»Î¿Î³Î®",
    var_select_desc: "Î‘Î½Î±Ï€Ï„Ï…ÏƒÏƒÏŒÎ¼ÎµÎ½Î¿ Î¼ÎµÎ½Î¿Ï",
    var_number: "Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚",
    var_number_desc: "Î‘ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î®",
    var_checkbox: "Î Î»Î±Î¯ÏƒÎ¹Î¿ Î•Î»Î­Î³Ï‡Î¿Ï…",
    var_checkbox_desc: "Î•Ï€Î¹Î»Î¿Î³Î® Boolean",
    var_date: "Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±",
    var_date_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚",
    var_datetime_local: "Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± & ÎÏÎ±",
    var_datetime_local_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚ ÎºÎ±Î¹ ÏÏÎ±Ï‚",
    var_color: "Î§ÏÏÎ¼Î±",
    var_color_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Ï‡ÏÏÎ¼Î±Ï„Î¿Ï‚",
    var_email: "Email",
    var_email_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ email",
    var_month: "ÎœÎ®Î½Î±Ï‚",
    var_month_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î¼Î®Î½Î± ÎºÎ±Î¹ Î­Ï„Î¿Ï…Ï‚",
    var_range: "Î•ÏÏÎ¿Ï‚",
    var_range_desc: "Î§ÎµÎ¹ÏÎ¹ÏƒÏ„Î®ÏÎ¹Î¿ Î¿Î»Î¯ÏƒÎ¸Î·ÏƒÎ·Ï‚",
    var_tel: "Î¤Î·Î»Î­Ï†Ï‰Î½Î¿",
    var_tel_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î±ÏÎ¹Î¸Î¼Î¿Ï Ï„Î·Î»ÎµÏ†ÏÎ½Î¿Ï…",
    var_time: "ÎÏÎ±",
    var_time_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ ÏÏÎ±Ï‚",
    var_url: "URL",
    var_url_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® URL",
    var_map: "Î§Î¬ÏÏ„Î·Ï‚",
    var_map_desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Ï‡Î¬ÏÏ„Î·Ï‚ (Î ÎµÎ¹ÏÎ±Î¼Î±Ï„Î¹ÎºÏŒ)",
    var_table_type: "Î¤ÏÏ€Î¿Ï‚",
    var_table_desc: "Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®",
    var_table_props: "Î™Î´Î¹ÏŒÏ„Î·Ï„ÎµÏ‚",
    var_table_example: "Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±",
    // Constants - System Variables
    sys_clipboard: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Î ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï…",
    sys_clipboard_desc: "Î›Î®ÏˆÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î±Ï€ÏŒ Ï„Î¿ Ï€ÏÏŒÏ‡ÎµÎ¹ÏÎ¿ Ï‡ÏÎ®ÏƒÏ„Î·",
    sys_clipboard_note: "Î‘Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹ Î¬Î´ÎµÎ¹Î± Ï‡ÏÎ®ÏƒÏ„Î·",
    // UI Components
    auto_fill: "Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÏƒÏ…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ·",
    title_content_required: "ÎŸ Ï„Î¯Ï„Î»Î¿Ï‚ ÎºÎ±Î¹ Ï„Î¿ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ ÎµÎ¯Î½Î±Î¹ Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÎ¬!",
    category_required: "Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±!",
    prompt_updated: "Î¤Î¿ Prompt ÎµÎ½Î·Î¼ÎµÏÏÎ¸Î·ÎºÎµ!",
    prompt_created: "Î¤Î¿ Prompt Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ!",
    save_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚: ",
    confirm_delete_title: "Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Î´Î¹Î±Î³ÏÎ±Ï†Î®Ï‚",
    confirm_delete_prompt_message: `Î”Î¹Î±Î³ÏÎ±Ï†Î® Ï„Î¿Ï… prompt "{title}";

Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·: Î‘Ï…Ï„ÏŒ Î¸Î± Ï„Î¿ Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹ Ï„Î¿Ï€Î¹ÎºÎ¬ ÎºÎ±Î¹ Î±Ï€ÏŒ Ï„Î¿ OpenWebUI.`,
    prompt_deleted: "âœ… Î¤Î¿ Prompt Î´Î¹Î±Î³ÏÎ¬Ï†Î·ÎºÎµ",
    delete_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î´Î¹Î±Î³ÏÎ±Ï†Î®Ï‚: ",
    prompt_not_found: "Î¤Î¿ Prompt Î´ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ",
    update_category_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚: ",
    category_name_required: "Î¤Î¿ ÏŒÎ½Î¿Î¼Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ ÎµÎ¯Î½Î±Î¹ Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÏŒ!",
    confirm_delete_category: 'Î•Î¯ÏƒÏ„Îµ Î²Î­Î²Î±Î¹Î¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±; Î¤Î± prompts ÏƒÎµ Î±Ï…Ï„Î®Î½ Ï„Î·Î½ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î¸Î± Î³Î¯Î½Î¿Ï…Î½ "Î§Ï‰ÏÎ¯Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±".',
    import_export_prompt: `Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ Î¼Î¹Î± ÎµÎ½Î­ÏÎ³ÎµÎ¹Î±:
1. Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Prompts
2. Î•Î¾Î±Î³Ï‰Î³Î® Prompts
3. Î‘ÎºÏÏÏ‰ÏƒÎ·

Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Î­Î½Î±Î½ Î±ÏÎ¹Î¸Î¼ÏŒ (1-3):`,
    import_prompts: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Prompts",
    export_prompts: "Î•Î¾Î±Î³Ï‰Î³Î® Prompts",
    cancel: "Î‘ÎºÏÏÏ‰ÏƒÎ·",
    delete: "Î”Î¹Î±Î³ÏÎ±Ï†Î®",
    found_prompts_import_confirm: `Î’ÏÎ­Î¸Î·ÎºÎ±Î½ {count} prompts.
Î˜Î­Î»ÎµÏ„Îµ Î½Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î®;`,
    import_success_message: `Î— ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ!
Î•Ï€Î¹Ï„Ï…Ï‡Î®Ï‚ ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® {imported} Î½Î­Ï‰Î½ prompts.
Î Î±ÏÎ±Î»ÎµÎ¯Ï†Î¸Î·ÎºÎ±Î½ {skipped} Î´Î¹Ï€Î»ÏŒÏ„Ï…Ï€Î± prompts.`,
    invalid_file_format: "ÎœÎ· Î­Î³ÎºÏ…ÏÎ· Î¼Î¿ÏÏ†Î® Î±ÏÏ‡ÎµÎ¯Î¿Ï…",
    file_parse_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î±Î½Î¬Î»Ï…ÏƒÎ·Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï…: ",
    describe_func_placeholder: "Î Î±ÏÎ±ÎºÎ±Î»Ï Ï€ÎµÏÎ¹Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î· Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÏ€Î¹Ï„ÏÏ‡ÎµÎ¹ Ï„Î¿ prompt",
    generation_failed_retry: "Î— Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±Ï€Î­Ï„Ï…Ï‡Îµ, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¾Î±Î½Î¬",
    generation_error: "Î£Ï†Î¬Î»Î¼Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚: ",
    generated_preview_title: "ğŸ¯ Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ· Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¼Î­Î½Î¿Ï… Prompt",
    title_label: "Î¤Î¯Ï„Î»Î¿Ï‚: ",
    content_label: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿: ",
    category_label: "ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: ",
    command_label: "Î•Î½Ï„Î¿Î»Î®: ",
    quality_score_label: "Î’Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î± Î Î¿Î¹ÏŒÏ„Î·Ï„Î±Ï‚: ",
    errors_label: "âŒ Î£Ï†Î¬Î»Î¼Î±Ï„Î±",
    warnings_label: "âš ï¸ Î ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚",
    suggestions_label: "ğŸ’¡ Î ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚",
    content_meets_requirements: "Î¤Î¿ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¼Î­Î½Î¿ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Ï€Î»Î·ÏÎ¿Î¯ Ï„Î¹Ï‚ Î±Ï€Î±Î¹Ï„Î®ÏƒÎµÎ¹Ï‚!",
    accept_result: "Î‘Ï€Î¿Î´Î¿Ï‡Î® Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î¿Ï‚",
    regenerate: "Î‘Î½Î±Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±",
    manual_edit: "Î§ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î· Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±",
    synced_to_form_hint: "Î£Ï…Î³Ï‡ÏÎ¿Î½Î¯ÏƒÏ„Î·ÎºÎµ Î¼Îµ Ï„Î· Ï†ÏŒÏÎ¼Î± ÏƒÏ„Î± Î±ÏÎ¹ÏƒÏ„ÎµÏÎ¬, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ Ï€ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ· Î® Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï€ÏÎ¹Î½ Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·.",
    ai_prompt_saved: "âœ… Î¤Î¿ AI prompt Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎµ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚!",
    no_retry_record: "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ ÎµÎ³Î³ÏÎ±Ï†Î® Î³Î¹Î± Î±Î½Î±Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÏ„Îµ Î¼Î¯Î± Ï†Î¿ÏÎ¬ Ï€ÏÏÏ„Î±.",
    search_select_model_placeholder: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î® ÎµÏ€Î¹Î»Î¿Î³Î® Î¼Î¿Î½Ï„Î­Î»Î¿Ï…...",
    no_models_available: "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± Î¼Î¿Î½Ï„Î­Î»Î±",
    load_failed_refresh: "Î— Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î±Ï€Î­Ï„Ï…Ï‡Îµ, Ï€Î±ÏÎ±ÎºÎ±Î»Ï Î±Î½Î±Î½ÎµÏÏƒÏ„Îµ",
    fill_title_content: "Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï€ÏÏÏ„Î± Ï„Î¿Î½ Ï„Î¯Ï„Î»Î¿ ÎºÎ±Î¹ Ï„Î¿ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿",
    prompt_preview_title: "Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ· Prompt - ",
    edit_prompt_title: "Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Prompt",
    new_prompt_title: "ÎÎ­Î¿ Prompt",
    unknown_model: "Î†Î³Î½Ï‰ÏƒÏ„Î¿ ÎœÎ¿Î½Ï„Î­Î»Î¿",
    offline: "Î•ÎºÏ„ÏŒÏ‚ ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚",
    prompt_editor_title: "Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„Î®Ï‚ Prompt",
    workspace: "Î§ÏÏÎ¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚",
    ai_mode: "Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± AI",
    manual_mode: "Î§ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î· Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±",
    preview: "Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ·",
    ai_generate_title: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Prompt Î¼Îµ AI",
    ai_generate_subtitle: "Î ÎµÏÎ¹Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î¹Ï‚ Î±Î½Î¬Î³ÎºÎµÏ‚ ÏƒÎ±Ï‚, Î· AI Î¸Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹ Ï„Î¿ prompt Î³Î¹Î± ÎµÏƒÎ¬Ï‚",
    ai_model: "ÎœÎ¿Î½Ï„Î­Î»Î¿ AI",
    func_description: "Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚",
    func_desc_placeholder: "Î ÎµÏÎ¹Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î· Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Ï€Î¿Ï… Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÏ€Î¹Ï„ÏÏ‡ÎµÎ¹ Ï„Î¿ prompt...",
    func_desc_hint: "Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±: Î’Î¿Î®Î¸Î·ÏƒÎ­ Î¼Îµ Î½Î± Î³ÏÎ¬ÏˆÏ‰ Î­Î½Î± Î¬ÏÎ¸ÏÎ¿ Î³Î¹Î± Ï„Î·Î½ Î±Î½Î¬Ï€Ï„Ï…Î¾Î· Ï„Î·Ï‚ AI...",
    use_clipboard: "Î§ÏÎ®ÏƒÎ· Î ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… Î ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï…",
    clipboard_note: "Î§ÏÎ®ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… Ï€ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï… Ï‰Ï‚ Ï€Î»Î±Î¯ÏƒÎ¹Î¿",
    generate_btn: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±",
    generating: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±...",
    generate_hint: "Î— Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± AI Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯Î½Î±Î¹ Î±Î½Î±ÎºÏÎ¹Î²Î®Ï‚, Ï€Î±ÏÎ±ÎºÎ±Î»Ï ÎµÏ€Î±Î»Î·Î¸ÎµÏÏƒÏ„Îµ Ï‡ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î±",
    prompt_details: "Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Prompt",
    prompt_details_subtitle: "Î§ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î· ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… prompt",
    title: "Î¤Î¯Ï„Î»Î¿Ï‚",
    title_placeholder: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Ï„Î¯Ï„Î»Î¿Ï… prompt...",
    content: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿",
    content_placeholder: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… prompt, Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚...",
    common_types: "ÎšÎ¿Î¹Î½Î¿Î¯ Î¤ÏÏ€Î¿Î¹ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    variable_syntax_help: "Î’Î¿Î®Î¸ÎµÎ¹Î± Î£ÏÎ½Ï„Î±Î¾Î·Ï‚ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    live_preview: "Î–Ï‰Î½Ï„Î±Î½Î® Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ·",
    variable_highlight: "Î•Ï€Î¹ÏƒÎ®Î¼Î±Î½ÏƒÎ· ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    variable_syntax_title: "ÎŸÎ´Î·Î³ÏŒÏ‚ Î£ÏÎ½Ï„Î±Î¾Î·Ï‚ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    basic_syntax: "Î’Î±ÏƒÎ¹ÎºÎ® Î£ÏÎ½Ï„Î±Î¾Î·",
    common_variable_types: "ÎšÎ¿Î¹Î½Î¿Î¯ Î¤ÏÏ€Î¿Î¹ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    system_variables: "ÎœÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚",
    clipboard_content: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Î ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï…",
    untitled: "Î§Ï‰ÏÎ¯Ï‚ Ï„Î¯Ï„Î»Î¿",
    no_content: "Î§Ï‰ÏÎ¯Ï‚ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿",
    switch_model_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î±Î»Î»Î±Î³Î®Ï‚ Î¼Î¿Î½Ï„Î­Î»Î¿Ï…: ",
    switched_to: "Î†Î»Î»Î±Î¾Îµ ÏƒÎµ: ",
    get_template_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î»Î®ÏˆÎ·Ï‚ Ï€ÏÎ¿Ï„ÏÏ€Î¿Ï…: ",
    ai_api_unavailable: "AI API ÎœÎ· Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿",
    no_prompts: "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ prompts",
    no_prompts_hint: 'ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ "+" Î³Î¹Î± Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Ï„Î¿ Ï€ÏÏÏ„Î¿ ÏƒÎ±Ï‚ prompt!',
    help_simple_var: "Î‘Ï€Î»Î® Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï…",
    help_typed_var: "ÎšÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Ï„ÏÏ€Î¿Ï… Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î®Ï‚",
    help_prop_var: "ÎœÎµÏ„Î±Î²Î»Î·Ï„Î® Î¼Îµ Î¹Î´Î¹ÏŒÏ„Î·Ï„ÎµÏ‚",
    help_example_name: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚",
    help_example_high: "Î¥ÏˆÎ·Î»Î®",
    help_example_medium: "ÎœÎµÏƒÎ±Î¯Î±",
    help_example_low: "Î§Î±Î¼Î·Î»Î®",
    save_prompt: "Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Prompt",
    saving: "Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·...",
    wizard_step_ai: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± AI",
    wizard_step_edit: "Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± & Î¡ÏÎ¸Î¼Î¹ÏƒÎ·",
    variable_help: "Î’Î¿Î®Î¸ÎµÎ¹Î± ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    shortcut_help_title: "Î’Î¿Î®Î¸ÎµÎ¹Î± Î£Ï…Î½Ï„Î¿Î¼ÎµÏÏƒÎµÏ‰Î½",
    // AI Generation Process
    generating_attempt: "Î ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚ {attempt}...",
    validating_content: "Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï…...",
    generation_success: "Î— Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï€Î­Ï„Ï…Ï‡Îµ!",
    validation_failed_retry: "Î— ÎµÏ€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î±Ï€Î­Ï„Ï…Ï‡Îµ, Ï€ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¯Î± ÎµÏ€Î±Î½Î±Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î±Ï‚... (Î’Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±: {score}%)",
    all_retries_failed: "ÎŒÎ»ÎµÏ‚ Î¿Î¹ Ï€ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹ÎµÏ‚ Î±Ï€Î­Ï„Ï…ÏˆÎ±Î½",
    generation_error_msg: "Î£Ï†Î¬Î»Î¼Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚: {message}",
    fix_variable_syntax: "Î”Î¹ÏŒÏÎ¸Ï‰ÏƒÎ· ÏƒÏÎ½Ï„Î±Î¾Î·Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î®Ï‚",
    check_variable_syntax: "Î•Î»Î­Î³Î¾Ï„Îµ Î±Î½ Î· Î¼Î¿ÏÏ†Î® ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ {{}} ÎµÎ¯Î½Î±Î¹ ÏƒÏ‰ÏƒÏ„Î®",
    improve_title: "Î’ÎµÎ»Ï„Î¯Ï‰ÏƒÎ· Ï„Î¯Ï„Î»Î¿Ï…",
    add_title: "Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î® Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î¯Ï„Î»Î¿Ï… prompt",
    supplement_content: "Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï…",
    add_content: "Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Ï€Î¹Î¿ Î»ÎµÏ€Ï„Î¿Î¼ÎµÏÎ¿ÏÏ‚ Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… prompt",
    simplify_content: "Î‘Ï€Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï…",
    shorten_content: "Î‘Ï†Î±Î¯ÏÎµÏƒÎ· Ï€ÎµÏÎ¹Ï„Ï„Î¿Ï Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï…, Î´Î¹Î±Ï„Î®ÏÎ·ÏƒÎ· ÏƒÏ…Î½Ï„Î¿Î¼Î¯Î±Ï‚",
    // Variable Help
    variable_syntax_title: "ğŸ“– Î£ÏÎ½Ï„Î±Î¾Î· ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ OpenWebUI",
    basic_syntax: "Î’Î±ÏƒÎ¹ÎºÎ® Î£ÏÎ½Ï„Î±Î¾Î·",
    common_variable_types: "ÎšÎ¿Î¹Î½Î¿Î¯ Î¤ÏÏ€Î¿Î¹ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½",
    system_variables: "ÎœÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚",
    clipboard_content: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Î ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï…",
    // Constants - Categories
    cat_writing: "Î“ÏÎ±Ï†Î®",
    cat_writing_desc: "Î†ÏÎ¸ÏÎ±, ÎšÎµÎ¯Î¼ÎµÎ½Î±, Î™ÏƒÏ„Î¿ÏÎ¯ÎµÏ‚, Î£ÎµÎ½Î¬ÏÎ¹Î±, Îº.Î»Ï€.",
    cat_productivity: "Î Î±ÏÎ±Î³Ï‰Î³Î¹ÎºÏŒÏ„Î·Ï„Î±",
    cat_productivity_desc: "Î ÎµÏÎ¹Î»Î®ÏˆÎµÎ¹Ï‚, Î£Ï‡Î­Î´Î¹Î±, Emails, Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚, ÎœÎµÏ„Î¬Ï†ÏÎ±ÏƒÎ·, Îº.Î»Ï€.",
    cat_learning: "ÎœÎ¬Î¸Î·ÏƒÎ·",
    cat_learning_desc: "ÎˆÎ½Î½Î¿Î¹ÎµÏ‚, Î“Î»ÏÏƒÏƒÎµÏ‚, ÎˆÏÎµÏ…Î½Î±, Îº.Î»Ï€.",
    cat_coding: "Î ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚",
    cat_coding_desc: "Î‘Î»Î³ÏŒÏÎ¹Î¸Î¼Î¿Î¹, Debugging, APIs, Î‘Î½Î¬Ï€Ï„Ï…Î¾Î·, Îº.Î»Ï€.",
    cat_data: "Î”ÎµÎ´Î¿Î¼Î­Î½Î±",
    cat_data_desc: "ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚, Î‘Î½Î¬Î»Ï…ÏƒÎ·, ÎŸÏ€Ï„Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ·, Îº.Î»Ï€.",
    cat_lifestyle: "Î¤ÏÏŒÏ€Î¿Ï‚ Î–Ï‰Î®Ï‚",
    cat_lifestyle_desc: "Î¤Î±Î¾Î¯Î´Î¹Î±, Î£Ï…Î½Ï„Î±Î³Î­Ï‚, Î™Î´Î­ÎµÏ‚, Î‘Î½Î±ÏˆÏ…Ï‡Î®, Îº.Î»Ï€.",
    cat_roleplay: "Î Î±Î¹Ï‡Î½Î¯Î´Î¹ Î¡ÏŒÎ»Ï‰Î½",
    cat_roleplay_desc: "Î§Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚, Î ÏÎ¿ÏƒÎ¿Î¼Î¿Î¯Ï‰ÏƒÎ·, Î Î±Î¹Ï‡Î½Î¯Î´Î¹Î±, Îº.Î»Ï€.",
    // Constants - Variable Types
    var_text: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÎšÎµÎ¹Î¼Î­Î½Î¿Ï…",
    var_text_desc: "Î¤Ï…Ï€Î¹ÎºÎ® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î¼Î¯Î±Ï‚ Î³ÏÎ±Î¼Î¼Î®Ï‚",
    var_textarea: "Î ÎµÏÎ¹Î¿Ï‡Î® ÎšÎµÎ¹Î¼Î­Î½Î¿Ï…",
    var_textarea_desc: "Î ÎµÏÎ¹Î¿Ï‡Î® ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Ï€Î¿Î»Î»Î±Ï€Î»ÏÎ½ Î³ÏÎ±Î¼Î¼ÏÎ½",
    var_select: "Î•Ï€Î¹Î»Î¿Î³Î®",
    var_select_desc: "Î‘Î½Î±Ï€Ï„Ï…ÏƒÏƒÏŒÎ¼ÎµÎ½Î¿ Î¼ÎµÎ½Î¿Ï",
    var_number: "Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚",
    var_number_desc: "Î‘ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ® ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î®",
    var_checkbox: "Î Î»Î±Î¯ÏƒÎ¹Î¿ Î•Î»Î­Î³Ï‡Î¿Ï…",
    var_checkbox_desc: "Î•Ï€Î¹Î»Î¿Î³Î® Boolean",
    var_date: "Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±",
    var_date_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚",
    var_datetime_local: "Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± & ÎÏÎ±",
    var_datetime_local_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚ ÎºÎ±Î¹ ÏÏÎ±Ï‚",
    var_color: "Î§ÏÏÎ¼Î±",
    var_color_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Ï‡ÏÏÎ¼Î±Ï„Î¿Ï‚",
    var_email: "Email",
    var_email_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ email",
    var_month: "ÎœÎ®Î½Î±Ï‚",
    var_month_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ Î¼Î®Î½Î± ÎºÎ±Î¹ Î­Ï„Î¿Ï…Ï‚",
    var_range: "Î•ÏÏÎ¿Ï‚",
    var_range_desc: "Î§ÎµÎ¹ÏÎ¹ÏƒÏ„Î®ÏÎ¹Î¿ Î¿Î»Î¯ÏƒÎ¸Î·ÏƒÎ·Ï‚",
    var_tel: "Î¤Î·Î»Î­Ï†Ï‰Î½Î¿",
    var_tel_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î±ÏÎ¹Î¸Î¼Î¿Ï Ï„Î·Î»ÎµÏ†ÏÎ½Î¿Ï…",
    var_time: "ÎÏÎ±",
    var_time_desc: "Î•Ï€Î¹Î»Î¿Î³Î­Î±Ï‚ ÏÏÎ±Ï‚",
    var_url: "URL",
    var_url_desc: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® URL",
    var_map: "Î§Î¬ÏÏ„Î·Ï‚",
    var_map_desc: "Î”Î¹Î±Î´ÏÎ±ÏƒÏ„Î¹ÎºÏŒÏ‚ Ï‡Î¬ÏÏ„Î·Ï‚ (Î ÎµÎ¹ÏÎ±Î¼Î±Ï„Î¹ÎºÏŒ)",
    var_table_type: "Î¤ÏÏ€Î¿Ï‚",
    var_table_desc: "Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®",
    var_table_props: "Î™Î´Î¹ÏŒÏ„Î·Ï„ÎµÏ‚",
    var_table_example: "Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±",
    // Constants - System Variables
    sys_clipboard: "Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ Î ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï…",
    sys_clipboard_desc: "Î›Î®ÏˆÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… ÎºÎµÎ¹Î¼Î­Î½Î¿Ï… Î±Ï€ÏŒ Ï„Î¿ Ï€ÏÏŒÏ‡ÎµÎ¹ÏÎ¿ Ï‡ÏÎ®ÏƒÏ„Î·",
    sys_clipboard_note: "Î‘Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹ Î¬Î´ÎµÎ¹Î± Ï‡ÏÎ®ÏƒÏ„Î·",
    // UI Components (Supplementary)
    strict_naming_rules: `[Î£Î—ÎœÎ‘ÎÎ¤Î™ÎšÎŸ: Î‘Ï…ÏƒÏ„Î·ÏÎ¿Î¯ ÎšÎ±Î½ÏŒÎ½ÎµÏ‚ ÎŸÎ½Î¿Î¼Î±Ï„Î¿Î´Î¿ÏƒÎ¯Î±Ï‚]
Î¤Î± Î¿Î½ÏŒÎ¼Î±Ï„Î± ÎµÎ½Ï„Î¿Î»ÏÎ½ Ï€Î¿Ï… Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½Ï„Î±Î¹ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î±ÎºÎ¿Î»Î¿Ï…Î¸Î¿ÏÎ½ Î±Ï…ÏƒÏ„Î·ÏÎ¬ Î±Ï…Ï„Î¿ÏÏ‚ Ï„Î¿Ï…Ï‚ ÎºÎ±Î½ÏŒÎ½ÎµÏ‚:
1. Î•Ï€Î¹Ï„ÏÎµÏ€ÏŒÎ¼ÎµÎ½Î¿Î¹ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚: Î‘Î³Î³Î»Î¹ÎºÎ¬ Î³ÏÎ¬Î¼Î¼Î±Ï„Î± (a-z, A-Z), Î±ÏÎ¹Î¸Î¼Î¿Î¯ (0-9), Ï€Î±ÏÎ»ÎµÏ‚ (-) ÎºÎ±Î¹ ÎºÎ¬Ï„Ï‰ Ï€Î±ÏÎ»ÎµÏ‚ (_)
2. Î‘Î¥Î£Î¤Î—Î¡Î‘ Î‘Î Î‘Î“ÎŸÎ¡Î•Î¥ÎœÎ•ÎÎ‘: ÎºÎµÎ½Î¬, Ï„ÎµÎ»ÎµÎ¯ÎµÏ‚ (.), ÎºÎ¬Î¸ÎµÏ„ÎµÏ‚ Î³ÏÎ±Î¼Î¼Î­Ï‚ (/) ÎºÎ±Î¹ Î¬Î»Î»Î¿Î¹ ÎµÎ¹Î´Î¹ÎºÎ¿Î¯ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚
3. ÎœÎ¿ÏÏ†Î®: ÎÎµÎºÎ¹Î½Î®ÏƒÏ„Îµ Î¼Îµ Ï€ÎµÎ¶ÏŒ Î³ÏÎ¬Î¼Î¼Î±, ÏƒÏ…Î½Î´Î­ÏƒÏ„Îµ Ï€Î¿Î»Î»Î­Ï‚ Î»Î­Î¾ÎµÎ¹Ï‚ Î¼Îµ Î´Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬
4. ÎœÎ®ÎºÎ¿Ï‚: 2-30 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚
5. Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±: data-analysis, user_report, task-manager`,
    variable_syntax_rules: '[Î£Î—ÎœÎ‘ÎÎ¤Î™ÎšÎŸ: ÎšÎ±Î½ÏŒÎ½ÎµÏ‚ Î£ÏÎ½Ï„Î±Î¾Î·Ï‚ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½]\nÎŒÎ»ÎµÏ‚ Î¿Î¹ Î¹Î´Î¹ÏŒÏ„Î·Ï„ÎµÏ‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½ Ï„Î· Î¼Î¿ÏÏ†Î® "property=value", ÎµÎ¹Î´Î¹ÎºÎ¬ Î· Î¹Î´Î¹ÏŒÏ„Î·Ï„Î± "default".\n1.  **Î£Ï‰ÏƒÏ„Î® Î£ÏÎ½Ï„Î±Î¾Î·**: `{{variable_name | type:default="value"}}`\n2.  **Î›Î±Î½Î¸Î±ÏƒÎ¼Î­Î½Î· Î£ÏÎ½Ï„Î±Î¾Î·**: `{{variable_name | type | value}}`\n\n**Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±**:\n-   **Î¤ÏÏ€Î¿Ï‚ ÎšÎµÎ¹Î¼Î­Î½Î¿Ï…**:\n    -   âœ… Î£Ï‰ÏƒÏ„ÏŒ: `{{topic | text:default="Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±"}}`\n    -   âŒ Î›Î¬Î¸Î¿Ï‚: `{{topic | text | Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±}}`\n-   **Î¤ÏÏ€Î¿Ï‚ Î‘ÏÎ¹Î¸Î¼Î¿Ï**:\n    -   âœ… Î£Ï‰ÏƒÏ„ÏŒ: `{{count | number:default=5}}`\n    -   âŒ Î›Î¬Î¸Î¿Ï‚: `{{count | number:5}}`\n-   **Î¤ÏÏ€Î¿Ï‚ Î•Ï€Î¹Î»Î¿Î³Î®Ï‚**:\n    -   âœ… Î£Ï‰ÏƒÏ„ÏŒ: `{{priority | select:options=["Î¥ÏˆÎ·Î»Î®","ÎœÎµÏƒÎ±Î¯Î±","Î§Î±Î¼Î·Î»Î®"]:default="ÎœÎµÏƒÎ±Î¯Î±"}}`\n    -   âŒ Î›Î¬Î¸Î¿Ï‚: `{{priority | select | ["Î¥ÏˆÎ·Î»Î®","ÎœÎµÏƒÎ±Î¯Î±","Î§Î±Î¼Î·Î»Î®"]}}`',
    available_variables_intro: `[Î£Î—ÎœÎ‘ÎÎ¤Î™ÎšÎŸ: Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿Î¹ Î¤ÏÏ€Î¿Î¹ ÎœÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ ÎºÎ±Î¹ Î™Î´Î¹ÏŒÏ„Î·Ï„ÎµÏ‚]
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿Ï…Ï‚ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Ï„ÏÏ€Î¿Ï…Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ Î³Î¹Î± Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Ï€Î»Î¿ÏÏƒÎ¹ÎµÏ‚ Ï†ÏŒÏÎ¼ÎµÏ‚ prompt. Î Î±ÏÎ±ÎºÎ±Î»Ï Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î¿Ï…Ï‚ ÎµÏ…Î­Î»Î¹ÎºÏ„Î± ÎºÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±.`,
    operation_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î±Ï‚: ",
    update_category_failed: "Î‘Ï€Î¿Ï„Ï…Ï‡Î¯Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚: ",
    attempt_count: "Î ÏÎ¿ÏƒÏ€Î¬Î¸ÎµÎ¹Î± {n}",
    errors_prefix: "\\nÎ£Ï†Î¬Î»Î¼Î±Ï„Î±: ",
    warnings_prefix: "\\nÎ ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚: ",
    score_prefix: "\\nÎ’Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±: ",
    use_clipboard_hint: "Î§ÏÎ®ÏƒÎ· Ï€ÎµÏÎ¹ÎµÏ‡Î¿Î¼Î­Î½Î¿Ï… Ï€ÏÎ¿Ï‡ÎµÎ¯ÏÎ¿Ï… Ï‰Ï‚ Ï€Î»Î±Î¯ÏƒÎ¹Î¿",
    step_generating: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±",
    step_validating: "Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ·",
    step_completed: "ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ",
    ai_processing: "Î— AI ÎµÏ€ÎµÎ¾ÎµÏÎ³Î¬Î¶ÎµÏ„Î±Î¹...",
    preview_placeholder: "Î ÏÎ¿ÎµÏ€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¼Î­Î½Î¿Ï… prompt ÎµÎ´Ï",
    select_category: "Î•Ï€Î¹Î»Î¿Î³Î® ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    manual_edit_title: "Î§ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î· Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Prompt",
    manual_edit_subtitle: "Î’ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î¿ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î·Î¼Î­Î½Î¿ prompt ÎµÎ´Ï",
    supports_markdown: "Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ Markdown",
    tags: "Î•Ï„Î¹ÎºÎ­Ï„ÎµÏ‚",
    tags_placeholder: "Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÎµÏ„Î¹ÎºÎµÏ„ÏÎ½, Ï‡Ï‰ÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î¼Îµ ÎºÏŒÎ¼Î¼Î±...",
    expand_ai: "Î‘Î½Î¬Ï€Ï„Ï…Î¾Î· Î’Î¿Î·Î¸Î¿Ï AI",
    collapse_ai: "Î£ÏÎ¼Ï€Ï„Ï…Î¾Î· Î’Î¿Î·Î¸Î¿Ï AI",
    skip_to_edit: "ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· ÏƒÎµ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±",
    back_to_ai: "Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÎµ AI",
    // Shortcut Help
    shortcut_section_nav: "Î Î»Î¿Î®Î³Î·ÏƒÎ·",
    shortcut_nav_desc: "â†‘/â†“: Î•Ï€Î¹Î»Î¿Î³Î® Prompt",
    shortcut_section_cat: "ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚",
    shortcut_cat_desc: "â†/â†’: Î‘Î»Î»Î±Î³Î® ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚",
    shortcut_section_open: "Î†Î½Î¿Î¹Î³Î¼Î±",
    shortcut_open_desc_1: "Enter: Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï… Prompt",
    shortcut_open_desc_2: "Esc: ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ Î Î¬Î½ÎµÎ»"
  },
  "ja-JP": {
    // General
    search: "æ¤œç´¢",
    generate_image: "ç”»åƒç”Ÿæˆ",
    prompt: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
    prompt_management: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†",
    prompt_management_tooltip: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç† (å³ã‚¯ãƒªãƒƒã‚¯ã§é–‹ã)",
    close: "é–‰ã˜ã‚‹",
    copy: "ã‚³ãƒ”ãƒ¼",
    delete: "å‰Šé™¤",
    edit: "ç·¨é›†",
    save: "ä¿å­˜",
    cancel: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
    confirm: "ç¢ºèª",
    import: "ã‚¤ãƒ³ãƒãƒ¼ãƒˆ",
    export: "ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",
    add: "è¿½åŠ ",
    create: "ä½œæˆ",
    loading: "èª­ã¿è¾¼ã¿ä¸­...",
    success: "æˆåŠŸ",
    error: "ã‚¨ãƒ©ãƒ¼",
    warning: "è­¦å‘Š",
    info: "æƒ…å ±",
    placeholder_1: "æ¥ãšã‹ã—ãŒã‚‰ãšã«ã€ä½•ã‹èã„ã¦ãã ã•ã„ï¼",
    placeholder_2: "ã‚ãªãŸã®å°‚å±AIãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã™ã€‚ãŠæ°—è»½ã«ã©ã†ãã€œ",
    placeholder_3: "ãƒãƒ¼ãƒ³ï¼AIãŒã‚ãªãŸã®è³ªå•ã‚’å¾…ã£ã¦ã„ã¾ã™...",
    placeholder_4: "é­‚ã®å•ã„ã‹ã‘ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼ï¼ˆã¾ãŸã¯å˜ãªã‚‹ãŠã—ã‚ƒã¹ã‚Šã§ã‚‚ï¼‰",
    placeholder_5: "å®‡å®™ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šä¸­... ã©ã†ãï¼",
    placeholder_6: "ä»Šæ—¥ã¯ã©ã®ã‚ˆã†ãªãŠæ‰‹ä¼ã„ãŒã§ãã¾ã™ã‹ï¼Ÿ",
    placeholder_7: "ã”æŒ‡ç¤ºã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚",
    placeholder_8: "æ€è€ƒã¯é¢¨ã®ã‚ˆã†ãªã‚‚ã®ã€ã“ã“ã§ä¸€ä¼‘ã¿ã—ã¾ã›ã‚“ã‹...",
    placeholder_9: "ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã™ã‹ï¼Ÿ",
    placeholder_10: "AIå¾…æ©Ÿä¸­ã€ã”æŒ‡ç¤ºã‚’ï¼",
    placeholder_11: "æ€è€ƒä¸­...ï¼ˆå¿™ã—ã„ãµã‚Šã‚’ã—ã¦ã„ã¾ã™ï¼‰",
    placeholder_12: "ã“ã‚“ã«ã¡ã¯ã€æ±ºã—ã¦ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã«ãªã‚‰ãªã„AIã‚µãƒãƒ¼ãƒˆã§ã™ã€‚",
    placeholder_13: "ã‚ãªãŸã®ç´ æ•µãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...",
    placeholder_14: "ãƒã‚¤ãƒ³ãƒ‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æº–å‚™å®Œäº†ã€æŒ‡ç¤ºã‚’é€ä¿¡ã—ã¦ãã ã•ã„ã€‚",
    placeholder_15: "æœªçŸ¥ã®æ¢æ±‚ï¼Ÿç–‘å•ã®è§£æ±ºï¼Ÿæº–å‚™ã¯ã§ãã¦ã„ã¾ã™ã€‚",
    // Panel Manager
    quick_insert: "ã‚¯ã‚¤ãƒƒã‚¯æŒ¿å…¥",
    new_prompt: "æ–°è¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
    manage_prompts: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†",
    search_prompts_placeholder: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ¤œç´¢...",
    hint_inline: "âŒ˜/Ctrl+Shift+P é–‹ã Â· â†‘/â†“ é¸æŠ Â· Enter æŒ¿å…¥ Â· Esc é–‰ã˜ã‚‹ Â· â†/â†’ ã‚«ãƒ†ã‚´ãƒª",
    category: "ã‚«ãƒ†ã‚´ãƒª",
    add_category: "+ ã‚«ãƒ†ã‚´ãƒªè¿½åŠ ",
    new_category: "æ–°è¦ã‚«ãƒ†ã‚´ãƒª",
    edit_category: "ã‚«ãƒ†ã‚´ãƒªç·¨é›†",
    name: "åå‰",
    category_name_placeholder: "ã‚«ãƒ†ã‚´ãƒªå",
    icon: "ã‚¢ã‚¤ã‚³ãƒ³",
    icon_emoji: "ã‚¢ã‚¤ã‚³ãƒ³ (Emoji)",
    search_icon: "ã‚¢ã‚¤ã‚³ãƒ³ã‚’æ¤œç´¢...",
    select_icon: "ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠ",
    color: "è‰²",
    all_categories: "ã™ã¹ã¦",
    change_category: "ã‚«ãƒ†ã‚´ãƒªå¤‰æ›´",
    uncategorized: "æœªåˆ†é¡",
    usage_count: "ä½¿ç”¨å›æ•°",
    created_at: "ä½œæˆæ—¥",
    favorite: "ãŠæ°—ã«å…¥ã‚Š",
    search_model_placeholder: "ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢...",
    no_models_found: "ãƒ¢ãƒ‡ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
    loading_models: "ğŸ”„ ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿ä¸­...",
    load_models_failed: "âŒ èª­ã¿è¾¼ã¿å¤±æ•—",
    prev_page: "å‰ã¸",
    next_page: "æ¬¡ã¸",
    page_info: "{current} / {total} ãƒšãƒ¼ã‚¸",
    // Constants - Categories
    cat_writing: "ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°",
    cat_writing_desc: "è¨˜äº‹ã€ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ã€ç‰©èªã€è„šæœ¬ãªã©",
    cat_productivity: "ç”Ÿç”£æ€§",
    cat_productivity_desc: "è¦ç´„ã€è¨ˆç”»ã€ãƒ¡ãƒ¼ãƒ«ã€ãƒ¬ãƒãƒ¼ãƒˆã€ç¿»è¨³ãªã©",
    cat_learning: "å­¦ç¿’",
    cat_learning_desc: "æ¦‚å¿µã€è¨€èªã€ç ”ç©¶ãªã©",
    cat_coding: "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°",
    cat_coding_desc: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ãƒ‡ãƒãƒƒã‚°ã€APIã€é–‹ç™ºãªã©",
    cat_data: "ãƒ‡ãƒ¼ã‚¿",
    cat_data_desc: "ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€åˆ†æã€å¯è¦–åŒ–ãªã©",
    cat_lifestyle: "ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«",
    cat_lifestyle_desc: "æ—…è¡Œã€ãƒ¬ã‚·ãƒ”ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã€ãƒ¬ã‚¸ãƒ£ãƒ¼ãªã©",
    cat_roleplay: "ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤",
    cat_roleplay_desc: "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚²ãƒ¼ãƒ ãªã©",
    // Constants - Variable Types
    var_text: "ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›",
    var_text_desc: "æ¨™æº–çš„ãª1è¡Œãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›",
    var_textarea: "ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢",
    var_textarea_desc: "è¤‡æ•°è¡Œã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢",
    var_select: "é¸æŠ",
    var_select_desc: "ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    var_number: "æ•°å€¤",
    var_number_desc: "æ•°å€¤å…¥åŠ›",
    var_checkbox: "ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹",
    var_checkbox_desc: "ãƒ–ãƒ¼ãƒ«å€¤ã®é¸æŠ",
    var_date: "æ—¥ä»˜",
    var_date_desc: "æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼",
    var_datetime_local: "æ—¥æ™‚",
    var_datetime_local_desc: "æ—¥æ™‚ãƒ”ãƒƒã‚«ãƒ¼",
    var_color: "è‰²",
    var_color_desc: "ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼",
    var_email: "ãƒ¡ãƒ¼ãƒ«",
    var_email_desc: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›",
    var_month: "æœˆ",
    var_month_desc: "æœˆã¨å¹´ã®ãƒ”ãƒƒã‚«ãƒ¼",
    var_range: "ç¯„å›²",
    var_range_desc: "ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
    var_tel: "é›»è©±ç•ªå·",
    var_tel_desc: "é›»è©±ç•ªå·å…¥åŠ›",
    var_time: "æ™‚é–“",
    var_time_desc: "æ™‚é–“ãƒ”ãƒƒã‚«ãƒ¼",
    var_url: "URL",
    var_url_desc: "URLå…¥åŠ›",
    var_map: "åœ°å›³",
    var_map_desc: "ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åœ°å›³ï¼ˆå®Ÿé¨“çš„ï¼‰",
    var_table_type: "ã‚¿ã‚¤ãƒ—",
    var_table_desc: "èª¬æ˜",
    var_table_props: "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£",
    var_table_example: "ä¾‹",
    // Constants - System Variables
    sys_clipboard: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹",
    sys_clipboard_desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—",
    sys_clipboard_note: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨±å¯ãŒå¿…è¦ã§ã™",
    // UI Components
    auto_fill: "è‡ªå‹•å…¥åŠ›",
    title_content_required: "ã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã¯å¿…é ˆã§ã™ï¼",
    category_required: "ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠã—ã¦ãã ã•ã„ï¼",
    prompt_updated: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ›´æ–°ã—ã¾ã—ãŸï¼",
    prompt_created: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸï¼",
    save_failed: "ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    confirm_delete_title: "å‰Šé™¤ã®ç¢ºèª",
    confirm_delete_prompt_message: `ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ "{title}" ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ

æ³¨: ãƒ­ãƒ¼ã‚«ãƒ«ãŠã‚ˆã³OpenWebUIã‹ã‚‰å‰Šé™¤ã•ã‚Œã¾ã™ã€‚`,
    prompt_deleted: "âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å‰Šé™¤ã—ã¾ã—ãŸ",
    prompt_deleted: "âœ… ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å‰Šé™¤ã—ã¾ã—ãŸ",
    delete_failed: "å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    prompt_not_found: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“",
    update_category_failed: "ã‚«ãƒ†ã‚´ãƒªã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    category_name_required: "ã‚«ãƒ†ã‚´ãƒªåã¯å¿…é ˆã§ã™ï¼",
    confirm_delete_category: "ã“ã®ã‚«ãƒ†ã‚´ãƒªã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿã“ã®ã‚«ãƒ†ã‚´ãƒªã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ã€Œæœªåˆ†é¡ã€ã«ãªã‚Šã¾ã™ã€‚",
    import_export_prompt: `æ“ä½œã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š
1. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
2. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
3. ã‚­ãƒ£ãƒ³ã‚»ãƒ«

ç•ªå·ã‚’å…¥åŠ› (1-3):`,
    import_prompts: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ",
    export_prompts: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",
    cancel: "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
    delete: "å‰Šé™¤",
    found_prompts_import_confirm: `{count} å€‹ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚
ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ç¶šã‘ã¾ã™ã‹ï¼Ÿ`,
    import_success_message: `ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†ï¼
{imported} å€‹ã®æ–°ã—ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æ­£å¸¸ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸã€‚
{skipped} å€‹ã®é‡è¤‡ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã—ãŸã€‚`,
    invalid_file_format: "ç„¡åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼",
    file_parse_failed: "ãƒ•ã‚¡ã‚¤ãƒ«ã®è§£æã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    describe_func_placeholder: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å®Ÿè¡Œã•ã›ãŸã„æ©Ÿèƒ½ã‚’èª¬æ˜ã—ã¦ãã ã•ã„",
    generation_failed_retry: "ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†è©¦è¡Œã—ã¦ãã ã•ã„",
    generation_error: "ç”Ÿæˆã‚¨ãƒ©ãƒ¼: ",
    generated_preview_title: "ğŸ¯ ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
    title_label: "ã‚¿ã‚¤ãƒˆãƒ«: ",
    content_label: "å†…å®¹: ",
    category_label: "ã‚«ãƒ†ã‚´ãƒª: ",
    command_label: "ã‚³ãƒãƒ³ãƒ‰: ",
    quality_score_label: "å“è³ªã‚¹ã‚³ã‚¢: ",
    errors_label: "âŒ ã‚¨ãƒ©ãƒ¼",
    warnings_label: "âš ï¸ è­¦å‘Š",
    suggestions_label: "ğŸ’¡ ææ¡ˆ",
    content_meets_requirements: "ç”Ÿæˆã•ã‚ŒãŸå†…å®¹ãŒè¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã¾ã™ï¼",
    accept_result: "çµæœã‚’å—ã‘å…¥ã‚Œã‚‹",
    regenerate: "å†ç”Ÿæˆ",
    manual_edit: "æ‰‹å‹•ç·¨é›†",
    synced_to_form_hint: "å·¦å´ã®ãƒ•ã‚©ãƒ¼ãƒ ã«åŒæœŸã•ã‚Œã¾ã—ãŸã€‚ä¿å­˜ã™ã‚‹å‰ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¾ãŸã¯ä¿®æ­£ã§ãã¾ã™ã€‚",
    ai_prompt_saved: "âœ… AIç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸï¼",
    no_retry_record: "å†ç”Ÿæˆã™ã‚‹è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãšä¸€åº¦ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚",
    search_select_model_placeholder: "ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œç´¢ã¾ãŸã¯é¸æŠ...",
    no_models_available: "åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“",
    load_failed_refresh: "èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ›´æ–°ã—ã¦ãã ã•ã„",
    fill_title_content: "ã¾ãšã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
    prompt_preview_title: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ - ",
    edit_prompt_title: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç·¨é›†",
    new_prompt_title: "æ–°è¦ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ",
    unknown_model: "ä¸æ˜ãªãƒ¢ãƒ‡ãƒ«",
    offline: "ã‚ªãƒ•ãƒ©ã‚¤ãƒ³",
    prompt_editor_title: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ‡ã‚£ã‚¿",
    workspace: "ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹",
    ai_mode: "AIãƒ¢ãƒ¼ãƒ‰",
    manual_mode: "æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰",
    preview: "ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
    ai_generate_title: "AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ",
    ai_generate_subtitle: "ãƒ‹ãƒ¼ã‚ºã‚’èª¬æ˜ã™ã‚‹ã¨ã€AIãŒãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã—ã¾ã™",
    ai_model: "AIãƒ¢ãƒ‡ãƒ«",
    func_description: "æ©Ÿèƒ½èª¬æ˜",
    func_desc_placeholder: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å®Ÿè¡Œã•ã›ãŸã„æ©Ÿèƒ½ã‚’èª¬æ˜ã—ã¦ãã ã•ã„...",
    func_desc_hint: "ä¾‹ï¼šAIã®ç™ºå±•ã«é–¢ã™ã‚‹è¨˜äº‹ã‚’æ›¸ãã®ã‚’æ‰‹ä¼ã£ã¦...",
    use_clipboard: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹ã‚’ä½¿ç”¨",
    clipboard_note: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ä½¿ç”¨",
    generate_btn: "ç”Ÿæˆ",
    generating: "ç”Ÿæˆä¸­...",
    generate_hint: "AIç”Ÿæˆã¯ä¸æ­£ç¢ºãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚æ‰‹å‹•ã§ç¢ºèªã—ã¦ãã ã•ã„",
    prompt_details: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè©³ç´°",
    prompt_details_subtitle: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…å®¹ã‚’æ‰‹å‹•ã§ç·¨é›†",
    title: "ã‚¿ã‚¤ãƒˆãƒ«",
    title_placeholder: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›...",
    content: "å†…å®¹",
    content_placeholder: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å†…å®¹ã‚’å…¥åŠ›ã€å¤‰æ•°ã‚’ã‚µãƒãƒ¼ãƒˆ...",
    common_types: "ä¸€èˆ¬çš„ãªå¤‰æ•°ã‚¿ã‚¤ãƒ—",
    variable_syntax_help: "å¤‰æ•°æ§‹æ–‡ãƒ˜ãƒ«ãƒ—",
    live_preview: "ãƒ©ã‚¤ãƒ–ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
    variable_highlight: "å¤‰æ•°ãƒã‚¤ãƒ©ã‚¤ãƒˆ",
    variable_syntax_title: "å¤‰æ•°æ§‹æ–‡ã‚¬ã‚¤ãƒ‰",
    basic_syntax: "åŸºæœ¬æ§‹æ–‡",
    common_variable_types: "ä¸€èˆ¬çš„ãªå¤‰æ•°ã‚¿ã‚¤ãƒ—",
    system_variables: "ã‚·ã‚¹ãƒ†ãƒ å¤‰æ•°",
    clipboard_content: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹",
    untitled: "ç„¡é¡Œ",
    no_content: "å†…å®¹ãªã—",
    switch_model_failed: "ãƒ¢ãƒ‡ãƒ«ã®åˆ‡ã‚Šæ›¿ãˆã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    switched_to: "åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸ: ",
    get_template_failed: "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    ai_api_unavailable: "AI API åˆ©ç”¨ä¸å¯",
    no_prompts: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãªã—",
    no_prompts_hint: "ã€Œ+ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æœ€åˆã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ï¼",
    help_simple_var: "å˜ç´”ãªãƒ†ã‚­ã‚¹ãƒˆå¤‰æ•°",
    help_typed_var: "å¤‰æ•°ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®š",
    help_prop_var: "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ä»˜ãå¤‰æ•°",
    help_example_name: "åå‰ã‚’å…¥åŠ›",
    help_example_high: "é«˜",
    help_example_medium: "ä¸­",
    help_example_low: "ä½",
    save_prompt: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä¿å­˜",
    saving: "ä¿å­˜ä¸­...",
    wizard_step_ai: "AIç”Ÿæˆ",
    wizard_step_edit: "ç·¨é›†ã¨èª¿æ•´",
    variable_help: "å¤‰æ•°ãƒ˜ãƒ«ãƒ—",
    shortcut_help_title: "ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãƒ˜ãƒ«ãƒ—",
    // AI Generation Process
    generating_attempt: "{attempt}å›ç›®ã®è©¦è¡Œä¸­...",
    validating_content: "ç”Ÿæˆå†…å®¹ã‚’æ¤œè¨¼ä¸­...",
    generation_success: "ç”ŸæˆæˆåŠŸï¼",
    validation_failed_retry: "æ¤œè¨¼å¤±æ•—ã€å†è©¦è¡Œæº–å‚™ä¸­... (ã‚¹ã‚³ã‚¢: {score}%)",
    all_retries_failed: "ã™ã¹ã¦ã®å†è©¦è¡ŒãŒå¤±æ•—ã—ã¾ã—ãŸ",
    generation_error_msg: "ç”Ÿæˆã‚¨ãƒ©ãƒ¼: {message}",
    fix_variable_syntax: "å¤‰æ•°æ§‹æ–‡ã®ä¿®æ­£",
    check_variable_syntax: "ã™ã¹ã¦ã® {{}} å¤‰æ•°ã®å½¢å¼ãŒæ­£ã—ã„ã‹ç¢ºèªã—ã¦ãã ã•ã„",
    improve_title: "ã‚¿ã‚¤ãƒˆãƒ«ã®æ”¹å–„",
    add_title: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®è¿½åŠ ã¾ãŸã¯ä¿®æ­£",
    supplement_content: "å†…å®¹ã®è£œè¶³",
    add_content: "ã‚ˆã‚Šè©³ç´°ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå†…å®¹ã®è¿½åŠ ",
    simplify_content: "å†…å®¹ã®ç°¡ç´ åŒ–",
    shorten_content: "ä¸è¦ãªå†…å®¹ã‚’å‰Šé™¤ã—ã€ç°¡æ½”ã«ä¿ã¤",
    // Variable Help
    variable_syntax_title: "ğŸ“– OpenWebUI å¤‰æ•°æ§‹æ–‡",
    basic_syntax: "åŸºæœ¬æ§‹æ–‡",
    common_variable_types: "ä¸€èˆ¬çš„ãªå¤‰æ•°ã‚¿ã‚¤ãƒ—",
    system_variables: "ã‚·ã‚¹ãƒ†ãƒ å¤‰æ•°",
    clipboard_content: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹",
    // Constants - Categories
    cat_writing: "ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°",
    cat_writing_desc: "è¨˜äº‹ã€ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ã€ç‰©èªã€è„šæœ¬ãªã©",
    cat_productivity: "ç”Ÿç”£æ€§",
    cat_productivity_desc: "è¦ç´„ã€è¨ˆç”»ã€ãƒ¡ãƒ¼ãƒ«ã€ãƒ¬ãƒãƒ¼ãƒˆã€ç¿»è¨³ãªã©",
    cat_learning: "å­¦ç¿’",
    cat_learning_desc: "æ¦‚å¿µã€è¨€èªã€ç ”ç©¶ãªã©",
    cat_coding: "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°",
    cat_coding_desc: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€ãƒ‡ãƒãƒƒã‚°ã€APIã€é–‹ç™ºãªã©",
    cat_data: "ãƒ‡ãƒ¼ã‚¿",
    cat_data_desc: "ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã€åˆ†æã€å¯è¦–åŒ–ãªã©",
    cat_lifestyle: "ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«",
    cat_lifestyle_desc: "æ—…è¡Œã€ãƒ¬ã‚·ãƒ”ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã€ãƒ¬ã‚¸ãƒ£ãƒ¼ãªã©",
    cat_roleplay: "ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤",
    cat_roleplay_desc: "ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚²ãƒ¼ãƒ ãªã©",
    // Constants - Variable Types
    var_text: "ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›",
    var_text_desc: "æ¨™æº–çš„ãª1è¡Œãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›",
    var_textarea: "ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢",
    var_textarea_desc: "è¤‡æ•°è¡Œã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢",
    var_select: "é¸æŠ",
    var_select_desc: "ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
    var_number: "æ•°å€¤",
    var_number_desc: "æ•°å€¤å…¥åŠ›",
    var_checkbox: "ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹",
    var_checkbox_desc: "ãƒ–ãƒ¼ãƒ«å€¤ã®é¸æŠ",
    var_date: "æ—¥ä»˜",
    var_date_desc: "æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼",
    var_datetime_local: "æ—¥æ™‚",
    var_datetime_local_desc: "æ—¥æ™‚ãƒ”ãƒƒã‚«ãƒ¼",
    var_color: "è‰²",
    var_color_desc: "ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼",
    var_email: "ãƒ¡ãƒ¼ãƒ«",
    var_email_desc: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ›",
    var_month: "æœˆ",
    var_month_desc: "æœˆã¨å¹´ã®ãƒ”ãƒƒã‚«ãƒ¼",
    var_range: "ç¯„å›²",
    var_range_desc: "ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«",
    var_tel: "é›»è©±ç•ªå·",
    var_tel_desc: "é›»è©±ç•ªå·å…¥åŠ›",
    var_time: "æ™‚é–“",
    var_time_desc: "æ™‚é–“ãƒ”ãƒƒã‚«ãƒ¼",
    var_url: "URL",
    var_url_desc: "URLå…¥åŠ›",
    var_map: "ãƒãƒƒãƒ—",
    var_map_desc: "ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒƒãƒ—ï¼ˆå®Ÿé¨“çš„ï¼‰",
    var_table_type: "ã‚¿ã‚¤ãƒ—",
    var_table_desc: "èª¬æ˜",
    var_table_props: "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£",
    var_table_example: "ä¾‹",
    // Constants - System Variables
    sys_clipboard: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹",
    sys_clipboard_desc: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—",
    sys_clipboard_note: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨±å¯ãŒå¿…è¦ã§ã™",
    // UI Components (Supplementary)
    strict_naming_rules: `[é‡è¦: å³æ ¼ãªå‘½åè¦å‰‡]
ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰åã¯ã€ä»¥ä¸‹ã®è¦å‰‡ã«å³å¯†ã«å¾“ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
1. è¨±å¯ã•ã‚Œã‚‹æ–‡å­—ï¼šè‹±å­—ï¼ˆa-zã€A-Zï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€ãƒã‚¤ãƒ•ãƒ³ï¼ˆ-ï¼‰ã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ï¼ˆ_ï¼‰
2. å³ç¦ï¼šã‚¹ãƒšãƒ¼ã‚¹ã€ãƒ‰ãƒƒãƒˆï¼ˆ.ï¼‰ã€ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ï¼ˆ/ï¼‰ã€ãã®ä»–ã®ç‰¹æ®Šæ–‡å­—
3. å½¢å¼ï¼šå°æ–‡å­—ã§é–‹å§‹ã—ã€è¤‡æ•°ã®å˜èªã‚’åŒºåˆ‡ã‚Šæ–‡å­—ã§é€£çµ
4. é•·ã•ï¼š2ã€œ30æ–‡å­—
5. ä¾‹ï¼šdata-analysisã€user_reportã€task-manager`,
    variable_syntax_rules: '[é‡è¦: å¤‰æ•°æ§‹æ–‡è¦å‰‡]\nã™ã¹ã¦ã®å¤‰æ•°ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ "property=value" å½¢å¼ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã« "default" ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯é‡è¦ã§ã™ã€‚\n1.  **æ­£ã—ã„æ§‹æ–‡**: `{{variable_name | type:default="value"}}`\n2.  **èª¤ã£ãŸæ§‹æ–‡**: `{{variable_name | type | value}}`\n\n**ä¾‹**:\n-   **ãƒ†ã‚­ã‚¹ãƒˆã‚¿ã‚¤ãƒ—**:\n    -   âœ… æ­£ã—ã„: `{{topic | text:default="æ©Ÿèƒ½"}}`\n    -   âŒ èª¤ã‚Š: `{{topic | text | æ©Ÿèƒ½}}`\n-   **æ•°å€¤ã‚¿ã‚¤ãƒ—**:\n    -   âœ… æ­£ã—ã„: `{{count | number:default=5}}`\n    -   âŒ èª¤ã‚Š: `{{count | number:5}}`\n-   **é¸æŠã‚¿ã‚¤ãƒ—**:\n    -   âœ… æ­£ã—ã„: `{{priority | select:options=["é«˜","ä¸­","ä½"]:default="ä¸­"}}`\n    -   âŒ èª¤ã‚Š: `{{priority | select | ["é«˜","ä¸­","ä½"]}}`',
    available_variables_intro: `[é‡è¦: åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°ã‚¿ã‚¤ãƒ—ã¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£]
ä»¥ä¸‹ã®å¤‰æ•°ã‚¿ã‚¤ãƒ—ã‚’ä½¿ç”¨ã—ã¦ã€è±Šå¯Œãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã§ãã¾ã™ã€‚ç”Ÿæˆæ™‚ã«æŸ”è»Ÿã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚`,
    operation_failed: "æ“ä½œã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    update_category_failed: "ã‚«ãƒ†ã‚´ãƒªã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ: ",
    attempt_count: "è©¦è¡Œ {n}",
    errors_prefix: "\\nã‚¨ãƒ©ãƒ¼: ",
    warnings_prefix: "\\nè­¦å‘Š: ",
    score_prefix: "\\nã‚¹ã‚³ã‚¢: ",
    use_clipboard_hint: "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹ã‚’ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦ä½¿ç”¨",
    step_generating: "ç”Ÿæˆä¸­",
    step_validating: "æ¤œè¨¼ä¸­",
    step_completed: "å®Œäº†",
    ai_processing: "AIãŒå‡¦ç†ä¸­...",
    preview_placeholder: "ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",
    select_category: "ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠ",
    manual_edit_title: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ‰‹å‹•ç·¨é›†",
    manual_edit_subtitle: "ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã“ã“ã§å¾®èª¿æ•´",
    supports_markdown: "Markdownå¯¾å¿œ",
    tags: "ã‚¿ã‚°",
    tags_placeholder: "ã‚¿ã‚°ã‚’å…¥åŠ›ã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š...",
    expand_ai: "AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚’å±•é–‹",
    collapse_ai: "AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã‚’æŠ˜ã‚ŠãŸãŸã‚€",
    skip_to_edit: "ç·¨é›†ã¸ã‚¹ã‚­ãƒƒãƒ—",
    back_to_ai: "AIã¸æˆ»ã‚‹",
    // Shortcut Help
    shortcut_section_nav: "ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³",
    shortcut_nav_desc: "â†‘/â†“: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé¸æŠ",
    shortcut_section_cat: "ã‚«ãƒ†ã‚´ãƒª",
    shortcut_cat_desc: "â†/â†’: ã‚«ãƒ†ã‚´ãƒªåˆ‡ã‚Šæ›¿ãˆ",
    shortcut_section_open: "é–‹ã",
    shortcut_open_desc_1: "Enter: é¸æŠã—ãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æŒ¿å…¥",
    shortcut_open_desc_2: "Esc: ãƒ‘ãƒãƒ«ã‚’é–‰ã˜ã‚‹"
  }
};
class ne {
  constructor(e = "en-US") {
    this.lang = e, this.listeners = [];
  }
  setLanguage(e) {
    S[e] && (this.lang = e, this.notifyListeners());
  }
  t(e, t = {}) {
    let a = e;
    return S[this.lang] && S[this.lang][e] ? a = S[this.lang][e] : this.lang !== "en-US" && S["en-US"] && S["en-US"][e] && (a = S["en-US"][e]), t && typeof t == "object" && Object.keys(t).forEach((r) => {
      a = a.replace(new RegExp(`\\{${r}\\}`, "g"), t[r]);
    }), a;
  }
  // Get translation for a specific language (useful for constants initialization)
  tFor(e, t) {
    return S[e][t] || t;
  }
  subscribe(e) {
    this.listeners.push(e);
  }
  notifyListeners() {
    this.listeners.forEach((e) => e(this.lang));
  }
  // Sync language from host app settings
  sync() {
    const e = document.documentElement.lang, t = D(e);
    t && t !== this.lang && this.setLanguage(t);
  }
}
function D(f) {
  if (!f) return null;
  const e = f.toLowerCase();
  return e === "zh-tw" || e === "zh-hk" || e.includes("hant") ? "zh-TW" : e.startsWith("zh") ? "zh-CN" : e.startsWith("ko") ? "ko" : e.startsWith("fr") ? "fr" : e.startsWith("es") ? "es" : e.startsWith("nl") ? "nl" : e.startsWith("de") ? "de" : e.startsWith("el") ? "el" : e.startsWith("ja") ? "ja-JP" : e.startsWith("en") ? "en-US" : null;
}
function ie() {
  const f = document.documentElement.lang, e = D(f);
  if (e) return e;
  const t = navigator.language, a = D(t);
  return a || "en-US";
}
const s = new ne(ie()), T = {
  LANGUAGE: s.lang,
  DEBOUNCE_DELAY: 1e3,
  CACHE_TTL: 30 * 60 * 1e3,
  // 30 minutes
  BATCH_QUEUE_DELAY: 500,
  MAX_COMMAND_LENGTH: 30,
  MAX_PREVIEW_LENGTH: 50,
  NOTE_TITLE: s.t("note_title") || "User Prompts",
  CACHE_VERSION: "1.1"
  // Cache Version
}, oe = {
  PLACEHOLDER_ELEMENT: "p.is-empty.is-editor-empty"
}, se = () => [
  s.t("placeholder_1"),
  s.t("placeholder_2"),
  s.t("placeholder_3"),
  s.t("placeholder_4"),
  s.t("placeholder_5"),
  s.t("placeholder_6"),
  s.t("placeholder_7"),
  s.t("placeholder_8"),
  s.t("placeholder_9"),
  s.t("placeholder_10"),
  s.t("placeholder_11"),
  s.t("placeholder_12"),
  s.t("placeholder_13"),
  s.t("placeholder_14"),
  s.t("placeholder_15")
], le = [
  "#chat-input",
  'div.flex-1.flex.flex-col.relative.w-full [contenteditable="true"]',
  "div.flex-1.flex.flex-col.relative.w-full textarea",
  'div[contenteditable="true"]:not([style*="display: none"])',
  '[contenteditable="true"]:not([style*="display: none"])',
  'textarea:not([style*="display: none"])',
  'textarea[placeholder*="æ¶ˆæ¯"]',
  'textarea[placeholder*="è¯·è¾“å…¥"]',
  'input[type="text"]:not([style*="display: none"])',
  '[role="textbox"]:not([style*="display: none"])',
  '[data-testid*="input"]:not([style*="display: none"])'
], L = () => [
  { id: "writing", name: s.t("cat_writing"), order: 1 },
  { id: "productivity", name: s.t("cat_productivity"), order: 2 },
  { id: "learning", name: s.t("cat_learning"), order: 3 },
  { id: "coding", name: s.t("cat_coding"), order: 4 },
  { id: "data", name: s.t("cat_data"), order: 5 },
  { id: "lifestyle", name: s.t("cat_lifestyle"), order: 6 },
  { id: "roleplay", name: s.t("cat_roleplay"), order: 7 }
], $ = L();
s.t("var_text"), s.t("var_text_desc"), s.t("var_textarea"), s.t("var_textarea_desc"), s.t("var_select"), s.t("var_select_desc"), s.t("var_number"), s.t("var_number_desc"), s.t("var_checkbox"), s.t("var_checkbox_desc"), s.t("var_date"), s.t("var_date_desc"), s.t("var_datetime_local"), s.t("var_datetime_local_desc"), s.t("var_color"), s.t("var_color_desc"), s.t("var_email"), s.t("var_email_desc"), s.t("var_month"), s.t("var_month_desc"), s.t("var_range"), s.t("var_range_desc"), s.t("var_tel"), s.t("var_tel_desc"), s.t("var_time"), s.t("var_time_desc"), s.t("var_url"), s.t("var_url_desc"), s.t("var_map"), s.t("var_map_desc");
s.t("sys_clipboard"), s.t("sys_clipboard_desc"), s.t("sys_clipboard_note");
const ce = 'You are a professional Open WebUI prompt generation assistant. Your core task is to intelligently generate a high-quality, versatile prompt template containing reasonable variables based on the "functional description" provided by the user.\n\n## Generation Principles\n\n1.  **Focus on Core Needs**: Deeply understand the user\'s "functional description" and accurately extract their core intent.\n2.  **Design Versatile Templates**: The generated prompt content should be refined and versatile, applicable to various similar scenarios.\n3.  **Intelligent Variable Usage**:\n    *   Automatically identify and set reasonable variables to increase template flexibility.\n    *   **Variable Names**: Should be concise and descriptive. For **{{INTERFACE_LANGUAGE}}** prompts, you MAY use localized variable names (e.g., Chinese variable names for Chinese prompts) so they appear as friendly labels in the UI.\n    *   **Variable UI Text**: Any user-facing text within variable definitions (such as `placeholder`, `options` for select types, or text-based `default` values) **MUST** be in **{{INTERFACE_LANGUAGE}}**.\n    *   **Prohibition**: Do NOT use variables or placeholders (like `{{...}}`) inside property values (e.g., `placeholder`, `default`). The value must be a static string.\n        *   âœ… Correct: `{{code | textarea:placeholder="Paste your code here"}}`\n        *   âŒ Incorrect: `{{code | textarea:placeholder="{{INTERFACE_LANGUAGE}}Paste your code here"}}`\n    *   Set appropriate types and default values for variables.\n4.  **Clear Structure**: Use Markdown to format the prompt content, making it structured and easy to read.\n5.  **Precise Classification**: You must select the most appropriate category for the prompt from the "Available Category List" below and return its **ID** in the `category` field of the JSON output.\n6.  **Command Name Standard**:\n    *   The `command` field must be in **English**, using hyphens or underscores as separators (e.g., `weekly-report`, `code_reviewer`).\n    *   The command name should be closely related to the prompt function.\n7.  **Language Consistency**:\n    *   **CRITICAL**: If the user does not explicitly specify a language, you MUST generate the prompt title (`title`), content (`content`), and all variable UI text (placeholders, options) in **{{INTERFACE_LANGUAGE}}**.\n\n## Output Format\n\nPlease strictly return the result in the following JSON format, without adding any extra explanation or description.\n**IMPORTANT**: Ensure the output is valid JSON. For multi-line strings (like `content`), use `\\n` for line breaks. Do NOT use actual line breaks inside the JSON string values.\n\n```json\n{\n  "title": "Concise and clear title",\n  "content": "Prompt content carefully designed using Markdown and English variables...\\n\\nUse escaped newlines for multi-line content.",\n  "category": "Category ID selected from the available category list",\n  "command": "english-command-name"\n}\n```\n\nPlease immediately start analyzing the user\'s needs and generating the prompt.', de = ce;
class U {
  constructor() {
    this.placeholderSet = !1, s.subscribe(() => {
      this.placeholderSet = !1, this.setRandomPlaceholder();
    });
  }
  // Set Random Placeholder
  setRandomPlaceholder() {
    if (this.placeholderSet)
      return;
    if (document.querySelector(oe.PLACEHOLDER_ELEMENT)) {
      const t = se(), a = Math.floor(Math.random() * t.length), r = t[a];
      let n = document.getElementById("dynamic-placeholder-style");
      n || (n = document.createElement("style"), n.id = "dynamic-placeholder-style", document.head.appendChild(n)), n.textContent = `
                p.is-empty.is-editor-empty::before {
                    content: "${r}" !important;
                }
            `, this.placeholderSet = !0;
    }
  }
  // Find Target Container - Robust Strategy
  findTargetContainer() {
    const e = document.querySelector("#chat-input");
    if (e) {
      const t = e.closest("form") || e.closest(".relative");
      if (t) {
        const a = t.querySelectorAll('button[type="button"]');
        for (const i of a) {
          const c = (i.getAttribute("aria-label") || i.title || "").toLowerCase();
          if ((c.includes("upload") || c.includes("attach") || c.includes("file") || c.includes("add")) && i.parentElement && window.getComputedStyle(i.parentElement).display.includes("flex"))
            return i.parentElement;
        }
        const r = t.querySelector('button[type="submit"]'), n = r ? r.parentElement : null;
        for (const i of a)
          if (i.id !== "prompt-manager-integrated-btn" && i.parentElement && i.parentElement !== n && window.getComputedStyle(i.parentElement).display.includes("flex"))
            return i.parentElement;
      }
    }
    return null;
  }
  // Create Integrated Button
  createIntegratedButton(e) {
    const t = document.createElement("div");
    t.className = "flex";
    const a = document.createElement("button");
    return a.id = "prompt-manager-integrated-btn", a.type = "button", a.className = "px-2 py-2 flex gap-1.5 items-center text-sm rounded-full transition-colors duration-300 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-300", a.setAttribute("aria-label", s.t("prompt_management")), a.title = s.t("prompt_management_tooltip"), a.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.75" stroke="currentColor" class="size-5 w-5 h-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0 1 20.25 6v12A2.25 2.25 0 0 1 18 20.25H6A2.25 2.25 0 0 1 3.75 18V6A2.25 2.25 0 0 1 6 3.75h1.5m9 0h-9" />
            </svg>
        `, t.appendChild(a), e.appendChild(t), a;
  }
  // Select Placeholder Text
  selectPlaceholder(e, t, a) {
    const r = document.createRange(), n = window.getSelection();
    let i = 0, c = null, l = 0, d = null, p = 0;
    const u = document.createTreeWalker(
      e,
      NodeFilter.SHOW_TEXT,
      null,
      !1
    );
    let m;
    for (; m = u.nextNode(); ) {
      const g = m.textContent.length;
      if (!c && i + g > t && (c = m, l = t - i), !d && i + g >= t + a) {
        d = m, p = t + a - i;
        break;
      }
      i += g;
    }
    c && d && (r.setStart(c, l), r.setEnd(d, p), n.removeAllRanges(), n.addRange(r));
  }
  // Handle Placeholder Navigation
  handlePlaceholderNavigation(e, t) {
    if (!t || !t.classList.contains("ProseMirror")) return;
    const a = t.querySelector("p");
    if (!a) return;
    const r = a.textContent || "", n = /\{\{[^}]+\}\}/g, i = [...r.matchAll(n)];
    if (i.length === 0) return;
    e.preventDefault();
    const c = window.getSelection();
    let l = 0;
    if (c.rangeCount > 0) {
      const p = c.getRangeAt(0), u = p.cloneRange();
      u.selectNodeContents(a), u.setEnd(p.startContainer, p.startOffset), l = u.toString().length;
    }
    let d = null;
    for (let p = 0; p < i.length; p++) {
      const u = i[p];
      if (u.index > l) {
        d = u;
        break;
      }
    }
    !d && i.length > 0 && (d = i[0]), d && this.selectPlaceholder(a, d.index, d[0].length);
  }
  // Cleanup Existing Elements
  cleanupExistingElements() {
    const e = document.getElementById("prompt-suggestion-container");
    e && e.remove();
    const t = document.getElementById("prompt-manager-integrated-btn");
    t && (t.parentElement && t.parentElement.className === "flex" ? t.parentElement.remove() : t.remove());
  }
  // Hide Version Info - Hybrid Strategy (Text Clearing + Element Hiding)
  hideVersionInfo() {
    const e = /Open WebUI.*v\d+\.\d+\.\d+/i, t = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, null), a = [];
    for (; t.nextNode(); ) {
      const n = t.currentNode;
      n.nodeValue && e.test(n.nodeValue) && a.push(n);
    }
    a.forEach((n) => {
      n.nodeValue = "";
    });
    const r = document.body.getElementsByTagName("*");
    for (let n = 0; n < r.length; n++) {
      const i = r[n];
      i.tagName === "SCRIPT" || i.tagName === "STYLE" || i.tagName === "SVG" || i.tagName === "PATH" || (i.children.length === 0 && i.textContent && i.textContent.includes("Open WebUI") && (i.style.display = "none"), i.classList.contains("text-xs") && i.classList.contains("text-gray-400") && i.textContent.includes("v0.") && (i.style.display = "none"));
    }
  }
}
const R = [];
function P() {
  return "prompt_" + Date.now() + "_" + Math.random().toString(36).substr(2, 9);
}
function pe(f, e) {
  let t;
  return function(...a) {
    clearTimeout(t), t = setTimeout(() => f.apply(this, a), e);
  };
}
function Q(f) {
  return f.toLowerCase().replace(/[^a-z0-9_-]/g, "-").replace(/-+/g, "-").replace(/_+/g, "_").replace(/^-|-$/g, "").replace(/^_|_$/g, "").substring(0, 30) || "prompt";
}
function ue(f) {
  const e = /* @__PURE__ */ new Date(), t = {
    "{{DATE}}": e.toLocaleDateString(),
    "{{TIME}}": e.toLocaleTimeString(),
    "{{USER}}": "User"
  };
  let a = f;
  for (const [r, n] of Object.entries(t))
    a = a.replace(new RegExp(r.replace(/[{}]/g, "\\$&"), "g"), n);
  return a;
}
function me(f) {
  const e = [
    // Core Function Category
    "writing",
    "article",
    "creation",
    "story",
    "plan",
    "data",
    "analysis",
    "report",
    "chart",
    "statistics",
    "summary",
    "extract",
    "organize",
    "key info",
    "abstract",
    "dialogue",
    "chat",
    "customer service",
    "consult",
    "qa",
    "plan",
    "project",
    "management",
    "process",
    "task",
    "reasoning",
    "logic",
    "decision",
    "problem solving",
    "analysis",
    // Application Domain Category
    "business",
    "office",
    "email",
    "meeting",
    "commercial",
    "education",
    "learning",
    "training",
    "teaching",
    "exam",
    "tech",
    "development",
    "code",
    "programming",
    "software",
    "creative",
    "design",
    "art",
    "planning",
    "visual",
    "marketing",
    "promotion",
    "copywriting",
    "brand",
    "ad",
    "professional",
    "legal",
    "medical",
    "consulting",
    "service",
    // Tool Category
    "convert",
    "format",
    "process",
    "tool",
    "assist",
    "template",
    "generate",
    "standardize",
    "norm"
  ], t = [], a = f.toLowerCase();
  for (const r of e)
    if ((a.includes(r.toLowerCase()) || a.includes(r)) && (t.push(r), t.length >= 3))
      break;
  return t;
}
function ge(f) {
  if (!f || f.length === 0) return "productivity";
  const e = f.join(" ").toLowerCase();
  return e.includes("writing") || e.includes("article") || e.includes("creation") || e.includes("story") || e.includes("plan") ? "writing" : e.includes("data") || e.includes("analysis") || e.includes("report") || e.includes("chart") || e.includes("statistics") ? "data" : e.includes("summary") || e.includes("extract") || e.includes("organize") || e.includes("key info") || e.includes("abstract") ? "productivity" : e.includes("dialogue") || e.includes("chat") || e.includes("customer service") || e.includes("consult") || e.includes("qa") ? "roleplay" : e.includes("plan") || e.includes("project") || e.includes("management") || e.includes("process") || e.includes("task") ? "productivity" : e.includes("reasoning") || e.includes("logic") || e.includes("decision") || e.includes("problem solving") ? "learning" : e.includes("business") || e.includes("office") || e.includes("email") || e.includes("meeting") || e.includes("commercial") ? "productivity" : e.includes("education") || e.includes("learning") || e.includes("training") || e.includes("teaching") || e.includes("exam") ? "learning" : e.includes("tech") || e.includes("development") || e.includes("code") || e.includes("programming") || e.includes("software") ? "coding" : e.includes("creative") || e.includes("design") || e.includes("art") || e.includes("planning") || e.includes("visual") ? "lifestyle" : e.includes("marketing") || e.includes("promotion") || e.includes("copywriting") || e.includes("brand") || e.includes("ad") ? "writing" : (e.includes("professional") || e.includes("legal") || e.includes("medical") || e.includes("consulting") || e.includes("service") || e.includes("convert") || e.includes("format") || e.includes("process") || e.includes("template") || e.includes("generate") || e.includes("standardize") || e.includes("norm"), "productivity");
}
function F(f, e = "#48bb78") {
  let t = "success";
  (e === "#f56565" || e === "#EF4444" || e === "red" || e.includes("f56565")) && (t = "error");
  const a = new CustomEvent("pes:show-toast", {
    detail: { message: f, type: t }
  });
  window.dispatchEvent(a);
}
const I = {
  DEBUG: 0,
  INFO: 1,
  WARN: 2,
  ERROR: 3,
  NONE: 4
};
class he {
  constructor() {
    this.level = I.INFO;
    const e = localStorage.getItem("log_level");
    e && I[e] !== void 0 ? this.level = I[e] : localStorage.getItem("debug_mode") === "true" && (this.level = I.DEBUG);
  }
  setLevel(e) {
    I[e] !== void 0 ? (this.level = I[e], localStorage.setItem("log_level", e), console.log(`[Logger] Log level set to ${e}`)) : console.warn(`[Logger] Invalid log level: ${e}`);
  }
  debug(e, ...t) {
    this.level <= I.DEBUG && console.log("%c[PromptSystem] [DEBUG]", "color: #9ca3af;", e, ...t);
  }
  info(e, ...t) {
    this.level <= I.INFO && console.info("%c[PromptSystem] [INFO]", "color: #3b82f6;", e, ...t);
  }
  warn(e, ...t) {
    this.level <= I.WARN && console.warn("%c[PromptSystem] [WARN]", "color: #f59e0b;", e, ...t);
  }
  error(e, ...t) {
    this.level <= I.ERROR && console.error("%c[PromptSystem] [ERROR]", "color: #ef4444;", e, ...t);
  }
}
const o = new he();
window.logger = o;
class _e {
  constructor() {
    this.baseURL = window.location.origin, this.apiURL = `${this.baseURL}/api/v1/prompts/`, this.chatURL = `${this.baseURL}/api/v1/chat/completions`, this.modelsURL = `${this.baseURL}/api/models/base`;
  }
  async getAuthToken() {
    const e = localStorage.getItem("token");
    return o.debug("[Auth] Token exists:", !!e, "Length:", (e == null ? void 0 : e.length) || 0), e;
  }
  // Get the currently selected model by the user (avoid calling getAvailableModels to prevent loops)
  async getCurrentModel() {
    try {
      const e = localStorage.getItem("selectedModel");
      return e || "gpt-4.1";
    } catch (e) {
      return o.warn("Failed to get current model:", e), "gpt-4.1";
    }
  }
  // Get available model list (fetch dynamically from API)
  async getAvailableModels() {
    o.debug("ğŸ”¥ğŸ”¥ğŸ”¥ [ModelAPI] getAvailableModels called!");
    try {
      const e = await this.getAuthToken(), t = `${this.baseURL}/api/models`;
      o.debug("[ModelAPI] ğŸŒ Requesting model list:", t, "Token:", e ? "Yes" : "No");
      const a = await fetch(t, {
        method: "GET",
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json",
          Authorization: `Bearer ${e}`
        }
      });
      if (o.debug("[ModelAPI] Response status:", a.status, a.statusText), !a.ok)
        throw new Error(`HTTP ${a.status}: ${a.statusText}`);
      const r = await a.json();
      if (o.debug("[ModelAPI] Response data:", r), r.data && Array.isArray(r.data)) {
        const n = r.data.map((i) => ({
          id: i.id,
          name: i.name || i.id,
          owned_by: i.owned_by,
          is_active: !0
        }));
        return o.debug("[ModelAPI] Parsed", n.length, "models"), n.length === 0 && o.warn("[ModelAPI] âš ï¸ Received empty model list from backend:", r), n;
      }
      if (Array.isArray(r)) {
        const n = r.map((i) => ({
          id: i.id,
          name: i.name || i.id,
          owned_by: i.owned_by,
          is_active: !0
        }));
        return o.debug("[ModelAPI] Parsed", n.length, "models (array format)"), n;
      }
      return o.warn("[ModelAPI] Abnormal return format"), [];
    } catch (e) {
      throw o.error("[ModelAPI] Failed to get model list:", e), e;
    }
  }
  // Prompt related API
  async getAllPrompts() {
    const e = await this.getAuthToken();
    if (!e)
      throw new Error("Auth token not found, please login");
    const t = await fetch(this.apiURL, {
      method: "GET",
      headers: {
        Authorization: `Bearer ${e}`
      }
    });
    if (!t.ok)
      throw new Error(`Fetch failed HTTP ${t.status}: ${t.statusText}`);
    return (await t.json()).filter((r) => r.command !== "/_");
  }
  // Get central metadata store
  async getMetadataStore() {
    const e = await this.getAuthToken();
    if (!e)
      return o.warn("Auth token not found, returning null to trigger init"), null;
    try {
      o.debug("ğŸ” Checking if _ command exists...");
      const t = await fetch(`${this.apiURL}command/_`, {
        method: "GET",
        headers: {
          Authorization: `Bearer ${e}`
        }
      });
      if (t.status === 401 || t.status === 404)
        return o.debug("ğŸ“¦ _ command does not exist, need to create metadata store"), null;
      if (!t.ok)
        return o.warn(`Failed to get metadata store HTTP ${t.status}: ${t.statusText}`), null;
      const a = await t.json();
      o.debug("âœ… Found existing _ command, parsing metadata...");
      try {
        const r = JSON.parse(a.content);
        return o.debug("ğŸ“Š Metadata parsed successfully, version:", r.version), r;
      } catch (r) {
        return o.warn("Metadata parsing failed, returning default structure:", r), this.getDefaultMetadataStructure();
      }
    } catch (t) {
      return o.warn("Error fetching metadata store:", t.message), null;
    }
  }
  // Update central metadata store
  async updateMetadataStore(e) {
    const t = await this.getAuthToken();
    if (!t)
      throw new Error("Authentication token not found, please ensure you are logged in");
    const a = {
      command: "/_",
      // Use underscore as command for system metadata storage
      title: "System Metadata Store",
      content: JSON.stringify(e, null, 2),
      access_control: null
    }, r = await fetch(`${this.apiURL}command/_/update`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${t}`
      },
      body: JSON.stringify(a)
    });
    if (!r.ok) {
      const n = await r.text();
      throw new Error(`Failed to update metadata store HTTP ${r.status}: ${n}`);
    }
    return await r.json();
  }
  // Create central metadata store
  async createMetadataStore(e) {
    const t = await this.getAuthToken();
    if (!t)
      throw new Error("Authentication token not found, please ensure you are logged in");
    o.debug("ğŸ“¦ Creating central metadata store...");
    const a = {
      command: "/_",
      title: "System Metadata Store",
      content: JSON.stringify(e, null, 2),
      access_control: null
    };
    o.debug("ğŸ“¤ Sending create request, data:", a);
    const r = await fetch(`${this.apiURL}create`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${t}`
      },
      body: JSON.stringify(a)
    });
    if (!r.ok) {
      const i = await r.text();
      throw o.error("âŒ Failed to create metadata store:", i), new Error(`Failed to create metadata store HTTP ${r.status}: ${i}`);
    }
    const n = await r.json();
    return o.debug("âœ… Metadata store created successfully:", n), n;
  }
  // Get current user info
  async getCurrentUser() {
    const e = await this.getAuthToken();
    if (!e)
      throw new Error("Authentication token not found, please ensure you are logged in");
    try {
      const t = await fetch(`${this.baseURL}/api/v1/auths/`, {
        method: "GET",
        headers: {
          Authorization: `Bearer ${e}`
        }
      });
      if (!t.ok)
        throw new Error(`Failed to get user info HTTP ${t.status}: ${t.statusText}`);
      const a = await t.json();
      return {
        id: a.id,
        name: a.name || a.email || "Unknown User"
      };
    } catch (t) {
      return o.warn("Failed to get user info, using default:", t), {
        id: "unknown-user",
        name: "Unknown User"
      };
    }
  }
  // Get default metadata structure
  getDefaultMetadataStructure() {
    return {
      version: "1.1",
      categories: [
        { id: "writing", name: "Writing", order: 1 },
        { id: "productivity", name: "Productivity", order: 2 },
        { id: "learning", name: "Learning", order: 3 },
        { id: "coding", name: "Coding", order: 4 },
        { id: "data", name: "Data", order: 5 },
        { id: "lifestyle", name: "Lifestyle", order: 6 },
        { id: "roleplay", name: "Roleplay", order: 7 }
      ],
      prompts: {}
    };
  }
  async createPrompt(e) {
    const t = await this.getAuthToken();
    if (!t)
      throw new Error("Authentication token not found, please ensure you are logged in");
    const a = await fetch(`${this.apiURL}create`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${t}`
      },
      body: JSON.stringify(e)
    });
    if (!a.ok) {
      const r = await a.text();
      throw new Error(`Creation failed HTTP ${a.status}: ${r}`);
    }
    return await a.json();
  }
  async updatePrompt(e, t) {
    const a = await this.getAuthToken();
    if (!a)
      throw new Error("Authentication token not found, please ensure you are logged in");
    const r = {
      ...t,
      command: t.command && t.command.startsWith("/") ? t.command : `/${e}`
      // Missing or incorrect format, set to correct format
    }, n = await fetch(`${this.apiURL}command/${e}/update`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${a}`
      },
      body: JSON.stringify(r)
    });
    if (!n.ok) {
      const i = await n.text();
      throw new Error(`Update failed HTTP ${n.status}: ${i}`);
    }
    return await n.json();
  }
  async deletePrompt(e) {
    const t = await this.getAuthToken();
    if (!t)
      throw new Error("Authentication token not found, please ensure you are logged in");
    const a = await fetch(`${this.apiURL}command/${e}/delete`, {
      method: "DELETE",
      headers: {
        Authorization: `Bearer ${t}`
      }
    });
    if (!a.ok) {
      const r = await a.text();
      throw new Error(`Deletion failed HTTP ${a.status}: ${r}`);
    }
    return await a.json();
  }
  // AI Tag Generation
  async getAITags(e, t, a = 3) {
    const r = await this.getAuthToken();
    if (!r) throw new Error("Authentication token not found");
    const n = await this.getCurrentModel(), i = `You are a professional tag generator. Please generate 3-5 relevant tags based on the following content.

Title: ${t}
Content: ${e.substring(0, 200)}...

Requirements:
1. Tags must accurately reflect the content topic
2. Use the same language as the content
3. Each tag should be concise (max 4 words)
4. Sort by importance
5. Return only tags, separated by commas

Tags: `, c = {
      model: n,
      messages: [{ role: "user", content: i }],
      stream: !1,
      max_tokens: 100,
      temperature: 0.3
    };
    for (let l = 1; l <= a; l++)
      try {
        const d = await fetch(this.chatURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${r}`
          },
          body: JSON.stringify(c)
        });
        if (!d.ok)
          throw new Error(`HTTP ${d.status}: ${d.statusText}`);
        const p = await d.json();
        if (p.choices && p.choices.length > 0)
          return p.choices[0].message.content.split(",").map((m) => m.trim()).filter(Boolean);
        throw new Error("Invalid response format");
      } catch (d) {
        if (o.warn(`AI tag generation failed (Attempt ${l}/${a}):`, d), l === a)
          throw d;
        await new Promise((p) => setTimeout(p, 1e3 * l));
      }
  }
  // Batch get categories
  async getAICategoryForBatch(e, t = 3) {
    const a = await this.getAuthToken();
    if (!a) throw new Error("Authentication token not found");
    const n = `You are a prompt classification expert. Please select the most appropriate category for each prompt based on the title and content below.

Available categories:
${[
      "- writing",
      "- productivity",
      "- learning",
      "- coding",
      "- data",
      "- lifestyle",
      "- roleplay"
    ].join(`
`)}

Your task is to return only the most appropriate category ID for each provided prompt. Please strictly follow the format "ID: Category ID", with one prompt per line.

Example:
ID: 1, Category: content-creation
ID: 2, Category: code-development
ID: 3, Category: office-assistant`, i = e.map(
      (d, p) => `ID: ${p + 1}
Title: ${d.title}
Content: ${d.content.substring(0, 150)}...`
    ).join(`

`), l = {
      model: await this.getCurrentModel(),
      messages: [
        { role: "system", content: n },
        { role: "user", content: i }
      ],
      stream: !1,
      max_tokens: e.length * 15,
      temperature: 0.1
    };
    for (let d = 1; d <= t; d++)
      try {
        const p = await fetch(this.chatURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${a}`
          },
          body: JSON.stringify(l)
        });
        if (!p.ok)
          throw new Error(`HTTP ${p.status}: ${p.statusText}`);
        const u = await p.json();
        if (u.choices && u.choices.length > 0) {
          const g = u.choices[0].message.content.split(`
`), h = new Array(e.length).fill("productivity"), v = [
            "writing",
            "productivity",
            "learning",
            "coding",
            "data",
            "lifestyle",
            "roleplay"
          ];
          return g.forEach((b) => {
            const _ = b.match(/(?:ID:\s*)?(\d+)[,:]\s*(?:Category:\s*)?([a-z-]+)/i);
            if (_) {
              const y = parseInt(_[1], 10) - 1, x = _[2].trim();
              y >= 0 && y < e.length && v.includes(x) ? h[y] = x : y >= 0 && y < e.length && (o.warn(`Invalid batch category "${x}" for prompt ${y + 1}, using default`), h[y] = "productivity");
            }
          }), h;
        }
        throw new Error("Invalid response format");
      } catch (p) {
        if (o.warn(`Batch classification failed (Attempt ${d}/${t}):`, p), d === t)
          return o.warn("Batch classification failed, using keyword fallback"), e.map((u) => {
            const m = (u.title + " " + u.content).toLowerCase();
            return m.includes("code") || m.includes("programming") || m.includes("dev") ? "coding" : m.includes("data") || m.includes("analysis") ? "data" : m.includes("write") || m.includes("article") || m.includes("creative") ? "writing" : (m.includes("business") || m.includes("office") || m.includes("email"), "productivity");
          });
        await new Promise((u) => setTimeout(u, 1e3 * d));
      }
  }
  // Generate Smart Command
  async generateAICommand(e, t = "", a = 3) {
    const r = await this.getAuthToken();
    if (!r)
      throw new Error("Authentication token not found");
    const n = `You are a professional command generator. Please generate a concise and clear English command name for the following prompt.

Requirements:
1. Use lowercase English letters
2. Use hyphens (-) to separate words
3. Length should be between 2-4 words
4. Reflect the core functionality of the prompt
5. Avoid using special characters
6. Ensure the command is concise and memorable

Prompt Title: ${e}
${t ? `Prompt Content: ${t.substring(0, 200)}...` : ""}

Please only return the command name, do not explain. For example: sql-optimizer, code-reviewer, data-analyst

Command Name: `, c = {
      model: await this.getCurrentModel(),
      messages: [{ role: "user", content: n }],
      stream: !1,
      max_tokens: 50,
      temperature: 0.3
    };
    for (let l = 1; l <= a; l++)
      try {
        const d = await fetch(this.chatURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${r}`
          },
          body: JSON.stringify(c)
        });
        if (!d.ok)
          throw new Error(`HTTP ${d.status}: ${d.statusText}`);
        const p = await d.json();
        if (p.choices && p.choices.length > 0) {
          const u = p.choices[0].message.content.trim(), m = u.match(/([a-z-]+)/);
          return m ? m[1] : u.toLowerCase().replace(/[^a-z-]/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "");
        }
        throw new Error("Invalid response format");
      } catch (d) {
        if (o.warn(`AI command generation failed (Attempt ${l}/${a}):`, d), l === a)
          throw d;
        await new Promise((p) => setTimeout(p, 1e3 * l));
      }
  }
  // Format Conversion
  convertToOpenWebUIFormat(e) {
    return {
      command: `/${Q(e.command || e.title)}`,
      title: e.title,
      content: e.content,
      access_control: null
      // Ensure it is null
    };
  }
  convertFromOpenWebUIFormat(e) {
    var t, a, r;
    return {
      id: "openwebui_" + (((t = e.command) == null ? void 0 : t.replace("/", "")) || P()),
      title: e.title || ((a = e.command) == null ? void 0 : a.replace("/", "")) || "Untitled Prompt",
      content: e.content || "",
      category: "productivity",
      tags: ["OpenWebUI Import"],
      description: `Imported from OpenWebUI (${e.command || ""})`,
      createdAt: e.timestamp ? new Date(e.timestamp * 1e3).toISOString() : (/* @__PURE__ */ new Date()).toISOString(),
      updatedAt: (/* @__PURE__ */ new Date()).toISOString(),
      usageCount: 0,
      isFavorite: !1,
      command: (r = e.command) == null ? void 0 : r.replace("/", ""),
      openwebuiData: e
    };
  }
  // AI Assisted Prompt Generation
  async generatePromptContent(e, t = null, a = 3) {
    const r = await this.getAuthToken();
    if (!r)
      throw new Error("Auth token not found");
    const n = t || await this.getCurrentModel(), i = this.buildPromptGenerationTemplate(e), c = {
      model: n,
      messages: [{ role: "user", content: i }],
      stream: !1,
      temperature: 0.7
    };
    for (let l = 1; l <= a; l++)
      try {
        const d = await fetch(this.chatURL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${r}`
          },
          body: JSON.stringify(c)
        });
        if (!d.ok)
          throw new Error(`HTTP ${d.status}: ${d.statusText}`);
        const p = await d.json();
        if (o.debug("AI Raw Response Data:", p), !p)
          throw new Error("API returned empty/null response");
        if (p.choices && p.choices.length > 0) {
          const u = p.choices[0].message.content;
          return o.debug("AI Raw Response Content:", u), this.parseGeneratedContent(u);
        }
        throw o.error("Invalid response structure:", p), new Error("Invalid response format: missing choices field");
      } catch (d) {
        if (o.warn(`AI prompt generation failed (Attempt ${l}/${a}):`, d), l === a)
          throw d;
        await new Promise((p) => setTimeout(p, 1e3 * l));
      }
  }
  // Build AI Prompt Generation Template
  buildPromptGenerationTemplate(e) {
    const {
      description: t,
      useClipboard: a,
      additionalInstructions: r,
      strictNamingRules: n,
      variableSyntaxRules: i,
      availableVariables: c,
      availableCategoriesList: l
      // Get dynamic category list
    } = e, d = a ? "- **Important**: The prompt content MUST include the `{{CLIPBOARD}}` variable to receive clipboard content." : "";
    let p = "";
    l && Array.isArray(l) && l.length > 0 && (p = `## Available Category List
`, p += l.map((h) => `- ${h.id} (${h.name})`).join(`
`));
    let u = "English";
    switch (s.lang) {
      case "zh-CN":
        u = "Simplified Chinese";
        break;
      case "zh-TW":
        u = "Traditional Chinese";
        break;
      case "ja-JP":
        u = "Japanese";
        break;
      case "ko-KR":
        u = "Korean";
        break;
      case "de-DE":
        u = "German";
        break;
      case "fr-FR":
        u = "French";
        break;
      case "es-ES":
        u = "Spanish";
        break;
      case "el":
        u = "Greek";
        break;
      default:
        u = "English";
        break;
    }
    const g = `
${de.replace(/{{INTERFACE_LANGUAGE}}/g, u)}

${n || ""}

${i || ""}

${c || ""}

${p}

---

## User Core Request
${t}

## Additional Instructions
${d}
${r || ""}
`;
    return o.debug("Final prompt sent to AI:", g), g;
  }
  // Parse AI Generated Content
  parseGeneratedContent(e) {
    try {
      let t = e, a = null;
      const r = e.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);
      if (r)
        try {
          const i = r[1].trim();
          a = JSON.parse(i), t = i;
        } catch (i) {
          console.debug("Regex extraction matched but failed to parse, trying fallback:", i);
        }
      if (!a) {
        const i = e.indexOf("{"), c = e.lastIndexOf("}");
        if (i !== -1 && c !== -1 && c > i) {
          t = e.substring(i, c + 1);
          try {
            a = JSON.parse(t);
          } catch {
          }
        }
      }
      if (!a) {
        t = t.trim();
        try {
          a = JSON.parse(t);
        } catch (i) {
          try {
            const c = t.replace(/,\s*}/g, "}").replace(/,\s*]/g, "]");
            a = JSON.parse(c);
          } catch {
            throw i;
          }
        }
      }
      if (!a.title || !a.content)
        throw new Error("Missing required fields (title or content)");
      let n = a.category || null;
      return {
        title: a.title.trim(),
        content: a.content.replace(/\\n/g, `
`).replace(/\\"/g, '"').trim(),
        variables: a.variables || [],
        category: n,
        tags: Array.isArray(a.tags) ? a.tags : [],
        command: a.command || this.sanitizeCommand(a.title),
        systemVariables: this.extractSystemVariables(a.content),
        customVariables: this.extractCustomVariables(a.content)
      };
    } catch (t) {
      throw console.warn("Failed to parse generated content:", t), console.debug("Raw content was:", e), new Error(`AI generated content format error: ${t.message}`);
    }
  }
  // Extract system variables
  extractSystemVariables(e) {
    const t = [
      "CLIPBOARD"
    ], a = [];
    return t.forEach((r) => {
      e.includes(`{{${r}}}`) && a.push(r);
    }), a;
  }
  // Extract custom variables
  extractCustomVariables(e) {
    const t = /\{\{([a-zA-Z_][a-zA-Z0-9_]*)\s*(\|\s*([a-zA-Z]+)(:([^}]+))?)?\}\}/g, a = [], r = [
      "CLIPBOARD"
    ];
    let n;
    for (; (n = t.exec(e)) !== null; ) {
      const [i, c, , l, , d] = n;
      r.includes(c) || a.find((p) => p.name === c) || a.push({
        name: c,
        type: l || "text",
        properties: d || "",
        fullSyntax: i
      });
    }
    return a;
  }
  // Sanitize and validate command name
  sanitizeCommand(e) {
    return e.toLowerCase().replace(/[^a-z0-9-]/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "").substring(0, 30) || "prompt";
  }
}
class fe {
  constructor(e = "promptManagerData", t = T.CACHE_VERSION) {
    this.storageKey = e, this.version = t, this.storage = localStorage;
  }
  /**
   * Save data to local storage
   * @param {object} data - Data object containing prompts and categories
   */
  save(e) {
    if (!e || !e.prompts || !e.categories) {
      o.warn("âš ï¸ Invalid data, save operation cancelled.");
      return;
    }
    try {
      const t = {
        version: this.version,
        timestamp: Date.now(),
        data: e
      };
      this.storage.setItem(this.storageKey, JSON.stringify(t)), o.debug(`ğŸ’¾ Data saved to local cache (Version: ${this.version})`);
    } catch (t) {
      o.error("âŒ Failed to save local cache:", t), this.isQuotaExceeded(t) && (o.warn("âš ï¸ Storage quota exceeded, clearing old cache..."), this.clear());
    }
  }
  /**
   * Load data from local storage
   * @returns {object|null} - Returns cached data object, or null if cache is invalid or expired
   */
  load() {
    try {
      const e = this.storage.getItem(this.storageKey);
      if (!e)
        return o.debug("â„¹ï¸ Local cache is empty."), null;
      const t = JSON.parse(e);
      if (t.version !== this.version)
        return o.warn(`Cache version mismatch (Required: ${this.version}, Found: ${t.version}). Cache invalidated.`), this.clear(), null;
      const a = Date.now() - t.timestamp;
      return a > T.CACHE_TTL && o.debug(`Cache expired (${Math.round(a / 1e3 / 60)} mins ago), background update triggered.`), o.debug(`âœ… Loaded data from local cache (Version: ${this.version})`), t.data;
    } catch (e) {
      return o.error("âŒ Failed to load local cache:", e), this.clear(), null;
    }
  }
  /**
   * Clear local storage
   */
  clear() {
    try {
      this.storage.removeItem(this.storageKey), o.debug("ğŸ—‘ï¸ Local cache cleared.");
    } catch (e) {
      o.error("âŒ Failed to clear local cache:", e);
    }
  }
  /**
   * Check if it is a storage quota exceeded error
   * @param {Error} e - Error object
   * @returns {boolean}
   */
  isQuotaExceeded(e) {
    let t = !1;
    if (e)
      if (e.code)
        switch (e.code) {
          case 22:
          case 1014:
            t = !0;
            break;
        }
      else (e.name === "QuotaExceededError" || e.name === "NS_ERROR_DOM_QUOTA_REACHED") && (t = !0);
    return t;
  }
}
class O {
  constructor() {
    this.prompts = [], this.categories = L(), this.api = new _e(), this.storage = new fe(), this.metadata = null, this.currentUser = null, this.cache = {
      aiTags: /* @__PURE__ */ new Map(),
      apiResults: /* @__PURE__ */ new Map(),
      commands: /* @__PURE__ */ new Map(),
      lastCacheClean: Date.now()
    }, this.batchQueue = {
      tags: [],
      commands: [],
      processing: !1
    }, this.debounceTimers = /* @__PURE__ */ new Map(), this.throttleCache = /* @__PURE__ */ new Map(), this.debouncedSaveMetadata = pe(() => this.saveMetadataStore(), T.DEBOUNCE_DELAY);
  }
  // Refresh categories with current language
  refreshCategories() {
    const e = L(), t = this.metadata && this.metadata.categories ? this.metadata.categories : [];
    this.categories = this.mergeCategories(e, t), o.debug("[PromptManager] Categories refreshed for lang:", T.LANGUAGE);
  }
  // Merge default categories with custom/cached categories
  mergeCategories(e, t) {
    const a = [...e], r = new Set(e.map((n) => n.id));
    return !t || !Array.isArray(t) || (t.forEach((n) => {
      const i = a.findIndex((l) => l.id === n.id);
      if (i !== -1) {
        const d = { ...a[i] };
        n.order !== void 0 && (d.order = n.order), a[i] = d;
        return;
      }
      const c = this.normalizeCategoryId(n.id);
      c && r.has(c) || a.push(n);
    }), a.sort((n, i) => (n.order || 999) - (i.order || 999))), a;
  }
  // New Central Storage Data Loading Strategy (Stale-While-Revalidate)
  async loadData(e) {
    o.debug("ğŸš€ Loading data (Stale-While-Revalidate)..."), this.categories = L();
    const t = this.storage.load();
    t && (this.prompts = t.prompts || [], t.categories && Array.isArray(t.categories) && (this.categories = t.categories), t.metadata && t.metadata.categories && (this.categories = this.mergeCategories(L(), t.metadata.categories)), this.metadata = t.metadata || null, this.currentUser = t.currentUser || null, o.debug(`âœ… Loaded ${this.prompts.length} prompts from cache.`), typeof e == "function" && e(this.prompts));
    try {
      o.debug("ğŸ”„ [Background] Syncing latest data...");
      const a = await this.api.getCurrentUser(), r = await this.api.getAllPrompts(), n = await this.api.getMetadataStore();
      this.currentUser = a, n ? this.metadata = n : (o.debug("ğŸ“¦ [Background] Metadata store does not exist, initializing..."), await this.initializeMetadataStore()), await this.syncMetadataWithPrompts(r), this.metadata && this.metadata.categories && (this.categories = this.mergeCategories(L(), this.metadata.categories));
      const i = await this.convertAllFromOpenWebUIFormat(r), c = localStorage.getItem("defaultPromptsSeeded");
      if (!i.some((d) => d.command === "de-sql-optimizer") && !c) {
        o.debug("ğŸŒ± Missing default prompts detected and not seeded, starting auto-seeding..."), await this.seedDefaultPrompts(), localStorage.setItem("defaultPromptsSeeded", "true");
        const d = await this.api.getAllPrompts(), p = await this.convertAllFromOpenWebUIFormat(d);
        this.prompts = p, this.enhancePromptsWithMetadata(this.prompts), o.debug("âœ¨ Default data seeding completed, refreshing UI"), typeof e == "function" && e(this.prompts), this.saveDataToCache();
      } else
        this.enhancePromptsWithMetadata(i), JSON.stringify(this.prompts) !== JSON.stringify(i) ? (o.debug("âœ¨ [Background] Data updated, refreshing UI and updating cache."), this.prompts = i, typeof e == "function" && e(this.prompts), this.saveDataToCache()) : o.debug("âœ… [Background] Data is up to date.");
    } catch (a) {
      o.error("âŒ [Background] Failed to sync data:", a), t || (o.debug("Failing over to default prompts"), await this.initializeWithDefaults(), typeof e == "function" && e(this.prompts));
    }
    return this.prompts;
  }
  // Save current state to cache
  saveDataToCache() {
    const e = {
      prompts: this.prompts,
      categories: this.categories,
      metadata: this.metadata,
      currentUser: this.currentUser
    };
    this.storage.save(e);
  }
  // Upsert Category (Add or Update)
  async upsertCategory(e) {
    const t = this.categories.findIndex((n) => n.id === e.id);
    t !== -1 ? this.categories[t] = { ...this.categories[t], ...e } : this.categories.push(e), this.metadata || (this.metadata = this.api.getDefaultMetadataStructure()), this.metadata.categories || (this.metadata.categories = []);
    const a = {
      id: e.id,
      name: e.name,
      icon: e.icon,
      order: e.order
    }, r = this.metadata.categories.findIndex((n) => n.id === e.id);
    return r !== -1 ? this.metadata.categories[r] = a : this.metadata.categories.push(a), await this.saveMetadataStore(), this.saveDataToCache(), !0;
  }
  // Delete Category
  async deleteCategory(e) {
    return this.categories = this.categories.filter((t) => t.id !== e), this.metadata && this.metadata.categories && (this.metadata.categories = this.metadata.categories.filter((t) => t.id !== e)), await this.saveMetadataStore(), this.saveDataToCache(), !0;
  }
  // Update Category Name (Legacy wrapper)
  async updateCategory(e, t) {
    const a = this.categories.find((r) => r.id === e);
    return a ? this.upsertCategory({ ...a, name: t }) : !1;
  }
  // Initialize Metadata Store
  async initializeMetadataStore() {
    var e;
    o.debug("ğŸ”§ Initializing central metadata store...");
    try {
      let t = [];
      try {
        t = await this.api.getAllPrompts(), o.debug("ğŸ“„ Found", t.length, "existing business prompts");
      } catch (a) {
        o.warn("âš ï¸ Failed to get existing prompts:", a), t = [];
      }
      if (this.metadata = this.api.getDefaultMetadataStructure(), o.debug("ğŸ“¦ Creating default metadata structure"), t && t.length > 0) {
        o.debug("ğŸ“ Starting to generate metadata for existing prompts...");
        for (let a = 0; a < t.length; a++) {
          const r = t[a], n = ((e = r.command) == null ? void 0 : e.replace("/", "")) || r.id || `prompt_${a}`, i = this.fallbackCategoryDetection(r.content, r.title);
          this.metadata.prompts[n] = {
            categoryId: i,
            isFavorite: !1,
            usage: {
              total: 0,
              byUser: {}
            },
            createdBy: this.currentUser || { id: "unknown", name: "Unknown User" },
            lastModifiedBy: this.currentUser || { id: "unknown", name: "Unknown User" },
            createdAt: r.timestamp ? new Date(r.timestamp * 1e3).toISOString() : (/* @__PURE__ */ new Date()).toISOString(),
            updatedAt: (/* @__PURE__ */ new Date()).toISOString()
          }, o.debug(`âœ“ [${a + 1}/${t.length}] Initializing prompt "${r.title}" -> Category: ${i}`);
        }
        o.debug("âœ… Existing prompts metadata generation completed");
      } else
        o.debug("â„¹ï¸ No existing business prompts found, using clean metadata structure");
      (!t || t.length === 0) && o.debug("â„¹ï¸ No existing business prompts found, creating empty metadata structure"), o.debug("ğŸ’¾ Saving metadata store to OpenWebUI..."), await this.api.createMetadataStore(this.metadata), o.debug("âœ… Metadata store initialization completed, containing metadata for", Object.keys(this.metadata.prompts).length, "prompts");
    } catch (t) {
      throw o.error("âŒ Failed to initialize metadata store:", t), this.metadata = this.api.getDefaultMetadataStructure(), t;
    }
  }
  // Sync Metadata with Prompts Data
  async syncMetadataWithPrompts(e) {
    var r;
    o.debug("ğŸ”„ Syncing metadata with prompts...");
    let t = !1;
    for (const n of e) {
      const i = ((r = n.command) == null ? void 0 : r.replace("/", "")) || n.id;
      if (!this.metadata.prompts[i]) {
        o.debug("â• Found new prompt:", n.title, "adding to metadata with auto-detection");
        const c = this.fallbackCategoryDetection(n.content, n.title);
        this.metadata.prompts[i] = {
          categoryId: c,
          isFavorite: !1,
          usage: {
            total: 0,
            byUser: {}
          },
          createdBy: this.currentUser,
          lastModifiedBy: this.currentUser,
          createdAt: (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: (/* @__PURE__ */ new Date()).toISOString()
        }, t = !0;
      }
    }
    const a = e.map((n) => {
      var i;
      return ((i = n.command) == null ? void 0 : i.replace("/", "")) || n.id;
    });
    for (const n of Object.keys(this.metadata.prompts)) {
      if (n === "/_" || n === "_") continue;
      const i = n.replace(/^\//, "");
      a.includes(i) || (o.debug("ğŸ—‘ï¸ Cleaning up metadata for deleted prompt:", n), delete this.metadata.prompts[n], t = !0);
    }
    t && (await this.saveMetadataStore(), o.debug("ğŸ’¾ Metadata sync completed"));
  }
  // Enhance Prompts with Metadata
  enhancePromptsWithMetadata(e) {
    var t;
    o.debug("âœ¨ Enhancing prompts with metadata...");
    for (const a of e) {
      const r = a.command || a.id;
      let n = this.metadata.prompts[r];
      !n && !r.startsWith("/") && (n = this.metadata.prompts["/" + r]), !n && r.startsWith("/") && (n = this.metadata.prompts[r.substring(1)]), n && (a.category = this.normalizeCategoryId(n.categoryId), a.isFavorite = n.isFavorite, a.usageCount = n.usage.total, a.createdBy = n.createdBy, a.lastModifiedBy = n.lastModifiedBy, a.userUsageCount = n.usage.byUser[(t = this.currentUser) == null ? void 0 : t.id] || 0);
    }
  }
  // Save Metadata to Central Storage
  async saveMetadataStore() {
    if (!this.metadata) {
      o.warn("âš ï¸ Metadata is empty, skipping save");
      return;
    }
    try {
      await this.api.updateMetadataStore(this.metadata), o.debug("ğŸ’¾ Metadata saved to central storage");
    } catch (e) {
      throw o.error("âŒ Failed to save metadata:", e), e;
    }
  }
  // Fallback plan when API fails (No longer load default prompts)
  async initializeWithDefaults() {
    o.debug("ğŸ”§ API connection failed, initializing default system...");
    try {
      this.prompts = R.map((e) => ({
        id: e.id,
        command: `/${e.id}`,
        title: e.title,
        content: e.content,
        category: e.category,
        usageCount: 0,
        isFavorite: !1,
        createdAt: (/* @__PURE__ */ new Date()).toISOString(),
        updatedAt: (/* @__PURE__ */ new Date()).toISOString()
      })), o.debug("ğŸ“ Initializing default prompt list:", this.prompts.length), this.metadata = this.api.getDefaultMetadataStructure();
      for (const e of this.prompts) {
        const t = e.command;
        this.metadata.prompts[t] = {
          categoryId: e.category,
          isFavorite: !1,
          usage: { total: 0, byUser: {} },
          createdBy: "system",
          lastModifiedBy: "system",
          createdAt: e.createdAt,
          updatedAt: e.updatedAt
        };
      }
      try {
        await this.api.createMetadataStore(this.metadata), o.debug("âœ… Default metadata store created successfully");
      } catch (e) {
        o.warn("âš ï¸ Failed to create metadata store, system will run in memory:", e);
      }
      o.debug("âœ… Default system initialization completed");
    } catch (e) {
      o.error("âŒ Initialization failed:", e), this.prompts || (this.prompts = []), this.metadata || (this.metadata = this.api.getDefaultMetadataStructure());
    }
  }
  // Seed Default Prompts to Server
  async seedDefaultPrompts() {
    o.debug("ğŸŒ± Seeding default prompts...");
    let e = 0;
    for (const t of R)
      try {
        const a = `/${t.id}`;
        await this.api.createPrompt({
          command: a,
          title: t.title,
          content: t.content
        }), this.metadata && this.metadata.prompts && (this.metadata.prompts[a] = {
          categoryId: t.category,
          isFavorite: !1,
          usage: { total: 0, byUser: {} },
          createdBy: this.currentUser || "system",
          lastModifiedBy: this.currentUser || "system",
          createdAt: (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: (/* @__PURE__ */ new Date()).toISOString()
        }), e++;
      } catch (a) {
        a.message && a.message.includes("already exists") ? o.debug(`Prompt ${t.title} already exists, skipping`) : o.error(`Failed to seed prompt ${t.title}:`, a);
      }
    e > 0 && this.metadata && (await this.saveMetadataStore(), o.debug(`âœ… Successfully seeded ${e} default prompts`));
  }
  // Notes sync function removed, focus on central metadata storage
  // Sync Prompts to OpenWebUI API
  async syncPromptsToAPI(e = "Prompts", t = this.prompts) {
    o.debug(`ğŸŒ Starting to sync ${t.length} ${e} to OpenWebUI API...`);
    let a = 0, r = 0;
    for (let n = 0; n < t.length; n++) {
      const i = t[n];
      try {
        const c = (i.command || i.id).replace(/^\/+/, ""), l = {
          command: `/${c}`,
          title: i.title,
          content: i.content,
          access_control: null
        };
        o.debug(`ğŸ“¤ [${n + 1}/${t.length}] Creating prompt: ${i.title} (Command: /${c})`);
        const d = await this.api.createPrompt(l);
        o.debug(`âœ… [${n + 1}/${t.length}] Created successfully:`, d), a++;
      } catch (c) {
        r++, String(c.message).includes("409") ? o.warn(`âš ï¸ [${n + 1}/${t.length}] Prompt "${i.title}" already exists in OpenWebUI, skipping creation.`) : o.error(`âŒ [${n + 1}/${t.length}] Failed to sync prompt "${i.title}" to OpenWebUI API:`, c);
      }
    }
    return o.debug(`ğŸ¯ ${e} sync completed! Success: ${a}, Error: ${r}`), { successCount: a, errorCount: r };
  }
  // Save Data (Use debounce to save metadata)
  saveData() {
    this.debouncedSaveMetadata();
  }
  // Batch Convert OpenWebUI Format to Local Display Format
  async convertAllFromOpenWebUIFormat(e) {
    return !e || e.length === 0 ? [] : e.map((t, a) => {
      var r, n, i;
      return {
        id: ((r = t.command) == null ? void 0 : r.replace("/", "")) || P(),
        title: t.title || ((n = t.command) == null ? void 0 : n.replace("/", "")) || "Untitled Prompt",
        content: t.content || "",
        category: null,
        // Category defaults to null
        description: `OpenWebUI Prompt (${t.command || ""})`,
        createdAt: t.timestamp ? new Date(t.timestamp * 1e3).toISOString() : (/* @__PURE__ */ new Date()).toISOString(),
        updatedAt: (/* @__PURE__ */ new Date()).toISOString(),
        usageCount: 0,
        isFavorite: !1,
        command: (i = t.command) == null ? void 0 : i.replace("/", ""),
        openwebuiData: t
      };
    });
  }
  // Convert Local Format to OpenWebUI Format
  convertToOpenWebUIFormat(e) {
    return this.api.convertToOpenWebUIFormat(e);
  }
  // Use OpenWebUI Tag API for Smart Classification and Tag Extraction
  async autoDetectCategory(e, t) {
    try {
      const a = await this.getAITags(e, t);
      if (a && a.length > 0)
        return ge(a);
    } catch (a) {
      o.warn("AI tag generation failed, using keyword matching:", a);
    }
    return this.fallbackCategoryDetection(e, t);
  }
  // Use OpenWebUI Tag API to Extract Smart Tags - With Cache Optimization
  async extractTags(e, t) {
    const a = this.generateCacheKey(e, t, "tags");
    if (this.cache.aiTags.has(a))
      return this.cache.aiTags.get(a);
    try {
      const n = await this.getAITagsWithCache(e, t);
      if (n && n.length > 0)
        return this.cache.aiTags.set(a, n), n;
    } catch (n) {
      o.warn("AI tag extraction failed, using keyword matching:", n);
    }
    const r = this.fallbackTagExtraction(e, t);
    return this.cache.aiTags.set(a, r), r;
  }
  // Generate Cache Key
  generateCacheKey(e, t, a) {
    const r = `${t}:${e.substring(0, 100)}`;
    return `${a}_${this.hashCode(r)}`;
  }
  // Simple Hash Function
  hashCode(e) {
    let t = 0;
    for (let a = 0; a < e.length; a++) {
      const r = e.charCodeAt(a);
      t = (t << 5) - t + r, t = t & t;
    }
    return Math.abs(t).toString(36);
  }
  // Cached AI Tag Retrieval
  async getAITagsWithCache(e, t) {
    const a = this.generateCacheKey(e, t, "ai_tags");
    if (this.cache.apiResults.has(a)) {
      const r = this.cache.apiResults.get(a);
      if (Date.now() - r.timestamp < T.CACHE_TTL)
        return r.data;
    }
    return this.addToBatchQueue("tags", { content: e, title: t, cacheKey: a });
  }
  // Batch Queue Management
  async addToBatchQueue(e, t) {
    return this.batchQueue[e].push(t), this.debounceFunction(`batch_${e}`, async () => {
      if (this.batchQueue.processing) return;
      this.batchQueue.processing = !0;
      const a = this.batchQueue[e].splice(0);
      try {
        if (e === "tags")
          return await this.processBatchTags(a);
        if (e === "commands")
          return await this.processBatchCommands(a);
      } finally {
        this.batchQueue.processing = !1;
      }
    }, T.BATCH_QUEUE_DELAY);
  }
  // Batch Tag Generation
  async processBatchTags(e) {
    const t = [];
    for (const a of e)
      try {
        const r = await this.api.getAITags(a.content, a.title);
        this.cache.apiResults.set(a.cacheKey, {
          data: r,
          timestamp: Date.now()
        }), t.push(r);
      } catch (r) {
        o.warn("Batch tag generation failed:", r), t.push(this.fallbackTagExtraction(a.content, a.title));
      }
    return t[t.length - 1];
  }
  // Debounce Function
  debounceFunction(e, t, a) {
    return new Promise((r) => {
      this.debounceTimers.has(e) && clearTimeout(this.debounceTimers.get(e));
      const n = setTimeout(async () => {
        this.debounceTimers.delete(e);
        const i = await t();
        r(i);
      }, a);
      this.debounceTimers.set(e, n);
    });
  }
  // Throttle Function
  throttle(e, t, a) {
    const r = Date.now(), n = this.throttleCache.get(e) || 0;
    return r - n >= a ? (this.throttleCache.set(e, r), t()) : Promise.resolve(null);
  }
  // Clean Cache
  cleanCache() {
    const e = Date.now(), t = T.CACHE_TTL;
    for (const [a, r] of this.cache.aiTags.entries())
      e - this.cache.lastCacheClean > t && this.cache.aiTags.delete(a);
    for (const [a, r] of this.cache.apiResults.entries())
      e - r.timestamp > t && this.cache.apiResults.delete(a);
    for (const [a, r] of this.cache.commands.entries())
      e - this.cache.lastCacheClean > t && this.cache.commands.delete(a);
    this.cache.lastCacheClean = e, o.debug("Cache cleaned.");
  }
  // Preload Common Data
  async preloadCommonData() {
    const e = this.prompts.sort((t, a) => a.usageCount - t.usageCount).slice(0, 5);
    for (const t of e) {
      const a = this.generateCacheKey(t.content, t.title, "tags");
      this.cache.aiTags.has(a) || this.extractTags(t.content, t.title).catch(o.warn);
    }
  }
  // Use General Chat Interface for Batch Category Retrieval
  async getAICategoryForBatch(e, t = 3) {
    return await this.api.getAICategoryForBatch(e, t);
  }
  // Keyword Matching Fallback Plan (Directly return system built-in category ID)
  fallbackCategoryDetection(e, t) {
    const a = (e + " " + t).toLowerCase();
    return a.includes("writing") || a.includes("story") || a.includes("creative") || a.includes("article") || a.includes("design") || a.includes("copywriting") || a.includes("brand") || a.includes("ad") || a.includes("promotion") || a.includes("template") || a.includes("script") ? "writing" : a.includes("sql") || a.includes("database") || a.includes("query") || a.includes("etl") || a.includes("warehouse") || a.includes("modeling") || a.includes("pandas") || a.includes("data analysis") || a.includes("statistics") || a.includes("chart") || a.includes("visualization") || a.includes("machine learning") || a.includes("data") || a.includes("analysis") ? "data" : a.includes("summary") || a.includes("extract") || a.includes("organize") || a.includes("key info") || a.includes("abstract") || a.includes("conclude") || a.includes("dialogue") || a.includes("chat") || a.includes("customer service") || a.includes("consult") || a.includes("qa") || a.includes("communication") || a.includes("plan") || a.includes("project") || a.includes("management") || a.includes("workflow") || a.includes("task") || a.includes("planning") || a.includes("business") || a.includes("office") || a.includes("email") || a.includes("meeting") || a.includes("convert") || a.includes("format") || a.includes("process") || a.includes("transform") || a.includes("legal") || a.includes("medical") || a.includes("professional") || a.includes("service") || a.includes("productivity") || a.includes("work") || a.includes("email") ? "productivity" : a.includes("learning") || a.includes("education") || a.includes("training") || a.includes("teaching") || a.includes("exam") || a.includes("course") || a.includes("reasoning") || a.includes("logic") || a.includes("decision") || a.includes("problem solving") || a.includes("thinking") || a.includes("academic") || a.includes("paper") || a.includes("study") || a.includes("research") ? "learning" : a.includes("python") || a.includes("code") || a.includes("programming") || a.includes("script") || a.includes("development") || a.includes("tech") || a.includes("software") || a.includes("api") || a.includes("frontend") || a.includes("backend") || a.includes("coding") || a.includes("dev") ? "coding" : a.includes("role") || a.includes("play") || a.includes("simulate") || a.includes("game") || a.includes("persona") || a.includes("roleplay") || a.includes("simulation") ? "roleplay" : a.includes("travel") || a.includes("recipe") || a.includes("leisure") || a.includes("entertainment") || a.includes("life") || a.includes("fitness") || a.includes("lifestyle") || a.includes("food") ? "lifestyle" : "productivity";
  }
  // Keyword Tag Extraction Fallback Plan
  fallbackTagExtraction(e, t) {
    return me(e + " " + t);
  }
  // Use AI to Generate Smart Command Name
  async generateCommand(e, t = "") {
    try {
      const a = await this.api.generateAICommand(e, t);
      if (a)
        return this.api.sanitizeCommand(a);
    } catch (a) {
      o.warn("AI command generation failed, using fallback plan:", a);
    }
    return this.fallbackGenerateCommand(e);
  }
  // Fallback Command Generation Plan
  fallbackGenerateCommand(e) {
    return e.toLowerCase().replace(/[^\w\s-]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-").replace(/^-|-$/g, "").substring(0, 20) || "prompt";
  }
  // Get Default Categories
  getDefaultCategories() {
    return $;
  }
  // Validate Category ID
  isValidCategoryId(e) {
    return e ? (this.categories || $).some((t) => t.id === e) : !1;
  }
  // Normalize External/Legacy Category ID, Map to System Built-in Categories
  normalizeCategoryId(e) {
    if (!e) return null;
    const a = {
      // Map old category IDs to new universal IDs
      "office-assistant": "productivity",
      "code-development": "coding",
      "content-creation": "writing",
      "data-science": "data",
      "learning-research": "learning",
      "prompt-engineering": "roleplay",
      // Closest match
      "life-fun": "lifestyle",
      // Legacy mappings
      "text-creation": "writing",
      "data-analysis": "data",
      "data-engineering": "data",
      "system-design": "coding",
      "information-extraction": "productivity",
      "dialogue-assistant": "roleplay",
      "task-planning": "productivity",
      "logic-reasoning": "learning",
      "business-office": "productivity",
      "education-training": "learning",
      "tech-development": "coding",
      "creative-design": "writing",
      "marketing-promotion": "writing",
      "professional-service": "productivity",
      "format-conversion": "productivity",
      "tool-assistant": "productivity",
      "template-generation": "writing",
      general: "productivity",
      all: "productivity",
      favorites: "productivity"
    }[e] || e;
    return this.isValidCategoryId(a) ? a : null;
  }
  // Create new prompt
  async createPrompt(e) {
    try {
      let t = e.command || this.fallbackGenerateCommand(e.title);
      ["_"].includes(t) && (t = `${t}-custom`, o.debug(`âš ï¸ Command conflict detected "${t}", auto-adjusted to "${t}-custom"`));
      const r = e.id || P(), n = this.normalizeCategoryId(e.category), i = {
        id: r,
        title: e.title,
        content: e.content,
        category: n,
        description: e.description || "",
        createdAt: (/* @__PURE__ */ new Date()).toISOString(),
        updatedAt: (/* @__PURE__ */ new Date()).toISOString(),
        usageCount: 0,
        isFavorite: !1,
        command: t
      };
      let c = {
        command: `/${t}`,
        title: i.title,
        content: i.content,
        access_control: null
      };
      try {
        await this.api.createPrompt(c);
      } catch (l) {
        if (l.message.includes("400") || l.message.includes("already registered")) {
          o.warn(`Command "/${t}" already exists, trying with suffix...`);
          const d = Math.floor(Math.random() * 1e4).toString();
          t = `${t}-${d}`, i.command = t, c.command = `/${t}`, await this.api.createPrompt(c), o.debug(`âœ… Prompt created successfully with suffix: ${t}`);
        } else
          throw l;
      }
      return this.prompts.push(i), this.metadata && this.currentUser && (this.metadata.prompts[t] = {
        categoryId: n,
        isFavorite: !1,
        usage: {
          total: 0,
          byUser: {}
        },
        createdBy: this.currentUser,
        lastModifiedBy: this.currentUser,
        createdAt: (/* @__PURE__ */ new Date()).toISOString(),
        updatedAt: (/* @__PURE__ */ new Date()).toISOString()
      }, this.saveData(), this.saveDataToCache()), o.debug("âœ… Prompt created successfully:", i.title), i;
    } catch (t) {
      throw o.error("âŒ Failed to create prompt:", t), t;
    }
  }
  // Update prompt
  async updatePrompt(e, t) {
    try {
      const a = this.prompts.findIndex((d) => d.id === e);
      if (a === -1)
        throw new Error("Prompt does not exist");
      const r = this.prompts[a], n = this.normalizeCategoryId(
        "category" in t ? t.category : r.category
      ), i = {
        ...r,
        ...t,
        category: n,
        updatedAt: (/* @__PURE__ */ new Date()).toISOString()
      }, c = i.command || this.fallbackGenerateCommand(i.title), l = {
        command: `/${c}`,
        title: i.title,
        content: i.content,
        access_control: null
      };
      if (await this.api.updatePrompt(c, l), this.prompts[a] = i, this.metadata && this.currentUser) {
        const d = c;
        this.metadata.prompts[d] ? (this.metadata.prompts[d].categoryId = n, this.metadata.prompts[d].lastModifiedBy = this.currentUser, this.metadata.prompts[d].updatedAt = (/* @__PURE__ */ new Date()).toISOString()) : this.metadata.prompts[d] = {
          categoryId: n,
          isFavorite: !1,
          usage: {
            total: 0,
            byUser: {}
          },
          createdBy: this.currentUser,
          lastModifiedBy: this.currentUser,
          createdAt: (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: (/* @__PURE__ */ new Date()).toISOString()
        }, this.saveData(), this.saveDataToCache();
      }
      return o.debug("âœ… Prompt updated successfully:", i.title), this.prompts[a];
    } catch (a) {
      throw o.error("âŒ Failed to update prompt:", a), a;
    }
  }
  // Delete Prompt
  async deletePrompt(e) {
    try {
      const t = this.prompts.findIndex((n) => n.id === e);
      if (t === -1)
        throw new Error("Prompt does not exist");
      const a = this.prompts[t];
      let r = a.command;
      r || (r = await this.generateCommand(a.title)), r = r.replace(/^\/+/, ""), r || (r = e.replace(/^openwebui_/, ""));
      try {
        o.debug(`ğŸ—‘ï¸ Attempting to delete OpenWebUI prompt, command: ${r}`), await this.api.deletePrompt(r), o.debug("âœ… Deleted from OpenWebUI API successfully");
      } catch (n) {
        o.warn("âš ï¸ Failed to delete from OpenWebUI API:", n), n.message.includes("404") || n.message.includes("We could not find") ? o.debug("â„¹ï¸ Prompt does not exist in OpenWebUI API, continuing to delete local record") : o.warn("âš ï¸ API deletion encountered issue, but will continue to delete local record:", n.message);
      }
      return this.prompts.splice(t, 1), this.metadata && this.metadata.prompts[r] && (delete this.metadata.prompts[r], this.saveData(), this.saveDataToCache()), o.debug(`âœ… Prompt "${a.title}" deleted`), !0;
    } catch (t) {
      throw o.error("âŒ Failed to delete prompt:", t), t;
    }
  }
  // Get Prompts
  getPrompts() {
    return this.prompts;
  }
  // Get Prompt by ID
  getPromptById(e) {
    return this.prompts.find((t) => t.id === e);
  }
  // Filter by Category
  getPromptsByCategory(e) {
    return e === "all" ? this.prompts : this.prompts.filter((t) => t.category === e);
  }
  // Search Prompts
  searchPrompts(e) {
    if (!e.trim())
      return this.prompts;
    const t = e.toLowerCase();
    return this.prompts.filter(
      (a) => a.title.toLowerCase().includes(t) || a.content.toLowerCase().includes(t) || a.tags.some((r) => r.toLowerCase().includes(t))
    );
  }
  // Serialization function simplified, only used for export
  serialize() {
    const e = {
      version: "2.0",
      exportDate: (/* @__PURE__ */ new Date()).toISOString(),
      totalCount: this.prompts.length,
      categories: this.categories,
      prompts: this.prompts.map((t) => ({
        id: t.id,
        title: t.title,
        content: t.content,
        category: t.category,
        tags: t.tags || [],
        usageCount: t.usageCount || 0,
        isFavorite: t.isFavorite || !1,
        createdAt: t.createdAt,
        updatedAt: t.updatedAt,
        command: t.command,
        description: t.description || ""
      }))
    };
    return "```json\n" + JSON.stringify(e, null, 2) + "\n```";
  }
  // Deserialize from JSON (Supports code block format)
  deserialize(e, t = !1) {
    const a = this.deserializeToData(e, t);
    a && (this.prompts = a.prompts, this.categories = a.categories, t || o.debug("Loaded", this.prompts.length, "prompts from JSON format"));
  }
  // Deserialize to pure data object (No side effects)
  deserializeToData(e, t = !1) {
    try {
      let a = e;
      if (e.includes("```json\n") && e.includes("\n```")) {
        const n = e.match(/```json\n([\s\S]*?)\n```/);
        a = n ? n[1] : e.replace(/```json\n?/, "").replace(/\n?```$/, "");
      }
      const r = JSON.parse(a);
      if (r.prompts && Array.isArray(r.prompts))
        return { prompts: r.prompts.map((i) => ({
          id: i.id || P(),
          title: i.title || "Untitled Prompt",
          content: i.content || "",
          category: this.normalizeCategoryId(i.category || "productivity"),
          tags: Array.isArray(i.tags) ? i.tags : [],
          usageCount: parseInt(i.usageCount) || 0,
          isFavorite: !!i.isFavorite,
          createdAt: i.createdAt || (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: i.updatedAt || (/* @__PURE__ */ new Date()).toISOString(),
          command: i.command || "",
          description: i.description || ""
        })), categories: $ };
    } catch (a) {
      return t || o.warn("JSON format parse failed, trying CSV format:", a), this.deserializeCSVToData(e, t);
    }
    return null;
  }
  // Deserialize CSV format to pure data (No side effects)
  deserializeCSVToData(e, t = !1) {
    const a = e.split(`
`);
    if (a.length < 2) return null;
    const r = a[0].split(","), i = a.slice(1).map((c) => {
      const l = c.match(/(".*?"|[^,]+)/g);
      if (!l) return null;
      const d = {};
      return r.forEach((p, u) => {
        let m = l[u];
        m && m.startsWith('"') && m.endsWith('"') && (m = m.slice(1, -1).replace(/""/g, '"')), p === "tags" ? d[p] = m ? m.split(";") : [] : p === "usageCount" ? d[p] = parseInt(m, 10) || 0 : p === "isFavorite" ? d[p] = m === "true" : d[p] = m || "";
      }), d.category = this.normalizeCategoryId(d.category || "productivity"), d;
    }).filter(Boolean);
    return t || o.debug("Loaded", i.length, "prompts from CSV format"), { prompts: i, categories: $ };
  }
  // Deserialize CSV format (Backward compatibility)
  deserializeCSV(e) {
    const t = e.split(`
`);
    if (t.length < 2) {
      this.prompts = this.getDefaultPrompts();
      return;
    }
    const a = t[0].split(","), r = t.slice(1);
    this.prompts = r.map((n) => {
      const i = n.match(/(".*?"|[^,]+)/g);
      if (!i) return null;
      const c = {};
      return a.forEach((l, d) => {
        let p = i[d];
        p && p.startsWith('"') && p.endsWith('"') && (p = p.slice(1, -1).replace(/""/g, '"')), l === "tags" ? c[l] = p ? p.split(";") : [] : l === "usageCount" ? c[l] = parseInt(p, 10) || 0 : l === "isFavorite" ? c[l] = p === "true" : c[l] = p || "";
      }), c;
    }).filter(Boolean), o.debug("Loaded", this.prompts.length, "prompts from CSV format");
  }
  // Get Default Prompts
  getDefaultPrompts() {
    return R.map((e) => ({
      ...e,
      id: e.id || P(),
      title: e.title || "Untitled Prompt",
      content: e.content || "",
      category: this.normalizeCategoryId(e.category || "productivity")
    }));
  }
  // Update Usage Stats (Sync to central metadata storage)
  async updateUsageStats(e) {
    try {
      const t = this.prompts.find((a) => a.id === e);
      if (t && this.metadata && this.currentUser) {
        t.usageCount = (t.usageCount || 0) + 1, t.updatedAt = (/* @__PURE__ */ new Date()).toISOString();
        const a = t.command || t.id, r = this.metadata.prompts[a];
        r ? (r.usage.total = (r.usage.total || 0) + 1, r.usage.byUser[this.currentUser.id] = (r.usage.byUser[this.currentUser.id] || 0) + 1, r.updatedAt = (/* @__PURE__ */ new Date()).toISOString()) : this.metadata.prompts[a] = {
          categoryId: t.category || "productivity",
          isFavorite: t.isFavorite || !1,
          usage: {
            total: 1,
            byUser: {
              [this.currentUser.id]: 1
            }
          },
          createdBy: this.currentUser,
          lastModifiedBy: this.currentUser,
          createdAt: (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: (/* @__PURE__ */ new Date()).toISOString()
        }, this.saveData(), o.debug("ğŸ“Š Prompt usage stats updated:", t.title, `(Total: ${(r == null ? void 0 : r.usage.total) || 1}, User: ${(r == null ? void 0 : r.usage.byUser[this.currentUser.id]) || 1})`);
      }
    } catch (t) {
      o.warn("âŒ Failed to update usage stats:", t);
    }
  }
  // Toggle Favorite (Sync to central metadata storage)
  async toggleFavorite(e) {
    try {
      const t = this.prompts.find((a) => a.id === e);
      if (t && this.metadata && this.currentUser) {
        t.isFavorite = !t.isFavorite, t.updatedAt = (/* @__PURE__ */ new Date()).toISOString();
        const a = t.command || t.id, r = this.metadata.prompts[a];
        return r ? (r.isFavorite = t.isFavorite, r.lastModifiedBy = this.currentUser, r.updatedAt = (/* @__PURE__ */ new Date()).toISOString()) : this.metadata.prompts[a] = {
          categoryId: t.category || "productivity",
          isFavorite: t.isFavorite,
          usage: {
            total: 0,
            byUser: {}
          },
          createdBy: this.currentUser,
          lastModifiedBy: this.currentUser,
          createdAt: (/* @__PURE__ */ new Date()).toISOString(),
          updatedAt: (/* @__PURE__ */ new Date()).toISOString()
        }, await this.saveMetadataStore(), this.saveDataToCache(), o.debug("â­ Prompt favorite status updated:", t.title, t.isFavorite ? "Favorited" : "Unfavorited"), t.isFavorite;
      }
      return !1;
    } catch (t) {
      throw o.error("âŒ Failed to toggle favorite status:", t), t;
    }
  }
  // Import Prompts (Merge into Note)
  async importPrompts(e) {
    try {
      let t = 0, a = 0;
      if (Array.isArray(e))
        for (const r of e)
          if (this.prompts.some(
            (i) => i.id === r.id || i.title === r.title
          ))
            a++;
          else {
            const i = {
              id: r.id || P(),
              title: r.title || "Untitled Prompt",
              content: r.content || "",
              category: this.normalizeCategoryId(r.category || "productivity"),
              category: this.normalizeCategoryId(r.category || "productivity"),
              tags: Array.isArray(r.tags) ? r.tags : [],
              usageCount: parseInt(r.usageCount) || 0,
              isFavorite: !!r.isFavorite,
              createdAt: r.createdAt || (/* @__PURE__ */ new Date()).toISOString(),
              updatedAt: (/* @__PURE__ */ new Date()).toISOString(),
              command: r.command || "",
              description: r.description || ""
            };
            this.prompts.push(i), t++;
          }
      else if (e.prompts && Array.isArray(e.prompts)) {
        for (const r of e.prompts)
          if (this.prompts.some(
            (i) => i.id === r.id || i.title === r.title
          ))
            a++;
          else {
            const i = {
              id: r.id || P(),
              title: r.title || "Untitled Prompt",
              content: r.content || "",
              category: this.normalizeCategoryId(r.category || "productivity"),
              tags: Array.isArray(r.tags) ? r.tags : [],
              usageCount: parseInt(r.usageCount) || 0,
              isFavorite: !!r.isFavorite,
              createdAt: r.createdAt || (/* @__PURE__ */ new Date()).toISOString(),
              updatedAt: (/* @__PURE__ */ new Date()).toISOString(),
              command: r.command || "",
              description: r.description || ""
            };
            this.prompts.push(i), t++;
          }
        if (e.categories && Array.isArray(e.categories)) {
          const r = this.categories.map((i) => i.id), n = e.categories.filter((i) => !r.includes(i.id));
          this.categories.push(...n);
        }
      }
      return t > 0 && (await this.saveMetadataStore(), o.debug(`Import completed: ${t} new prompts, ${a} skipped`)), { importedCount: t, skippedCount: a };
    } catch (t) {
      throw o.error("Failed to import prompts:", t), t;
    }
  }
  // Export Prompts (Get latest data from Note)
  exportPrompts() {
    return {
      version: "2.0",
      exportDate: (/* @__PURE__ */ new Date()).toISOString(),
      totalCount: this.prompts.length,
      categories: this.categories,
      prompts: this.prompts
    };
  }
  // Force reset central metadata storage (For debugging)
  async forceResetAndSyncDefaults() {
    o.debug("ğŸ”„ Force resetting central metadata storage...");
    try {
      return this.prompts = [], this.metadata = null, this.currentUser = null, o.debug("ğŸ“ In-memory data cleared"), await this.loadData(), o.debug("âœ… Force reset completed!"), this.prompts.length;
    } catch (e) {
      throw o.error("âŒ Force reset failed:", e), e;
    }
  }
  // Force resync to API (Reset metadata and re-initialize)
  async forceResyncToAPI() {
    o.debug("ğŸ”„ Force resyncing to API...");
    try {
      return this.metadata = null, o.debug("ğŸ—‘ï¸ Metadata reset"), await this.loadData(), o.debug("âœ… Force API resync completed!"), this.prompts.length;
    } catch (e) {
      throw o.error("âŒ Force resync failed:", e), e;
    }
  }
  // Sync only existing prompts to OpenWebUI API (No reset)
  async syncExistingToAPI() {
    o.debug("ğŸ”„ Starting to sync existing prompts to OpenWebUI API...");
    let e = 0, t = 0;
    for (let a = 0; a < this.prompts.length; a++) {
      const r = this.prompts[a];
      try {
        const n = (r.command || r.id).replace(/^\/+/, ""), i = {
          command: `/${n}`,
          title: r.title,
          content: r.content,
          access_control: null
        };
        o.debug(`ğŸ“¤ [${a + 1}/${this.prompts.length}] Syncing: ${r.title} (Command: /${n})`);
        const c = await this.api.createPrompt(i);
        o.debug(`âœ… [${a + 1}/${this.prompts.length}] Sync successful:`, c), e++;
      } catch (n) {
        t++, String(n.message).includes("409") ? o.warn(`âš ï¸ [${a + 1}/${this.prompts.length}] Prompt "${r.title}" already exists in OpenWebUI, skipping creation.`) : o.error(`âŒ [${a + 1}/${this.prompts.length}] Failed to sync prompt "${r.title}" to OpenWebUI API:`, n);
      }
    }
    return o.debug(`ğŸ¯ Existing prompts sync completed! Success: ${e}, Error: ${t}`), { successCount: e, errorCount: t };
  }
}
class ye {
  constructor(e) {
    this.promptManager = e, this.syncInterval = null, this.lastSyncTime = 0, this.syncIntervalTime = 5 * 60 * 1e3;
  }
  /**
   * Start background sync service
   */
  start() {
    o.debug("ğŸ”„ SyncService started..."), window.addEventListener("online", () => this.triggerSync("Network restored")), document.addEventListener("visibilitychange", () => {
      document.visibilityState === "visible" && this.triggerSync("Page visible again");
    }), this.startPolling();
  }
  /**
   * Stop background sync service
   */
  stop() {
    o.debug("ğŸ›‘ SyncService stopped."), window.removeEventListener("online", () => this.triggerSync("Network restored")), document.removeEventListener("visibilitychange", () => {
      document.visibilityState === "visible" && this.triggerSync("Page visible again");
    }), this.stopPolling();
  }
  /**
   * Trigger a background sync
   * @param {string} reason - Reason for triggering sync, used for logging
   */
  async triggerSync(e = "Unknown reason") {
    if (Date.now() - this.lastSyncTime < 60 * 1e3) {
      o.debug(`â„¹ï¸ [${e}] Sync throttled, less than 1 min since last sync.`);
      return;
    }
    o.debug(`ğŸš€ [${e}] Triggering background sync...`);
    try {
      await this.promptManager.loadData((a) => {
        o.debug("ğŸ”„ [SyncService] Background sync complete, UI updated.");
      }), this.lastSyncTime = Date.now();
    } catch (a) {
      o.error("âŒ [SyncService] Background sync failed:", a);
    }
  }
  /**
   * Start periodic polling
   */
  startPolling() {
    this.syncInterval && this.stopPolling(), this.syncInterval = setInterval(() => {
      document.visibilityState === "visible" ? this.triggerSync("Periodic polling") : o.debug("ğŸ’¤ Page hidden, skipping poll.");
    }, this.syncIntervalTime), o.debug(`ğŸ•’ Polling started, interval: ${this.syncIntervalTime / 1e3 / 60} mins`);
  }
  /**
   * Stop periodic polling
   */
  stopPolling() {
    this.syncInterval && (clearInterval(this.syncInterval), this.syncInterval = null, o.debug("ğŸ›‘ Polling stopped."));
  }
}
class j {
  constructor() {
    this.cachedSelector = null, this.selectors = le;
  }
  detectActiveInput() {
    const e = document.getElementById("chat-input");
    if (e && this.isValidInputElement(e))
      return this.cachedSelector = "#chat-input", e;
    if (this.cachedSelector && this.cachedSelector !== "#chat-input") {
      const a = document.querySelector(this.cachedSelector);
      if (this.isValidInputElement(a))
        return a;
      this.cachedSelector = null;
    }
    for (const a of this.selectors)
      try {
        const r = document.querySelectorAll(a);
        for (const n of r)
          if (this.isValidInputElement(n))
            return this.cachedSelector = a, n;
      } catch (r) {
        o.warn(`Invalid selector: ${a}`, r);
      }
    const t = document.activeElement;
    return this.isValidInputElement(t) ? t : null;
  }
  isValidInputElement(e) {
    if (!e) return !1;
    const t = e.tagName.toLowerCase();
    return (t === "input" || t === "textarea" || e.hasAttribute("contenteditable")) && this.isVisibleAndInteractable(e) && this.looksLikeChatInput(e);
  }
  isVisibleAndInteractable(e) {
    if (!e.offsetParent && e.style.position !== "fixed")
      return !1;
    const t = window.getComputedStyle(e);
    if (t.display === "none" || t.visibility === "hidden" || e.disabled || e.readOnly)
      return !1;
    const a = e.getBoundingClientRect();
    return a.width > 0 && a.height > 0;
  }
  looksLikeChatInput(e) {
    if (e.id === "chat-input")
      return !0;
    const t = (e.placeholder || "" + e.className || "" + e.id || "").toLowerCase(), a = ["search", "filter", "password", "username", "login"];
    for (const i of a)
      if (t.includes(i)) return !1;
    const r = ["æ¶ˆæ¯", "èŠå¤©", "è¾“å…¥", "message", "chat", "è¯·è¾“å…¥"];
    for (const i of r)
      if (t.includes(i)) return !0;
    const n = e.getBoundingClientRect();
    return n.width > 200 && n.height > 30 && n.top > window.innerHeight / 2;
  }
}
class G {
  async insertText(e, t) {
    if (!e || !t) return !1;
    e.focus();
    const a = [
      () => this.modernInsertStrategy(e, t),
      () => this.cursorPositionStrategy(e, t),
      () => this.selectionReplaceStrategy(e, t),
      () => this.directValueStrategy(e, t)
    ];
    for (let r = 0; r < a.length; r++)
      try {
        if (await a[r]())
          return this.triggerInputEvents(e), this.verifyInsertion(e, t);
      } catch (n) {
        console.warn(`Insertion strategy ${r + 1} failed:`, n);
      }
    return !1;
  }
  async modernInsertStrategy(e, t) {
    try {
      if (await new Promise((a) => setTimeout(a, 50)), e.classList.contains("ProseMirror")) {
        e.focus(), await new Promise((a) => setTimeout(a, 100));
        try {
          e.innerHTML = "";
          const a = document.createElement("p");
          a.className = "is-empty is-editor-empty", e.appendChild(a);
          const r = t.split(`
`);
          if (r.length === 1) {
            const l = document.createTextNode(t);
            a.appendChild(l), a.className = "";
          } else
            a.className = "", r.forEach((l, d) => {
              if (d > 0 && a.appendChild(document.createElement("br")), l.trim()) {
                const p = document.createTextNode(l);
                a.appendChild(p);
              } else d < r.length - 1 && a.appendChild(document.createElement("br"));
            });
          const n = window.getSelection(), i = document.createRange();
          i.selectNodeContents(a), i.collapse(!1), n.removeAllRanges(), n.addRange(i);
          const c = new InputEvent("input", {
            bubbles: !0,
            cancelable: !0,
            inputType: "insertText",
            data: t
          });
          return e.dispatchEvent(c), !0;
        } catch (a) {
          console.warn("ProseMirror DOM strategy failed:", a), e.innerHTML = "";
        }
        return document.execCommand && document.execCommand("insertText", !1, t) || (e.innerHTML = `<p>${t.replace(/\n/g, "</p><p>")}</p>`), !0;
      }
      if (e.id === "chat-input") {
        if (e.focus(), await new Promise((a) => setTimeout(a, 100)), document.execCommand && document.execCommand("insertText", !1, t))
          return !0;
        if (e.tagName.toLowerCase() === "textarea" || e.tagName.toLowerCase() === "input") {
          const a = e.selectionStart || 0, r = e.selectionEnd || 0, n = e.value;
          return e.value = n.substring(0, a) + t + n.substring(r), e.selectionStart = e.selectionEnd = a + t.length, !0;
        } else if (e.hasAttribute("contenteditable"))
          return e.innerHTML = "", e.textContent = t, !0;
      }
      try {
        const a = new ClipboardEvent("paste", {
          clipboardData: new DataTransfer(),
          bubbles: !0,
          cancelable: !0
        });
        return a.clipboardData.setData("text/plain", t), e.dispatchEvent(a), !a.defaultPrevented;
      } catch (a) {
        return console.warn("Paste event failed:", a), !1;
      }
    } catch (a) {
      return console.warn("Modern insertion strategy failed:", a), !1;
    }
  }
  cursorPositionStrategy(e, t) {
    const a = e.tagName.toLowerCase();
    if (a === "textarea" || a === "input") {
      const r = e.selectionStart || 0, n = e.selectionEnd || 0, i = e.value;
      return e.value = i.substring(0, r) + t + i.substring(n), e.selectionStart = e.selectionEnd = r + t.length, !0;
    } else if (e.hasAttribute("contenteditable")) {
      const r = window.getSelection(), n = r.rangeCount > 0 ? r.getRangeAt(0) : document.createRange();
      n.deleteContents();
      const i = document.createTextNode(t);
      return n.insertNode(i), n.setStartAfter(i), n.setEndAfter(i), r.removeAllRanges(), r.addRange(n), !0;
    }
    return !1;
  }
  selectionReplaceStrategy(e, t) {
    try {
      if (e.focus(), e.tagName.toLowerCase() === "textarea" || e.tagName.toLowerCase() === "input")
        e.select();
      else if (e.hasAttribute("contenteditable")) {
        const a = document.createRange();
        a.selectNodeContents(e);
        const r = window.getSelection();
        r.removeAllRanges(), r.addRange(a);
      }
      return document.execCommand("insertText", !1, t);
    } catch {
      return !1;
    }
  }
  directValueStrategy(e, t) {
    const a = e.tagName.toLowerCase();
    return a === "textarea" || a === "input" ? (e.value = t, !0) : e.hasAttribute("contenteditable") ? (e.textContent = t, !0) : !1;
  }
  triggerInputEvents(e) {
    ["input", "change", "keyup"].forEach((t) => {
      const a = t === "input" ? new InputEvent(t, { bubbles: !0, inputType: "insertText" }) : new Event(t, { bubbles: !0 });
      e.dispatchEvent(a);
    });
  }
  verifyInsertion(e, t) {
    if (e.id === "chat-input" && e.classList.contains("ProseMirror")) {
      const n = e.querySelector("p");
      if (n) {
        const i = n.textContent || "", c = t.substring(0, 50);
        return i.includes(c) || i.length > 10;
      }
    }
    const a = e.tagName.toLowerCase();
    let r = "";
    if (a === "textarea" || a === "input" ? r = e.value : e.hasAttribute("contenteditable") && (r = e.textContent || ""), r.length > 0) {
      const n = t.split(" ").slice(0, 3), i = r.split(" ");
      return n.some((c) => i.some(
        (l) => l.includes(c) || c.includes(l)
      ));
    }
    return !1;
  }
}
class H {
  constructor(e, t) {
    this.detector = e, this.inserter = t, this.isInserting = !1;
  }
  async insertPrompt(e, t = "command") {
    if (o.debug("insertPrompt called", { title: e == null ? void 0 : e.title, mode: t, isInserting: this.isInserting }), this.isInserting)
      return o.debug("Insertion already in progress, skipping..."), !1;
    this.isInserting = !0;
    try {
      return e ? t === "content" ? await this.insertFullContent(e) : await this.insertCommand(e) : (this.showError("Prompt is empty"), !1);
    } finally {
      setTimeout(() => {
        this.isInserting = !1, o.debug("Insertion lock released");
      }, 300);
    }
  }
  async insertFullContent(e) {
    if (o.debug("insertFullContent"), !(e != null && e.content))
      return this.showError("Prompt content is empty"), !1;
    const t = ue(e.content), a = this.detector.detectActiveInput();
    if (!a)
      return this.showError("No available input field found"), !1;
    await this.clearInputContent(a), await new Promise((n) => setTimeout(n, 50));
    const r = await this.inserter.directValueStrategy(a, t);
    return r ? (this.inserter.triggerInputEvents(a), this.updateUsageStats(e), this.handleInitialPlaceholderSelection(a)) : this.showError("Insertion failed, please copy and paste manually"), r;
  }
  async insertCommand(e) {
    o.debug("insertCommand");
    const t = this.detector.detectActiveInput();
    if (!t)
      return this.showError("No available input field found"), !1;
    await this.closePanelIfExists(), await new Promise((n) => setTimeout(n, 100)), await this.clearInputContent(t), await new Promise((n) => setTimeout(n, 50));
    const a = e.command || Q(e.title || ""), r = await this.simulateTypingCommand(t, a);
    return r ? this.updateUsageStats(e) : this.showError("Failed to insert command, please type manually"), r;
  }
  // Close all prompt panels (Quick Insert Panel and Management Panel)
  async closePanelIfExists() {
    const e = document.getElementById("quick-insert-panel");
    e && e.style.display !== "none" && (e.style.display = "none");
    const t = document.getElementById("prompt-management-panel");
    t && t.style.display !== "none" && (t.style.display = "none");
    const a = document.getElementById("panel-overlay");
    a && (a.style.display = "none");
  }
  // Simulate step-by-step command typing process (Optimized: Batch typing)
  async simulateTypingCommand(e, t) {
    console.log("[PromptPlus Debug] simulateTypingCommand", t);
    try {
      e.focus(), await new Promise((r) => setTimeout(r, 50));
      const a = e.classList.contains("ProseMirror");
      return o.debug("isProseMirror:", a), a ? (o.debug("ProseMirror: Inserting slash"), document.execCommand("insertText", !1, "/"), await new Promise((r) => setTimeout(r, 300)), t.length > 0 && (o.debug("ProseMirror: Inserting command name"), document.execCommand("insertText", !1, t)), await new Promise((r) => setTimeout(r, 300)), o.debug("ProseMirror: Triggering Enter"), await this.simulateEnterKey(e), !0) : (o.debug("Standard: Inserting slash"), await this.typeCharacter(e, "/"), await new Promise((r) => setTimeout(r, 300)), t.length > 0 && (o.debug("Standard: Inserting command name"), await this.typeBatch(e, t)), await new Promise((r) => setTimeout(r, 300)), o.debug("Standard: Triggering Enter"), await this.simulateEnterKey(e), !0);
    } catch (a) {
      return console.error("Simulation typing failed:", a), !1;
    }
  }
  // Batch type multiple characters
  async typeBatch(e, t) {
    o.debug("typeBatch", t), e.focus();
    const a = t[0], r = this.getKeyInfo(a), n = new KeyboardEvent("keydown", {
      key: r.key,
      code: r.code,
      keyCode: r.keyCode,
      which: r.keyCode,
      bubbles: !0,
      cancelable: !0,
      composed: !0
    });
    e.dispatchEvent(n);
    let i = !1;
    if (!n.defaultPrevented && (i = document.execCommand && document.execCommand("insertText", !1, t), o.debug("typeBatch execCommand result:", i), !i)) {
      const p = e.tagName.toLowerCase();
      if (p === "textarea" || p === "input") {
        const u = e.selectionStart || 0, m = e.selectionEnd || 0, g = e.value || "";
        e.value = g.substring(0, u) + t + g.substring(m), e.selectionStart = e.selectionEnd = u + t.length, i = !0;
      } else if (e.hasAttribute("contenteditable")) {
        const u = window.getSelection();
        if (u.rangeCount > 0) {
          const m = u.getRangeAt(0);
          m.deleteContents();
          const g = document.createTextNode(t);
          m.insertNode(g), m.setStartAfter(g), m.setEndAfter(g), u.removeAllRanges(), u.addRange(m), i = !0;
        }
      }
    }
    if (await new Promise((p) => setTimeout(p, 10)), !i || i && !document.execCommand) {
      o.debug("typeBatch dispatching manual input event");
      const p = new InputEvent("input", {
        bubbles: !0,
        cancelable: !0,
        inputType: "insertText",
        data: t
      });
      e.dispatchEvent(p);
    }
    const c = t[t.length - 1], l = this.getKeyInfo(c), d = new KeyboardEvent("keyup", {
      key: l.key,
      code: l.code,
      keyCode: l.keyCode,
      which: l.keyCode,
      bubbles: !0,
      cancelable: !0,
      composed: !0
    });
    e.dispatchEvent(d);
  }
  // Wait for prompt panel to appear
  async waitForSuggestionsPanel(e = 2e3) {
    const t = Date.now(), a = 100;
    for (; Date.now() - t < e; ) {
      const r = document.getElementById("suggestions-container");
      if (r) {
        const n = window.getComputedStyle(r);
        if (n.display !== "none" && n.visibility !== "hidden")
          return o.debug("âœ… Prompt panel appeared"), !0;
      }
      await new Promise((n) => setTimeout(n, a));
    }
    return o.warn("âš ï¸ Wait for prompt panel timeout"), !1;
  }
  // Simulate key press for single character
  async typeCharacter(e, t) {
    o.debug("typeCharacter", t), e.focus();
    const a = this.getKeyInfo(t), r = new KeyboardEvent("keydown", {
      key: a.key,
      code: a.code,
      keyCode: a.keyCode,
      which: a.keyCode,
      bubbles: !0,
      cancelable: !0,
      composed: !0
    });
    e.dispatchEvent(r);
    let n = !1;
    if (!r.defaultPrevented && (n = document.execCommand && document.execCommand("insertText", !1, t), o.debug("typeCharacter execCommand result:", n), !n)) {
      const l = e.tagName.toLowerCase();
      if (l === "textarea" || l === "input") {
        const d = e.selectionStart || 0, p = e.selectionEnd || 0, u = e.value || "";
        e.value = u.substring(0, d) + t + u.substring(p), e.selectionStart = e.selectionEnd = d + 1, n = !0;
      } else if (e.hasAttribute("contenteditable")) {
        const d = window.getSelection();
        if (d.rangeCount > 0) {
          const p = d.getRangeAt(0);
          p.deleteContents();
          const u = document.createTextNode(t);
          p.insertNode(u), p.setStartAfter(u), p.setEndAfter(u), d.removeAllRanges(), d.addRange(p), n = !0;
        }
      }
    }
    await new Promise((l) => setTimeout(l, 10));
    const i = new KeyboardEvent("keypress", {
      key: a.key,
      code: a.code,
      keyCode: a.keyCode,
      which: a.keyCode,
      bubbles: !0,
      cancelable: !0,
      composed: !0
    });
    if (e.dispatchEvent(i), !n || n && !document.execCommand) {
      o.debug("typeCharacter dispatching manual input event");
      const l = new InputEvent("input", {
        bubbles: !0,
        cancelable: !0,
        inputType: "insertText",
        data: t
      });
      e.dispatchEvent(l);
    }
    const c = new KeyboardEvent("keyup", {
      key: a.key,
      code: a.code,
      keyCode: a.keyCode,
      which: a.keyCode,
      bubbles: !0,
      cancelable: !0,
      composed: !0
    });
    e.dispatchEvent(c);
  }
  // Get keyboard info for character
  getKeyInfo(e) {
    const t = {
      "/": { key: "/", code: "Slash", keyCode: 191 },
      "-": { key: "-", code: "Minus", keyCode: 189 },
      _: { key: "_", code: "Minus", keyCode: 189, shift: !0 },
      " ": { key: " ", code: "Space", keyCode: 32 }
    };
    if (t[e])
      return t[e];
    if (/[0-9]/.test(e))
      return {
        key: e,
        code: `Digit${e}`,
        keyCode: 48 + parseInt(e)
      };
    if (/[a-zA-Z]/.test(e)) {
      const a = e.toUpperCase();
      return {
        key: e,
        code: `Key${a}`,
        keyCode: a.charCodeAt(0)
      };
    }
    return {
      key: e,
      code: `Key${e.toUpperCase()}`,
      keyCode: e.charCodeAt(0)
    };
  }
  // Simulate Enter key press
  async simulateEnterKey(e) {
    o.debug("simulateEnterKey");
    const t = new KeyboardEvent("keydown", {
      key: "Enter",
      code: "Enter",
      keyCode: 13,
      which: 13,
      bubbles: !0,
      cancelable: !0
    });
    e.dispatchEvent(t);
  }
  async updateUsageStats(e) {
    window.promptManager && await window.promptManager.updateUsageStats(e.id);
  }
  showSuccess(e) {
    F(e, "#48bb78");
  }
  showError(e) {
    F(e, "#f56565");
  }
  // Clear input field content
  async clearInputContent(e) {
    if (e)
      try {
        if (o.debug("[Clear] Start clearing input field:", e.id, e.tagName), e.focus(), await new Promise((r) => setTimeout(r, 50)), e.classList.contains("ProseMirror")) {
          o.debug("[Clear] ProseMirror editor detected"), e.innerHTML = "";
          const r = document.createElement("p");
          r.className = "is-empty is-editor-empty", e.appendChild(r);
          const n = new InputEvent("input", {
            bubbles: !0,
            cancelable: !0,
            inputType: "deleteContentBackward"
          });
          e.dispatchEvent(n), o.debug("[Clear] ProseMirror cleared");
          return;
        }
        try {
          if (e.focus(), document.execCommand("selectAll", !1, null) && document.execCommand("delete", !1, null)) {
            o.debug("[Clear] execCommand clear success"), this.inserter.triggerInputEvents(e);
            return;
          }
        } catch (r) {
          o.warn("[Clear] execCommand failed:", r);
        }
        const t = e.tagName.toLowerCase();
        if (t === "textarea" || t === "input")
          o.debug("[Clear] Processing textarea/input"), e.value = "", e.selectionStart = 0, e.selectionEnd = 0;
        else if (e.hasAttribute("contenteditable")) {
          o.debug("[Clear] Processing contenteditable"), e.innerHTML = "", e.textContent = "";
          try {
            const r = document.createRange(), n = window.getSelection();
            r.selectNodeContents(e), r.collapse(!0), n.removeAllRanges(), n.addRange(r);
          } catch (r) {
            console.warn("[Clear] Cursor reset failed:", r);
          }
        }
        this.inserter.triggerInputEvents(e);
        const a = new InputEvent("input", {
          bubbles: !0,
          cancelable: !0,
          inputType: "deleteContentBackward"
        });
        e.dispatchEvent(a), console.log(
          "[Clear] Clear completed, current value:",
          e.value || e.textContent || e.innerHTML
        );
      } catch (t) {
        console.error("[Clear] Failed to clear input field:", t);
      }
  }
  // Automatically select first placeholder after insertion
  handleInitialPlaceholderSelection(e) {
    e && requestAnimationFrame(() => {
      setTimeout(() => {
        const t = e.textContent || "", r = /\{\{[^}]+\}\}/g.exec(t);
        r && this.selectPlaceholder(e, r.index, r[0].length);
      }, 50);
    });
  }
  // Select placeholder
  selectPlaceholder(e, t, a) {
    const r = document.createRange(), n = window.getSelection();
    let i = 0, c = null, l = 0, d = null, p = 0;
    const u = document.createTreeWalker(
      e,
      NodeFilter.SHOW_TEXT,
      null,
      !1
    );
    let m;
    for (; m = u.nextNode(); ) {
      const g = m.textContent.length;
      if (!c && i + g > t && (c = m, l = t - i), !d && i + g >= t + a) {
        d = m, p = t + a - i;
        break;
      }
      i += g;
    }
    c && d && (r.setStart(c, l), r.setEnd(d, p), n.removeAllRanges(), n.addRange(r));
  }
}
class Z {
  constructor() {
    this.validVariableTypes = [
      "text",
      "textarea",
      "select",
      "number",
      "checkbox",
      "date",
      "datetime-local",
      "color",
      "email",
      "month",
      "range",
      "tel",
      "time",
      "url",
      "map"
    ], this.systemVariables = [
      "CLIPBOARD"
    ], this.validCategories = [
      "writing",
      "productivity",
      "learning",
      "coding",
      "data",
      "lifestyle",
      "roleplay"
    ];
  }
  // Complete Validation Process
  validateGeneratedContent(e) {
    const t = {
      isValid: !1,
      score: 0,
      errors: [],
      warnings: [],
      suggestions: []
    };
    try {
      const a = this.validateStructure(e);
      t.errors.push(...a.errors), t.warnings.push(...a.warnings);
      const r = this.validateSyntax(e);
      t.errors.push(...r.errors), t.warnings.push(...r.warnings);
      const n = this.validateQuality(e);
      return t.warnings.push(...n.warnings), t.suggestions.push(...n.suggestions), t.score = this.calculateOverallScore(a, r, n), t.isValid = t.errors.length === 0 && t.score >= 0.7, t;
    } catch (a) {
      return t.errors.push(`Validation process error: ${a.message}`), t;
    }
  }
  // Validate Basic Structure
  validateStructure(e) {
    const t = [], a = [];
    if (!e.title || typeof e.title != "string" ? t.push("Missing or invalid title field") : e.title.trim().length === 0 ? t.push("Title cannot be empty") : e.title.length > 100 && a.push("Title too long, recommended under 100 characters"), !e.content || typeof e.content != "string" ? t.push("Missing or invalid content field") : e.content.trim().length < 10 && t.push("Content too short, at least 10 characters required"), e.category && !this.validCategories.includes(e.category) && a.push(`Unknown category: ${e.category}, using default category`), e.tags && !Array.isArray(e.tags) && a.push("Tags should be in array format"), e.command) {
      const r = this.validateCommandName(e.command);
      r.isValid || t.push(`Command name validation failed: ${r.error}`);
    }
    return { errors: t, warnings: a, score: t.length === 0 ? 1 : 0 };
  }
  // Validate Variable Syntax
  validateSyntax(e) {
    const t = [], a = [];
    if (!e.content)
      return { errors: t, warnings: a, score: 0 };
    const r = /\{\{([^}]+)\}\}/g, n = [];
    let i;
    for (; (i = r.exec(e.content)) !== null; )
      n.push(i[1]);
    n.forEach((d) => {
      const p = this.validateVariable(d);
      p.isValid || t.push(`Variable syntax error: {{${d}}} - ${p.error}`);
    }), [...new Set(n.map((d) => d.split("|")[0].trim()))].length !== n.length && a.push("Duplicate variable names detected, please check");
    const l = t.length === 0 ? 1 : Math.max(0, 1 - t.length * 0.2);
    return { errors: t, warnings: a, score: l };
  }
  // Validate Single Variable
  validateVariable(e) {
    const t = e.split("|"), a = t[0].trim();
    if (!/^[a-zA-Z\u4e00-\u9fa5_][a-zA-Z0-9\u4e00-\u9fa5_]*$/.test(a))
      return {
        isValid: !1,
        error: "Variable name must start with a letter, Chinese character or underscore"
      };
    if (this.systemVariables.includes(a))
      return { isValid: !0 };
    if (t.length > 1) {
      const r = t[1].trim(), n = r.match(/^([a-zA-Z]+)/);
      if (n) {
        const i = n[1];
        if (!this.validVariableTypes.includes(i))
          return {
            isValid: !1,
            error: `Unsupported variable type: ${i}`
          };
        const c = r.match(/:(.+)$/);
        if (c) {
          const l = c[1];
          if (!this.validateVariableProperties(l))
            return {
              isValid: !1,
              error: "Variable property format error"
            };
        }
      }
    }
    return { isValid: !0 };
  }
  // Validate Variable Property Format
  validateVariableProperties(e) {
    const t = e.split(":");
    for (const a of t) {
      const r = a.trim();
      if (!r) continue;
      const n = r.match(/^(\w+)=(.+)$/);
      if (!n)
        return !1;
      const [, i, c] = n;
      if (!/^[a-zA-Z][a-zA-Z0-9_]*$/.test(i))
        return !1;
      const l = c.trim();
      if (!(/^["'][^"']*["']$/.test(l) || // Quoted string
      /^\[[^\]]*\]$/.test(l) || // Array
      /^\d+(\.\d+)?$/.test(l) || // Number
      /^(true|false)$/.test(l) || // Boolean
      /^[a-zA-Z0-9_-]+$/.test(l)))
        return !1;
    }
    return !0;
  }
  // Validate Command Name - Strict Naming Convention
  validateCommandName(e) {
    if (!e || typeof e != "string")
      return {
        isValid: !1,
        error: "Command name cannot be empty"
      };
    const t = e.trim();
    if (t.length < 2)
      return {
        isValid: !1,
        error: "Command name requires at least 2 characters"
      };
    if (t.length > 30)
      return {
        isValid: !1,
        error: "Command name cannot exceed 30 characters"
      };
    if (!/^[a-zA-Z0-9_-]+$/.test(t)) {
      const a = t.match(/[^a-zA-Z0-9_-]/g);
      return {
        isValid: !1,
        error: `Command name contains illegal characters: "${[...new Set(a)].join('", "')}". Only English letters, numbers, hyphens(-) and underscores(_) allowed`
      };
    }
    return t.startsWith("-") || t.endsWith("-") || t.startsWith("_") || t.endsWith("_") ? {
      isValid: !1,
      error: "Command name cannot start or end with hyphen or underscore"
    } : t.includes("--") || t.includes("__") ? {
      isValid: !1,
      error: "Command name cannot contain consecutive hyphens or underscores"
    } : /^[a-z0-9_-]+$/.test(t) ? {
      isValid: !0
    } : {
      isValid: !1,
      error: "Recommend using lowercase letters for command name"
    };
  }
  // Validate Content Quality
  validateQuality(e) {
    const t = [], a = [];
    if (!e.content)
      return { warnings: t, suggestions: a, score: 0 };
    const r = e.content;
    /please|help|generate|create|analyze|summarize|process|make|write|explain/i.test(r) || /è¯·|å¸®åŠ©|ç”Ÿæˆ|åˆ›å»º|åˆ†æ|æ€»ç»“|å¤„ç†|åˆ¶ä½œ/.test(r) || t.push("Content seems to lack clear instruction words");
    const i = (r.match(/\{\{[^}]+\}\}/g) || []).length;
    i === 0 ? a.push("Consider adding some input variables to improve prompt interactivity") : i > 10 && t.push("Too many variables may affect user experience"), r.length < 50 ? t.push("Content is short, consider providing more detailed guidance") : r.length > 2e3 && t.push("Content is too long, consider simplifying"), !(/example|e\.g\.|such as|instance/i.test(r) || /ä¾‹å¦‚|ç¤ºä¾‹|æ¯”å¦‚|å¦‚ï¼š/.test(r)) && i > 3 && a.push("Consider adding some usage examples to help users understand"), /#{1,6}\s|```|\*\*|\*|1\.|â€¢/.test(r) || a.push("Using Markdown format makes content clearer and easier to read");
    let d = 1;
    return d -= t.length * 0.1, d -= a.length * 0.05, d = Math.max(0.3, d), { warnings: t, suggestions: a, score: d };
  }
  // Calculate Overall Score
  calculateOverallScore(e, t, a) {
    const r = {
      structure: 0.4,
      syntax: 0.4,
      quality: 0.2
    };
    return e.score * r.structure + t.score * r.syntax + a.score * r.quality;
  }
  // Generate Improvement Suggestions
  generateImprovementSuggestions(e) {
    const t = [];
    return e.errors.length > 0 && t.push({
      type: "error",
      priority: "high",
      message: "Please fix the following errors before regenerating",
      details: e.errors
    }), e.warnings.length > 0 && t.push({
      type: "warning",
      priority: "medium",
      message: "Suggested optimizations",
      details: e.warnings
    }), e.suggestions.length > 0 && t.push({
      type: "suggestion",
      priority: "low",
      message: "Consider the following improvements",
      details: e.suggestions
    }), e.score < 0.5 ? t.unshift({
      type: "error",
      priority: "high",
      message: "Generation quality is low, recommend regenerating",
      details: ["Current Score: " + Math.round(e.score * 100) + "%"]
    }) : e.score < 0.8 && t.push({
      type: "warning",
      priority: "medium",
      message: "Generation quality is medium, recommend optimizing",
      details: ["Current Score: " + Math.round(e.score * 100) + "%"]
    }), t;
  }
  // Quick Validate (Check critical errors only)
  quickValidate(e) {
    const t = [];
    return !e || typeof e != "object" ? (t.push("Content format error"), { isValid: !1, errors: t }) : ((!e.title || !e.content) && t.push("Missing required title or content fields"), e.content && (e.content.match(/\{\{/g) || []).length - (e.content.match(/\}\}/g) || []).length !== 0 && t.push("Variable syntax error: Mismatched braces"), {
      isValid: t.length === 0,
      errors: t
    });
  }
}
class ve {
  constructor(e) {
    this.api = e, this.validator = new Z(), this.maxRetries = 3, this.retryStrategies = [
      "addMoreContext",
      // Add more context
      "enforceNamingRules"
      // Enforce naming rules
    ], this.retryHistory = [];
  }
  // Intelligent generation with validation
  async generateWithRetry(e, t = null) {
    o.debug("[AIRetryManager] Starting generateWithRetry with input:", e);
    let a = 0;
    const r = Date.now();
    for (; a < this.maxRetries; )
      try {
        a++, o.debug(`[AIRetryManager] Attempt ${a}/${this.maxRetries}`), t && t({
          stage: "generating",
          attempt: a,
          maxAttempts: this.maxRetries,
          message: s.t("generating_attempt", { attempt: a })
        }), o.debug("[AIRetryManager] Calling api.generatePromptContent with:", e);
        const n = await this.api.generatePromptContent(e);
        o.debug("[AIRetryManager] Received raw result from API:", n), t && t({
          stage: "validating",
          attempt: a,
          message: s.t("validating_content")
        }), o.debug("[AIRetryManager] Validating generated content...");
        const i = this.validator.validateGeneratedContent(n);
        if (o.debug("[AIRetryManager] Validation result:", i), this.retryHistory.push({
          attempt: a,
          input: e,
          result: n,
          validation: i,
          timestamp: (/* @__PURE__ */ new Date()).toISOString()
        }), i.isValid)
          return o.debug("[AIRetryManager] Validation passed, returning success result"), t && t({
            stage: "completed",
            attempt: a,
            message: s.t("generation_success"),
            score: i.score
          }), {
            success: !0,
            content: n,
            validation: i,
            attempts: a,
            duration: Date.now() - r
          };
        if (a < this.maxRetries) {
          o.debug(`[AIRetryManager] Validation failed (score: ${i.score}), preparing retry...`), t && t({
            stage: "retrying",
            attempt: a,
            message: s.t("validation_failed_retry", { score: Math.round(i.score * 100) }),
            errors: i.errors,
            warnings: i.warnings
          });
          const c = { ...e };
          e = this.improveBadGeneration(e, i, a - 1), o.debug("[AIRetryManager] Improved userInput for next retry:", e), o.debug("[AIRetryManager] Original input was:", c), await new Promise((l) => setTimeout(l, 1e3 * a));
        } else
          return t && t({
            stage: "failed",
            attempt: a,
            message: s.t("all_retries_failed"),
            finalScore: i.score
          }), {
            success: !1,
            content: n,
            // Still return the last result, let user decide
            validation: i,
            attempts: a,
            duration: Date.now() - r,
            canManualEdit: !0
          };
      } catch (n) {
        if (o.error(`Generation failed (Attempt ${a}):`, n), a >= this.maxRetries)
          return t && t({
            stage: "error",
            attempt: a,
            message: s.t("generation_error_msg", { message: n.message })
          }), {
            success: !1,
            error: n.message,
            attempts: a,
            duration: Date.now() - r
          };
        await new Promise((i) => setTimeout(i, 2e3 * a));
      }
  }
  // Improve failed generation
  improveBadGeneration(e, t, a) {
    const r = this.retryStrategies[a] || "addMoreContext", n = t.errors || [], i = t.warnings || [];
    switch (o.debug(`Improving generation using strategy "${r}" (Attempt ${a + 1})`), r) {
      case "addMoreContext":
        return this.addMoreContext(e, n, i);
      case "simplifyRequirements":
        return this.simplifyRequirements(e, n, i);
      case "changePromptStyle":
        return this.changePromptStyle(e, n, i);
      case "enforceNamingRules":
        return this.enforceNamingRules(e, n, i);
      case "finalAttempt":
        return this.finalAttempt(e, n, i);
      default:
        return this.addMoreContext(e, n, i);
    }
  }
  // Strategy 1: Add more context
  addMoreContext(e, t, a) {
    const r = this.buildIssueContext(t, a);
    return {
      ...e,
      additionalInstructions: `${e.additionalInstructions || ""}

${r}`
    };
  }
  // Strategy 2: Simplify requirements
  simplifyRequirements(e, t, a) {
    return {
      ...e,
      additionalInstructions: `${e.additionalInstructions || ""}

[Retry Instruction] Please generate a simpler, more generic version with fewer variables. Previous issues: ${t.join("; ")}`
    };
  }
  // Strategy 3: Change prompt style
  changePromptStyle(e, t, a) {
    return {
      ...e,
      additionalInstructions: `${e.additionalInstructions || ""}

[Retry Instruction] Please try using a different style or structure to generate the prompt, such as using step-by-step instructions. Previous issues: ${t.join("; ")}`
    };
  }
  // Strategy 4: Enforce naming rules
  enforceNamingRules(e, t, a) {
    return {
      ...e,
      additionalInstructions: `${e.additionalInstructions || ""}

[Retry Instruction] Please strictly adhere to naming conventions. Command names must only use lowercase English letters and hyphens/underscores. Variable names should be concise and accurately describe their purpose. Previous issues: ${t.join("; ")}`
    };
  }
  // Strategy 5: Final attempt
  finalAttempt(e, t, a) {
    return {
      ...e,
      additionalInstructions: `${e.additionalInstructions || ""}

[Final Attempt Instruction] This is the last chance. Please ensure to generate a JSON object that is structurally complete, syntactically correct, and compliant with all specifications. Carefully check all fields, especially \`category\` and \`command\`. Previous issues: ${t.join("; ")}`
    };
  }
  // Build issue context
  buildIssueContext(e, t) {
    const a = [];
    return e.length > 0 && a.push("Critical Errors: " + e.join("; ")), t.length > 0 && a.push("Warnings: " + t.join("; ")), `
[Analysis of Previous Generation Issues]
${a.join(`
`)}

[Improvement Suggestions]
- Carefully check variable syntax format
- Ensure all fields are correctly filled
- Use standard OpenWebUI variable types
- Provide meaningful instruction content
- Strictly adhere to naming conventions (Command names must only use English letters, numbers, hyphens, and underscores)
        `.trim();
  }
  // Intelligent analysis of failure reason
  analyzeFailureReason(e) {
    const { errors: t, warnings: a, score: r } = e;
    return t.some((n) => n.includes("Variable syntax")) ? {
      category: "syntax",
      reason: "Variable syntax error",
      suggestion: "Focus on correctness of variable format"
    } : t.some((n) => n.includes("Missing") || n.includes("Invalid")) ? {
      category: "structure",
      reason: "Data structure issue",
      suggestion: "Ensure all required fields are included"
    } : r < 0.5 ? {
      category: "quality",
      reason: "Content quality too low",
      suggestion: "Provide more detailed and useful guidance"
    } : {
      category: "general",
      reason: "General quality issue",
      suggestion: "Optimize overall content structure and expression"
    };
  }
  // Get retry history
  getRetryHistory() {
    return this.retryHistory;
  }
  // Clear history
  clearHistory() {
    this.retryHistory = [];
  }
  // Get retry statistics
  getRetryStats() {
    if (this.retryHistory.length === 0)
      return null;
    const e = this.retryHistory.filter((a) => a.validation.isValid), t = this.retryHistory.reduce((a, r) => a + r.validation.score, 0) / this.retryHistory.length;
    return {
      totalAttempts: this.retryHistory.length,
      successfulAttempts: e.length,
      successRate: e.length / this.retryHistory.length,
      averageScore: Math.round(t * 100),
      commonErrors: this.getCommonErrors()
    };
  }
  // Get common errors
  getCommonErrors() {
    const e = {};
    return this.retryHistory.forEach((t) => {
      t.validation.errors.forEach((a) => {
        const r = a.split(":")[0];
        e[r] = (e[r] || 0) + 1;
      });
    }), Object.entries(e).sort(([, t], [, a]) => a - t).slice(0, 3).map(([t, a]) => ({ error: t, count: a }));
  }
  // Manual fix suggestions
  suggestManualFixes(e) {
    const t = [], { errors: a, warnings: r } = e;
    return a.forEach((n) => {
      n.includes("Variable syntax") && t.push({
        type: "fix",
        message: s.t("fix_variable_syntax"),
        action: "check_variable_syntax",
        description: s.t("check_variable_syntax")
      }), n.includes("Title") && t.push({
        type: "fix",
        message: s.t("improve_title"),
        action: "add_title",
        description: s.t("add_title")
      }), n.includes("Content") && t.push({
        type: "fix",
        message: s.t("supplement_content"),
        action: "add_content",
        description: s.t("add_content")
      });
    }), r.forEach((n) => {
      n.includes("too long") && t.push({
        type: "optimize",
        message: s.t("simplify_content"),
        action: "shorten_content",
        description: s.t("shorten_content")
      });
    }), t;
  }
}
class K {
  constructor() {
    this.prompts = [], this.searchIndex = /* @__PURE__ */ new Map();
  }
  // Build search index
  buildIndex(e) {
    this.prompts = e || [], this.searchIndex.clear(), this.prompts.forEach((t) => {
      const a = `${t.title} ${t.content}`.toLowerCase();
      this.tokenizeText(a).forEach((n) => {
        this.searchIndex.has(n) || this.searchIndex.set(n, []), this.searchIndex.get(n).push(t.id);
      });
    }), o.debug(`Simple search initialized with ${this.searchIndex.size} terms and ${this.prompts.length} prompts.`);
  }
  // Search method
  search(e) {
    if (!e || !e.trim())
      return this.prompts.map((c) => ({
        item: c,
        score: 1,
        matches: []
      }));
    const t = e.toLowerCase().trim(), a = this.tokenizeText(t), r = /* @__PURE__ */ new Map(), n = /* @__PURE__ */ new Map();
    return a.forEach((c) => {
      (this.searchIndex.get(c) || []).forEach((d) => {
        const p = r.get(d) || 0, u = n.get(d) || [];
        r.set(d, p + 1);
        const m = this.prompts.find((g) => g.id === d);
        if (m) {
          const g = this.findMatches(m, c);
          n.set(d, [...u, ...g]);
        }
      });
    }), this.prompts.forEach((c) => {
      const l = c.title.toLowerCase(), d = c.content.toLowerCase();
      if (l.includes(t) || d.includes(t)) {
        const p = r.get(c.id) || 0;
        r.set(c.id, p + a.length + 1);
        const u = n.get(c.id) || [], m = this.findMatches(c, t);
        n.set(c.id, [...u, ...m]);
      }
    }), Array.from(r.entries()).map(([c, l]) => {
      const d = this.prompts.find((u) => u.id === c);
      if (!d) return null;
      const p = l / (a.length + 1);
      return {
        item: d,
        score: p,
        matches: n.get(c) || []
      };
    }).filter(Boolean).sort((c, l) => l.score - c.score);
  }
  // Tokenization method
  tokenizeText(e) {
    return e.replace(/[^\w\u4e00-\u9fff-]/g, " ").split(/\s+/).filter((t) => t.length > 0 && t.length <= 50);
  }
  // Find match positions
  findMatches(e, t) {
    const a = [], r = e.title.toLowerCase(), n = e.content.toLowerCase();
    let i = r.indexOf(t);
    for (; i !== -1; )
      a.push({
        key: "title",
        value: e.title,
        indices: [[i, i + t.length - 1]]
      }), i = r.indexOf(t, i + 1);
    for (i = n.indexOf(t); i !== -1; )
      a.push({
        key: "content",
        value: e.content,
        indices: [[i, i + t.length - 1]]
      }), i = n.indexOf(t, i + 1);
    return a;
  }
  // Set search collection
  setCollection(e) {
    this.buildIndex(e);
  }
  // Get search index size
  getIndexSize() {
    return this.searchIndex.size;
  }
  // Get prompt count
  getPromptCount() {
    return this.prompts.length;
  }
}
class be {
  constructor(e, t = {}) {
    this.container = typeof e == "string" ? document.querySelector(e) : e, this.options = {
      placeholder: s.t("search_model_placeholder"),
      onSelect: null,
      ...t
    }, this.models = [], this.filteredModels = [], this.selectedModel = null, this.isOpen = !1, this.highlightIndex = -1, this.element = null, this.input = null, this.dropdown = null, this.init();
  }
  init() {
    this.element = document.createElement("div"), this.element.className = "model-select", this.element.innerHTML = `
            <div class="model-select-input-wrapper">
                <input type="text" 
                       class="model-select-input" 
                       placeholder="${this.options.placeholder}"
                       autocomplete="off">
                <span class="model-select-arrow">â–¼</span>
            </div>
            <div class="model-select-dropdown" style="display: none;"></div>
        `, this.input = this.element.querySelector(".model-select-input"), this.dropdown = this.element.querySelector(".model-select-dropdown"), this.bindEvents(), this.container && (this.container.innerHTML = "", this.container.appendChild(this.element));
  }
  bindEvents() {
    this.input.addEventListener("input", () => {
      this.filter(this.input.value), this.open();
    }), this.input.addEventListener("focus", () => {
      this.open();
    }), this.input.addEventListener("keydown", (e) => {
      switch (e.key) {
        case "ArrowDown":
          e.preventDefault(), this.moveHighlight(1);
          break;
        case "ArrowUp":
          e.preventDefault(), this.moveHighlight(-1);
          break;
        case "Enter":
          e.preventDefault(), this.highlightIndex >= 0 && this.selectByIndex(this.highlightIndex);
          break;
        case "Escape":
          this.close();
          break;
      }
    }), document.addEventListener("click", (e) => {
      this.element.contains(e.target) || this.close();
    }), this.element.querySelector(".model-select-arrow").addEventListener("click", () => {
      this.isOpen ? this.close() : this.open();
    });
  }
  setModels(e) {
    this.models = e || [], o.debug("[ModelSelect] Received model list:", this.models.map((t) => t.id)), this.filteredModels = [...this.models], this.renderDropdown();
  }
  setSelected(e) {
    o.debug("[ModelSelect] Attempting to select:", e);
    const t = this.models.find((a) => a.id === e);
    t ? (this.selectedModel = t, this.input.value = t.name || t.id, o.debug("[ModelSelect] Selection successful:", t.id)) : (o.warn("[ModelSelect] Model not found:", e), this.input.value = e, this.selectedModel = { id: e, name: e });
  }
  filter(e) {
    if (!e)
      this.filteredModels = [...this.models];
    else {
      const t = e.toLowerCase().split(/\s+/).filter((a) => a);
      this.filteredModels = this.models.filter((a) => {
        const r = (a.id || "").toLowerCase(), n = (a.name || "").toLowerCase(), i = (a.owned_by || "").toLowerCase();
        return t.every(
          (c) => r.includes(c) || n.includes(c) || i.includes(c)
        );
      });
    }
    this.highlightIndex = this.filteredModels.length > 0 ? 0 : -1, this.renderDropdown();
  }
  renderDropdown() {
    if (this.filteredModels.length === 0) {
      this.dropdown.innerHTML = `<div class="model-select-empty">${s.t("no_models_found")}</div>`;
      return;
    }
    this.dropdown.innerHTML = this.filteredModels.map((e, t) => `
            <div class="model-select-item ${t === this.highlightIndex ? "highlighted" : ""}" 
                 data-index="${t}" 
                 data-id="${e.id}">
                <span class="model-name">${e.name || e.id}</span>
                ${e.owned_by ? `<span class="model-provider">${e.owned_by}</span>` : ""}
            </div>
        `).join(""), this.dropdown.querySelectorAll(".model-select-item").forEach((e) => {
      e.addEventListener("click", () => {
        this.selectByIndex(parseInt(e.dataset.index));
      }), e.addEventListener("mouseenter", () => {
        this.highlightIndex = parseInt(e.dataset.index), this.updateHighlight();
      });
    });
  }
  moveHighlight(e) {
    this.filteredModels.length !== 0 && (this.highlightIndex += e, this.highlightIndex < 0 ? this.highlightIndex = this.filteredModels.length - 1 : this.highlightIndex >= this.filteredModels.length && (this.highlightIndex = 0), this.updateHighlight(), this.scrollToHighlight());
  }
  updateHighlight() {
    this.dropdown.querySelectorAll(".model-select-item").forEach((e, t) => {
      e.classList.toggle("highlighted", t === this.highlightIndex);
    });
  }
  scrollToHighlight() {
    const e = this.dropdown.querySelector(".model-select-item.highlighted");
    e && e.scrollIntoView({ block: "nearest" });
  }
  selectByIndex(e) {
    const t = this.filteredModels[e];
    t && (this.selectedModel = t, this.input.value = t.name || t.id, this.close(), this.options.onSelect && this.options.onSelect(t));
  }
  getSelected() {
    return this.selectedModel;
  }
  getSelectedId() {
    var e;
    return ((e = this.selectedModel) == null ? void 0 : e.id) || null;
  }
  open() {
    this.models.length !== 0 && (this.isOpen = !0, this.dropdown.style.display = "block", this.element.classList.add("open"), this.input.value || (this.filteredModels = [...this.models], this.highlightIndex = this.selectedModel ? this.filteredModels.findIndex((e) => e.id === this.selectedModel.id) : 0, this.renderDropdown()));
  }
  close() {
    this.isOpen = !1, this.dropdown.style.display = "none", this.element.classList.remove("open");
  }
  setLoading(e) {
    e ? (this.input.placeholder = s.t("loading_models"), this.input.disabled = !0) : (this.input.placeholder = this.options.placeholder, this.input.disabled = !1);
  }
  setError(e) {
    this.input.placeholder = e || s.t("load_models_failed"), this.dropdown.innerHTML = `<div class="model-select-error">${e}</div>`;
  }
}
class we {
  constructor(e) {
    this.panelManager = e, this.aiRetryManager = e.aiRetryManager, this.state = e.state;
  }
  // AI Generate Prompt - Get input from UI
  async generateWithAI() {
    s.sync(), o.debug("[AIGenerationPanel] generateWithAI called.");
    const e = document.getElementById("ai-description").value.trim(), t = document.getElementById("ai-use-clipboard").checked, a = document.getElementById("ai-category-select"), r = a ? a.value : "";
    if (!e) {
      alert(s.t("describe_func_placeholder"));
      return;
    }
    const n = {
      description: e,
      useClipboard: t,
      selectedCategory: r,
      // Pass selected category
      strictNamingRules: s.t("strict_naming_rules").trim(),
      variableSyntaxRules: s.t("variable_syntax_rules").trim(),
      availableVariables: this._getVariableHelpMarkdown(),
      availableCategoriesList: this.panelManager.promptManager.categories
      // Pass dynamic category list
    };
    this.state.lastAIUserInput = { ...n }, o.debug("[AIGenerationPanel] User input saved for retry:", this.state.lastAIUserInput), await this._executeAIGeneration(n);
  }
  // Internal core logic for executing AI generation
  async _executeAIGeneration(e) {
    o.debug("[AIGenerationPanel] Executing AI generation with input:", e), this.resetAIPanelState(), this.showAIProgress(!0), this.updateProgressStep("generating", "active");
    try {
      o.debug("[AIGenerationPanel] Calling aiRetryManager.generateWithRetry...");
      const t = await this.aiRetryManager.generateWithRetry(
        e,
        (a) => this.handleAIProgress(a)
      );
      o.debug("[AIGenerationPanel] Received result from aiRetryManager:", t), t.success ? (this.displayAIResult(t.content, t.validation), this.state.currentAIGeneration = t.content) : t.content && t.canManualEdit ? (this.displayAIResult(t.content, t.validation, !0), this.state.currentAIGeneration = t.content) : this.showAIError(t.error || s.t("generation_failed_retry"));
    } catch (t) {
      console.error("[AIGenerationPanel] AI Generation Exception:", t), this.showAIError(`${s.t("generation_error")}${t.message}`);
    } finally {
      this.setGenerateButtonState(!1);
    }
  }
  // Handle AI generation progress
  handleAIProgress(e) {
    const { stage: t, attempt: a, message: r, errors: n, warnings: i, score: c } = e;
    this.updateProgressStep(t, "active");
    const l = document.getElementById("progress-message");
    l && (l.textContent = r);
  }
  // Display AI Result
  displayAIResult(e, t, a = !1) {
    o.debug("[AIGenerationPanel] displayAIResult: Starting UI update.", { content: e, validation: t }), this.showAIProgress(!1);
    const r = document.getElementById("progress-message");
    r && (a ? (r.textContent = `âš ï¸ ${s.t("generation_failed_retry")}`, r.style.color = "#d69e2e") : (r.textContent = `âœ… ${s.t("step_completed")}`, r.style.color = "#38a169"));
    const n = document.getElementById("ai-category-select");
    n && n.value && (e.category = n.value), o.debug("[AIGenerationPanel] displayAIResult: Prefilling manual form with content:", e), this.panelManager.prefillManualForm(e), setTimeout(() => {
      this.panelManager.editorPanel && this.panelManager.editorPanel.goToStep(2);
    }, 300), o.debug("[AIGenerationPanel] displayAIResult: UI update process finished.");
  }
  // Toggle AI Panel Collapse/Expand
  toggleAICollapse(e = null) {
    const t = document.getElementById("ai-assistant-panel");
    if (!t) return;
    (e !== null ? e : !t.classList.contains("collapsed")) ? (t.classList.add("collapsed"), this.updateAIHeaderForCollapsed(!0)) : (t.classList.remove("collapsed"), this.updateAIHeaderForCollapsed(!1));
  }
  // Update AI Header for collapsed state
  updateAIHeaderForCollapsed(e) {
    const t = document.querySelector("#ai-assistant-panel .card-header");
    if (!t) return;
    let a = t.querySelector(".btn-toggle-ai");
    a || (a = document.createElement("button"), a.type = "button", a.className = "btn-toggle-ai", a.style.cssText = "background: none; border: none; cursor: pointer; font-size: 18px; padding: 4px; color: #667eea; transition: transform 0.3s;", t.appendChild(a), a.addEventListener("click", (i) => {
      i.stopPropagation(), this.toggleAICollapse();
    })), a.innerHTML = e ? "ğŸ”¼" : "ğŸ”½", a.title = e ? s.t("expand_ai") : s.t("collapse_ai");
    const r = document.querySelector("#ai-assistant-panel .card-body");
    r && (r.style.display = e ? "none" : "block");
    const n = document.querySelector("#ai-assistant-panel .card-badge");
    n && (n.style.display = e ? "none" : "block");
  }
  // Scroll to manual form
  scrollToManualForm() {
    setTimeout(() => {
      const e = document.getElementById("prompt-edit-form"), t = document.querySelector(".editor-panel-left");
      e && t && (e.scrollIntoView({
        behavior: "smooth",
        block: "start"
      }), o.debug("Auto-scrolling to manual edit form"));
    }, 200);
  }
  // Reset AI panel state
  resetAIPanelState() {
    this.state.currentAIGeneration = null;
    const e = document.getElementById("ai-progress");
    if (e) {
      e.style.display = "none";
      const t = document.getElementById("progress-message");
      t && (t.textContent = s.t("ai_processing"), t.style.color = "");
    }
    this.setGenerateButtonState(!1);
  }
  // Unified management of generate button state
  setGenerateButtonState(e) {
    const t = document.querySelector('[data-action="generateWithAI"]');
    if (t) {
      t.disabled = e;
      const a = t.querySelector(".btn-text"), r = t.querySelector(".btn-loading");
      a && (a.style.display = e ? "none" : "inline"), r && (r.style.display = e ? "inline" : "none");
    }
  }
  // Show/Hide AI progress and manage button state
  showAIProgress(e) {
    const t = document.getElementById("ai-progress");
    t && (t.style.display = e ? "block" : "none"), this.setGenerateButtonState(e);
  }
  // Update progress step
  updateProgressStep(e, t) {
    const a = document.getElementById(`step-${e}`);
    a && (a.className = `step ${t}`);
  }
  // Show AI Error
  showAIError(e) {
    this.showAIProgress(!1);
    const t = document.getElementById("ai-progress");
    t && (t.style.display = "block");
    const a = document.getElementById("progress-message");
    a && (a.textContent = `âŒ ${e}`, a.style.color = "#e53e3e");
  }
  // Generate Variable Help Markdown
  _getVariableHelpMarkdown() {
    const e = [
      ["text", "var_text_desc", "`placeholder`, `default`", `\`{{${s.t("help_example_name")} | text:placeholder="${s.t("help_example_name")}"}}\``],
      ["textarea", "var_textarea_desc", "`placeholder`, `default`", `\`{{${s.t("help_simple_var")} | textarea:placeholder="${s.t("help_simple_var")}"}}\``],
      ["select", "var_select_desc", "`options` (JSON array), `default`", `\`{{${s.t("help_typed_var")} | select:options=["${s.t("help_example_high")}","${s.t("help_example_medium")}","${s.t("help_example_low")}"]:default="${s.t("help_example_medium")}"}}\``],
      ["number", "var_number_desc", "`placeholder`, `default`", "`{{quantity | number:default=1}}`"],
      ["checkbox", "var_checkbox_desc", "`default` (Boolean)", "`{{include_summary | checkbox:default=true}}`"],
      ["date", "var_date_desc", "`default`", '`{{start_date | date:default="2024-01-01"}}`'],
      ["datetime-local", "var_datetime_local_desc", "`default`", "`{{meeting_time | datetime-local}}`"],
      ["color", "var_color_desc", "`default` (Hex)", '`{{brand_color | color:default="#FF5733"}}`'],
      ["email", "var_email_desc", "`placeholder`, `default`", '`{{recipient | email:placeholder="Enter email"}}`'],
      ["month", "var_month_desc", "`default`", '`{{report_month | month:default="2024-08"}}`'],
      ["range", "var_range_desc", "`min`, `max`, `step`, `default`", "`{{satisfaction | range:min=0:max=100:step=1:default=75}}`"],
      ["tel", "var_tel_desc", "`placeholder`, `default`", "`{{contact_number | tel}}`"],
      ["time", "var_time_desc", "`default`", '`{{start_time | time:default="09:00"}}`'],
      ["url", "var_url_desc", "`placeholder`, `default`", '`{{source_url | url:placeholder="https://example.com"}}`']
    ], t = `| ${s.t("var_table_type")} | ${s.t("var_table_desc")} | ${s.t("var_table_props")} | ${s.t("var_table_example")} |`, a = "| ---------------- | ------------------------------------------------------ | ------------------------------ | ---------------------------------------------------------------- |", r = e.map((n) => {
      const [i, c, l, d] = n;
      return `| **${i}** | ${s.t(c)} | ${l} | ${d} |`;
    }).join(`
`);
    return `
${s.t("available_variables_intro")}

${t}
${a}
${r}
        `.trim();
  }
  // Simple HTML sanitize function
  sanitizeHTML(e) {
    const t = document.createElement("div");
    return t.textContent = e, t.innerHTML;
  }
}
class xe {
  constructor(e) {
    this.panelManager = e, this.promptManager = e.promptManager, this.state = e.state;
  }
  // Create the modal element - Two-Step Wizard Layout
  createModal() {
    o.debug("[EditorPanel] Creating modal with wizard layout. Current lang:", s.lang, "FORCE_UPDATE_CHECK");
    const e = document.createElement("div");
    return e.id = "prompt-edit-modal", e.className = "prompt-modal", e.dataset.lang = s.lang, e.style.zIndex = "10002", ["keydown", "keyup", "keypress"].forEach((t) => {
      e.addEventListener(t, (a) => {
        a.key !== "Escape" && (a.stopPropagation(), a.stopImmediatePropagation());
      });
    }), e.innerHTML = `
            <div class="prompt-modal-content unified-panel unified-panel-modal prompt-editor-panel prompt-editor">
                <!-- Top Toolbar with Step Indicators -->
                <header class="editor-topbar gradient-header">
                    <div class="topbar-left" style="display: flex; align-items: center; gap: 12px;">
                        <h2 id="prompt-modal-title" class="editor-title" style="font-size: 1.1rem; font-weight: 600; margin: 0; color: #fff;">${s.t("prompt_editor_title")}</h2>
                        <span class="editor-badge" style="padding: 4px 10px; border-radius: 20px; background: rgba(255,255,255,0.2); font-size: 11px; font-weight: 500;">${s.t("workspace")}</span>
                    </div>
                    
                    <!-- Step Indicators (Center) -->
                    <div class="wizard-steps-container">
                        <div class="wizard-step active" data-step="1">
                            <span class="wizard-step-num">1</span>
                            <span class="wizard-step-label" style="font-size: 13px; font-weight: 500;">${s.t("wizard_step_ai")}</span>
                        </div>
                        <div class="wizard-step-line"></div>
                        <div class="wizard-step" data-step="2">
                            <span class="wizard-step-num">2</span>
                            <span class="wizard-step-label" style="font-size: 13px; font-weight: 500;">${s.t("wizard_step_edit")}</span>
                        </div>
                    </div>
                    
                    <div class="topbar-right" style="display: flex; align-items: center; gap: 8px;">
                        <button type="button" class="topbar-btn topbar-btn-close btn-icon-only btn-close" data-action="closePromptModal" title="${s.t("close")}">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>
                </header>

                <!-- Main Workspace with Step Content -->
                <main class="editor-workspace" style="display: flex !important; flex-direction: column !important; grid-template-columns: none !important; flex: 1 !important; min-height: 0 !important; overflow: hidden !important;">
                    <!-- Step Content Panel -->
                    <section class="editor-panel-body" style="width: 100% !important; flex: 1 !important;">
                        
                        <!-- Step 1: AI Generation (Full Height) -->
                        <div id="wizard-step-1" class="wizard-step-content active" style="flex: 1; display: flex; flex-direction: column;">
                            <article id="ai-assistant-panel" class="editor-card ai-assistant-card" style="flex: 1; display: flex; flex-direction: column;">
                                    <!-- Compact Header for Step 1 -->
                                    <div class="card-header compact-header" style="padding: 6px 16px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; min-height: 36px;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <span style="font-size: 14px;">ğŸ¤–</span>
                                            <h3 class="card-title" style="font-size: 13px; margin: 0;">${s.t("ai_generate_title")}</h3>
                                        </div>
                                        <span class="card-badge" style="font-size: 10px; padding: 2px 6px;">${s.t("auto_fill")}</span>
                                    </div>
                                
                                <div class="card-body" style="flex: 1; display: flex; flex-direction: column; min-height: 0; overflow: hidden; padding: 12px 16px;">
                                    <div class="ai-form" style="flex: 1; display: flex; flex-direction: column;">
                                        <div class="form-row" style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; gap: 12px; margin-bottom: 8px;">
                                            <div class="form-field" style="flex: 1 1 50%; min-width: 0;">
                                                <label for="ai-model-select" class="field-label" style="display: block; margin-bottom: 2px; font-size: 13px; font-weight: 500;">${s.t("ai_model")}</label>
                                                <div id="ai-model-select-container" style="width: 100%;">
                                                    <select id="ai-model-select" class="field-select" style="width: 100%; padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                                                        <option value="" disabled selected>${s.t("loading_models") || "Loading models..."}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-field" style="flex: 1 1 50%; min-width: 0;">
                                                <label for="ai-category-select" class="field-label" style="display: block; margin-bottom: 2px; font-size: 13px; font-weight: 500;">${s.t("category")}</label>
                                                <select id="ai-category-select" class="field-select" style="width: 100%; padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                                                    <option value="" disabled selected>${s.t("select_category")}</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div class="form-row" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                            <div class="form-field" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                                <label for="ai-description" class="field-label" style="display: block; margin-bottom: 2px; font-size: 13px; font-weight: 500;">${s.t("func_description")}</label>
                                                <textarea id="ai-description" class="field-textarea" style="flex: 1; resize: none; width: 100%; padding: 8px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;" 
                                                    placeholder="${s.t("func_desc_placeholder")}"></textarea>
                                                <p class="field-hint" style="margin: 4px 0 0; font-size: 11px; color: #6b7280;">${s.t("func_desc_hint")}</p>
                                            </div>
                                        </div>
                                        
                                        <div class="form-row form-row-inline">
                                            <label class="checkbox-field">
                                                <input type="checkbox" id="ai-use-clipboard" class="field-checkbox">
                                                <span class="checkbox-label">${s.t("use_clipboard")}</span>
                                            </label>
                                            <p class="field-hint">${s.t("use_clipboard_hint")}</p>
                                        </div>

                                        <div class="form-actions" style="display: flex; gap: 8px; justify-content: center; padding: 0; margin-top: 4px;">
                                            <button type="button" class="btn-primary" data-action="generateWithAI" style="min-width: 100px; padding: 4px 12px; height: 32px;">
                                                <span class="btn-text" style="font-weight: 600; font-size: 12px;">${s.t("generate_btn")}</span>
                                                <span class="btn-loading" style="display: none;">${s.t("generating")}...</span>
                                            </button>
                                            <button type="button" class="btn-secondary" data-action="goToStep2" style="min-width: 80px; padding: 4px 12px; height: 32px; font-size: 12px;">
                                                ${s.t("skip_to_edit")} â†’
                                            </button>
                                        </div>
                                        
                                        <!-- AI Progress Area -->
                                        <div id="ai-progress" class="ai-progress" style="display: none; margin-top: 16px;">
                                            <div class="progress-steps">
                                                <div class="step" id="step-generating">
                                                    <div class="step-icon">1</div>
                                                    <div class="step-label">${s.t("step_generating")}</div>
                                                </div>
                                                <div class="step-line"></div>
                                                <div class="step" id="step-validating">
                                                    <div class="step-icon">2</div>
                                                    <div class="step-label">${s.t("step_validating")}</div>
                                                </div>
                                                <div class="step-line"></div>
                                                <div class="step" id="step-completed">
                                                    <div class="step-icon">3</div>
                                                    <div class="step-label">${s.t("step_completed")}</div>
                                                </div>
                                            </div>
                                            <div id="progress-message" class="progress-message">${s.t("ai_processing")}</div>
                                            <div id="progress-details" class="progress-details"></div>
                                        </div>
                                    </div>
                                </div>
                            </article>
                        </div>

                        <!-- Step 2: Manual Editing (Full Height) -->
                        <div id="wizard-step-2" class="wizard-step-content" style="flex: 1; display: none; flex-direction: column;">
                            <form id="prompt-edit-form" class="editor-card manual-edit-card" style="flex: 1; display: flex; flex-direction: column;">
                                <input type="hidden" id="prompt-edit-id">
                                
                                    <!-- Compact Header for Step 2 -->
                                    <div class="card-header compact-header" style="padding: 6px 16px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; min-height: 36px;">
                                        <h3 class="card-title" style="font-size: 13px; margin: 0;">${s.t("manual_edit_title")}</h3>
                                        <button type="button" class="btn-text" data-action="goToStep1" style="color: #667eea; font-size: 12px;">
                                            â† ${s.t("back_to_ai")}
                                        </button>
                                    </div>

                                <div class="card-body" style="flex: 1; display: flex; flex-direction: column; min-height: 0; overflow: hidden; padding: 12px 16px;">
                                    <div class="form-row" style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; gap: 12px; margin-bottom: 8px;">
                                        <div class="form-field" style="flex: 1 1 50%; min-width: 0;">
                                            <label for="prompt-edit-title" class="field-label" style="display: block; margin-bottom: 2px; font-size: 13px; font-weight: 500;">${s.t("title")}</label>
                                            <input type="text" id="prompt-edit-title" class="field-input" required placeholder="${s.t("title_placeholder")}" style="width: 100%; padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                                        </div>
                                        <div class="form-field" style="flex: 1 1 50%; min-width: 0;">
                                            <label for="prompt-edit-category" class="field-label" style="display: block; margin-bottom: 2px; font-size: 13px; font-weight: 500;">${s.t("category")}</label>
                                            <select id="prompt-edit-category" class="field-select" required style="width: 100%; padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                                                <option value="" disabled selected>${s.t("select_category")}</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-row" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                        <div class="form-field" style="flex: 1; display: flex; flex-direction: column; min-height: 0;">
                                            <label for="prompt-edit-content" class="field-label" style="display: flex; justify-content: space-between; align-items: center;">
                                                <span style="font-size: 13px; font-weight: 500;">
                                                    ${s.t("content")}
                                                </span>
                                                <a href="https://docs.openwebui.com/features/workspace/prompts#prompt-variables" 
                                                   target="_blank" 
                                                   rel="noopener noreferrer" 
                                                   class="btn-text"
                                                   style="font-size: 11px; display: flex; align-items: center; gap: 4px;">
                                                    <span>ğŸ’¡</span>
                                                    ${s.t("variable_help")}
                                                </a>
                                            </label>
                                            <textarea id="prompt-edit-content" class="field-textarea" style="flex: 1; resize: none;" required placeholder="${s.t("content_placeholder")}"></textarea>
                                        </div>
                                    </div>

                                    <div class="form-actions" style="margin-top: 4px; padding-top: 0; display: flex; justify-content: center;">
                                        <button type="submit" class="btn-primary" style="min-width: 100px; padding: 0 16px; font-weight: 600; height: 32px; font-size: 13px; display: flex; align-items: center; gap: 6px;">
                                            <span class="btn-icon" style="font-size: 14px;">ğŸ’¾</span>
                                            ${s.t("save_prompt")}
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                </main>
            </div>
        `, this.setupEventListeners(e), e;
  }
  setupEventListeners(e) {
    e.addEventListener("click", (a) => {
      const r = a.target.closest("[data-action]");
      if (!r) return;
      switch (r.dataset.action) {
        case "closePromptModal":
          this.close();
          break;
        case "goToStep1":
          this.goToStep(1);
          break;
        case "goToStep2":
          this.goToStep(2);
          break;
        case "generateWithAI":
          this.generatePrompt();
          break;
      }
    });
    const t = e.querySelector("#prompt-edit-form");
    t && t.addEventListener("submit", (a) => {
      a.preventDefault(), this.savePrompt();
    });
  }
  async generatePrompt() {
    const e = document.getElementById("ai-description"), t = document.getElementById("ai-model-select"), a = document.querySelector('[data-action="generateWithAI"]'), r = document.getElementById("ai-progress"), n = document.getElementById("progress-message");
    if (!e || !e.value.trim()) {
      this.panelManager.domUtils.showAlert(s.t("func_desc_hint") || "Please enter a description");
      return;
    }
    const i = e.value.trim(), c = t ? t.value : null, l = (d, p) => {
      const u = document.getElementById(`step-${d}`);
      u && (u.classList.remove("active", "completed", "error"), p && u.classList.add(p));
    };
    if (a) {
      const d = a.querySelector(".btn-text"), p = a.querySelector(".btn-loading");
      d && (d.style.display = "none"), p && (p.style.display = "inline"), a.disabled = !0;
    }
    r && (r.style.display = "block", l("generating", "active"), l("validating", ""), l("completed", ""), n && (n.textContent = s.t("step_generating")));
    try {
      const d = {
        description: i,
        availableCategoriesList: this.promptManager.categories,
        availableVariables: this._getVariableHelpMarkdown()
      }, p = await this.promptManager.api.generatePromptContent(d, c);
      r && (l("generating", "completed"), l("validating", "active"), n && (n.textContent = s.t("step_validating"))), await new Promise((u) => setTimeout(u, 600)), r && (l("validating", "completed"), l("completed", "completed"), n && (n.textContent = s.t("step_completed"))), this.prefillForm(p), await new Promise((u) => setTimeout(u, 400)), this.goToStep(2);
    } catch (d) {
      console.error("AI Generation failed:", d), r && (l("generating", "error"), l("validating", "error"), n && (n.textContent = s.t("generation_failed"))), this.panelManager.domUtils.showAlert(`${s.t("generation_failed") || "Generation failed"}: ${d.message}`);
    } finally {
      if (a) {
        const d = a.querySelector(".btn-text"), p = a.querySelector(".btn-loading");
        d && (d.style.display = "inline"), p && (p.style.display = "none"), a.disabled = !1;
      }
      r && !document.querySelector(".step.error") && setTimeout(() => {
        r.style.display = "none";
      }, 2e3);
    }
  }
  close() {
    const e = document.getElementById("prompt-edit-modal");
    e && (e.classList.remove("is-visible"), e.style.display = "", e.style.zIndex = ""), this.state.isModalOpen = !1;
    const t = this.state.activePanel;
    if (t === "management") {
      const a = document.getElementById("prompt-management-panel");
      a && (a.style.display = ""), this.panelManager.managementPanel && (this.panelManager.managementPanel.updatePromptList(), this.panelManager.managementPanel.updateCategoryList());
    } else if (t === "quick") {
      const a = document.getElementById("quick-insert-panel");
      a && (a.style.display = "flex", a.style.visibility = "visible"), this.panelManager.quickInsertPanel && this.panelManager.quickInsertPanel.updateList();
    } else
      this.panelManager.domUtils.removeOverlay(), this.panelManager.scrollUtils.unlockBackgroundScroll();
  }
  resolveCategory(e) {
    const t = this.promptManager;
    if (!t) return e || "";
    const a = t.normalizeCategoryId ? t.normalizeCategoryId(e) : e;
    return t.isValidCategoryId && t.isValidCategoryId(a) ? a : t.isValidCategoryId && t.isValidCategoryId("productivity") ? "productivity" : t.categories && t.categories.length > 0 ? t.categories[0].id : a || "";
  }
  prefillManualForm(e) {
    if (!e) return;
    const t = document.getElementById("prompt-edit-title"), a = document.getElementById("prompt-edit-content"), r = document.getElementById("prompt-edit-category"), n = this.resolveCategory(e.category);
    t && (t.value = e.title || ""), a && (a.value = e.content || ""), r && (r.value = n);
  }
  async savePrompt() {
    if (!this.promptManager) return;
    const e = document.getElementById("prompt-edit-id").value, t = document.getElementById("prompt-edit-title").value.trim(), a = document.getElementById("prompt-edit-content").value.trim();
    let r = document.getElementById("prompt-edit-category").value;
    if (!t || !a) {
      this.panelManager.domUtils.showAlert(s.t("title_content_required"));
      return;
    }
    if (!r) {
      r = this.resolveCategory(r);
      const n = document.getElementById("prompt-edit-category");
      n && (n.value = r);
    }
    if (!r) {
      this.panelManager.domUtils.showAlert(s.t("category_required"));
      return;
    }
    try {
      const n = {
        title: t,
        content: a,
        category: r,
        access_control: null
      };
      let i;
      e ? (i = await this.promptManager.updatePrompt(e, n), this.panelManager.domUtils.showAlert(s.t("prompt_updated"))) : (i = await this.promptManager.createPrompt(n), this.panelManager.domUtils.showAlert(s.t("prompt_created")), i && i.id && (document.getElementById("prompt-edit-id").value = i.id)), this.panelManager.rebuildSearchIndex && this.panelManager.rebuildSearchIndex(), this.panelManager.managementPanel && (this.panelManager.managementPanel.updatePromptList(), this.panelManager.managementPanel.updateCategoryList());
    } catch (n) {
      console.error("Save prompt failed:", n), this.panelManager.domUtils.showAlert(`${s.t("save_failed")}${n.message}`);
    }
  }
  // Open prompt edit modal - initialize to correct step
  openPromptModal(e = null) {
    s.sync(), this.promptManager.refreshCategories();
    let t = document.getElementById("prompt-edit-modal");
    if (!t)
      o.debug("[EditorPanel] Creating prompt edit modal..."), t = this.createModal(), document.body.appendChild(t);
    else if (t.dataset.lang !== s.lang) {
      o.debug(`[EditorPanel] Language mismatch (Modal: ${t.dataset.lang}, Current: ${s.lang}), recreating prompt modal...`);
      const m = this.createModal();
      t.parentNode ? t.parentNode.replaceChild(m, t) : document.body.appendChild(m), t = m;
    }
    const a = document.getElementById("prompt-modal-title"), r = document.getElementById("prompt-edit-form");
    if (!t || !a || !r) {
      console.error("[EditorPanel] Failed to initialize modal elements");
      return;
    }
    const n = document.getElementById("prompt-edit-category"), i = document.getElementById("ai-category-select");
    if (n) {
      if (n.innerHTML = "", i)
        for (; i.options.length > 1; )
          i.remove(1);
      this.promptManager.categories.forEach((m) => {
        const g = document.createElement("option");
        if (g.value = m.id, g.textContent = m.name, n.appendChild(g), i) {
          const h = document.createElement("option");
          h.value = m.id, h.textContent = m.name, i.appendChild(h);
        }
      });
    }
    r.querySelectorAll("[required]").forEach((m) => {
      m.oninvalid = (g) => {
        g.target.setCustomValidity(s.t("field_required") || "This field is required");
      }, m.oninput = (g) => {
        g.target.setCustomValidity("");
      };
    }), this.state.currentAIGeneration = null;
    const l = document.getElementById("validation-result"), d = document.getElementById("ai-progress");
    l && (l.style.display = "none"), d && (d.style.display = "none"), e ? (a.textContent = s.t("edit_prompt_title"), document.getElementById("prompt-edit-id").value = e.id, document.getElementById("prompt-edit-title").value = e.title, document.getElementById("prompt-edit-content").value = e.content, document.getElementById("prompt-edit-category").value = e.category, this.goToStep(2)) : (a.textContent = s.t("new_prompt_title"), r.reset(), document.getElementById("prompt-edit-id").value = "", this.goToStep(1));
    const p = document.getElementById("prompt-management-panel");
    p && (p.style.display = "none"), t.style.display = "flex", t.style.zIndex = "99999";
    const u = t.querySelector(".prompt-editor-panel");
    u && (u.style.cssText = ""), t.classList.add("is-visible"), this.state.isModalOpen = !0, this.panelManager && typeof this.panelManager.loadAvailableModels == "function" && this.panelManager.loadAvailableModels();
  }
  // Navigate to specific step
  goToStep(e) {
    const t = document.getElementById("wizard-step-1"), a = document.getElementById("wizard-step-2"), r = document.querySelector('.wizard-step[data-step="1"]'), n = document.querySelector('.wizard-step[data-step="2"]');
    if (!t || !a) {
      console.warn("[EditorPanel] Step content elements not found");
      return;
    }
    e === 1 ? (t.style.display = "flex", a.style.display = "none", r && (r.classList.add("active"), r.style.background = "rgba(255,255,255,0.25)", r.style.opacity = "1", r.querySelector(".wizard-step-num").style.background = "#fff", r.querySelector(".wizard-step-num").style.color = "#667eea"), n && (n.classList.remove("active"), n.style.background = "transparent", n.style.opacity = "0.7", n.querySelector(".wizard-step-num").style.background = "rgba(255,255,255,0.3)", n.querySelector(".wizard-step-num").style.color = "#fff")) : e === 2 && (t.style.display = "none", a.style.display = "flex", r && (r.classList.remove("active"), r.style.background = "transparent", r.style.opacity = "0.7", r.querySelector(".wizard-step-num").style.background = "rgba(255,255,255,0.3)", r.querySelector(".wizard-step-num").style.color = "#fff"), n && (n.classList.add("active"), n.style.background = "rgba(255,255,255,0.25)", n.style.opacity = "1", n.querySelector(".wizard-step-num").style.background = "#fff", n.querySelector(".wizard-step-num").style.color = "#667eea")), o.debug(`[EditorPanel] Navigated to Step ${e}`);
  }
  _getVariableHelpMarkdown() {
    const e = [
      ["text", "var_text_desc", "`placeholder`, `default`", '`{{summary | text:placeholder="Enter summary"}}`'],
      ["textarea", "var_textarea_desc", "`placeholder`, `default`", '`{{article | textarea:placeholder="Enter article content"}}`'],
      ["select", "var_select_desc", "`options` (JSON array), `default`", '`{{status | select:options=["Done","In Progress"]:default="In Progress"}}`'],
      ["number", "var_number_desc", "`placeholder`, `default`", "`{{quantity | number:default=1}}`"],
      ["checkbox", "var_checkbox_desc", "`default` (Boolean)", "`{{include_summary | checkbox:default=true}}`"],
      ["date", "var_date_desc", "`default`", '`{{start_date | date:default="2024-01-01"}}`'],
      ["datetime-local", "var_datetime_local_desc", "`default`", "`{{meeting_time | datetime-local}}`"],
      ["color", "var_color_desc", "`default` (Hex)", '`{{brand_color | color:default="#FF5733"}}`'],
      ["email", "var_email_desc", "`placeholder`, `default`", '`{{recipient | email:placeholder="Enter email"}}`'],
      ["month", "var_month_desc", "`default`", '`{{report_month | month:default="2024-08"}}`'],
      ["range", "var_range_desc", "`min`, `max`, `step`, `default`", "`{{satisfaction | range:min=0:max=100:step=1:default=75}}`"],
      ["tel", "var_tel_desc", "`placeholder`, `default`", "`{{contact_number | tel}}`"],
      ["time", "var_time_desc", "`default`", '`{{start_time | time:default="09:00"}}`'],
      ["url", "var_url_desc", "`placeholder`, `default`", '`{{source_url | url:placeholder="https://example.com"}}`']
    ], t = `| ${s.t("var_table_type")} | ${s.t("var_table_desc")} | ${s.t("var_table_props")} | ${s.t("var_table_example")} |`, a = "| ---------------- | ------------------------------------------------------ | ------------------------------ | ---------------------------------------------------------------- |", r = e.map((n) => {
      const [i, c, l, d] = n;
      return `| **${i}** | ${s.t(c)} | ${l} | ${d} |`;
    }).join(`
`);
    return `
${s.t("available_variables_intro")}

${t}
${a}
${r}
        `.trim();
  }
  // Prefill the form with data (e.g., from AI generation)
  prefillForm(e) {
    if (!e) return;
    o.debug("[EditorPanel] Prefilling form with data:", e);
    const t = document.getElementById("prompt-edit-title"), a = document.getElementById("prompt-edit-content"), r = document.getElementById("prompt-edit-category"), n = document.getElementById("prompt-edit-id");
    t && (t.value = e.title || ""), a && (a.value = e.content || ""), n && (n.value = e.id || ""), r && e.category && (Array.from(r.options).some((c) => c.value === e.category) ? r.value = e.category : console.warn(`[EditorPanel] Category ${e.category} not found in select options.`)), this.goToStep(2);
  }
}
class J {
  constructor(e, t) {
    this.title = e, this.buttonsConfig = t, this.element = this._render();
  }
  _render() {
    const e = document.createElement("div");
    e.className = "flex items-center justify-between px-2.5 py-1.5 flex-shrink-0";
    const t = document.createElement("h2");
    t.className = "text-sm font-semibold", t.textContent = this.title, e.appendChild(t);
    const a = document.createElement("div");
    return a.className = "header-actions flex items-center gap-2", this.buttonsConfig.forEach((r) => {
      const n = document.createElement("button");
      n.type = "button", n.className = `btn-header inline-flex items-center gap-1 text-sm rounded-md px-2.5 py-1.5 border border-transparent hover:bg-white/10 ${r.className || ""}`, n.title = r.title, r.id && (n.id = r.id), r.action && (n.dataset.action = r.action);
      let i = `<span class="btn-icon">${r.icon}</span>`;
      r.text && (i += `<span class="btn-text">${r.text}</span>`), n.innerHTML = i, r.style && (n.style.cssText = r.style), a.appendChild(n);
    }), e.appendChild(a), e;
  }
}
class Y {
  constructor(e) {
    this.config = e, this.element = this._render();
  }
  _render() {
    const e = document.createElement("div");
    e.className = `px-3 py-2 border-b border-gray-100 dark:border-gray-800 flex-shrink-0 relative z-10 ${this.config.containerClass || ""}`;
    const t = document.createElement("input");
    if (t.type = "text", t.placeholder = this.config.placeholder, t.className = `w-full rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-850 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 ${this.config.inputClass || ""}`, t.oninput = this.config.oninput, e.appendChild(t), this.config.button) {
      const a = document.createElement("button");
      a.className = `${this.config.button.className} btn-secondary inline-flex items-center gap-1 rounded-md px-3 py-1.5 border border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-850 hover:bg-gray-100 dark:hover:bg-gray-800`, a.dataset.action = this.config.button.action, a.textContent = this.config.button.text, e.appendChild(a);
    }
    return e;
  }
}
class X {
  /**
   * @param {Object} config
   * @param {Array} config.categories - List of category objects
   * @param {Array} config.prompts - List of all prompts (for counting)
   * @param {string} config.activeCategoryId - Currently active category ID
   * @param {string} config.displayMode - 'tabs' or 'list'
   * @param {Object} config.callbacks
   * @param {Function} config.callbacks.onFilter - (categoryId) => void
   * @param {Function} config.callbacks.onAdd - () => void
   * @param {Function} config.callbacks.onEdit - (categoryId) => void
   * @param {Function} config.callbacks.onDelete - (categoryId) => void
   */
  constructor(e) {
    this.config = e, this.element = document.createElement("div"), this._initContainer(), this.update();
  }
  _initContainer() {
    this.config.displayMode === "tabs" ? (this.element.className = "flex flex-wrap gap-2 px-4 py-2 border-b border-gray-100 dark:border-gray-800 flex-shrink-0", this.element.id = "quick-panel-categories") : (this.element.className = "flex flex-col gap-1 p-0 border-none", this.element.id = "category-list");
  }
  update(e = {}) {
    this.config = { ...this.config, ...e }, this.element.innerHTML = "", this.config.displayMode === "tabs" ? this._renderTabs() : this._renderList();
  }
  _getCategoryIcon(e, t = null) {
    return t && t.icon ? t.icon : {
      writing: "âœï¸",
      productivity: "ğŸš€",
      learning: "ğŸ“",
      coding: "ğŸ’»",
      data: "ğŸ“Š",
      lifestyle: "ğŸ ",
      roleplay: "ğŸ­",
      all: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" /></svg>',
      favorites: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline-block mr-1 text-red-500"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>',
      uncategorized: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 inline-block mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z" /></svg>'
    }[e] || "ğŸ“";
  }
  _renderTabs() {
    const e = this.config.activeCategoryId || "all";
    this.element.appendChild(this._createTab("all", `${this._getCategoryIcon("all")}${s.t("all_categories")}`, e === "all")), this.element.appendChild(this._createTab("favorites", `${this._getCategoryIcon("favorites")}${s.t("favorite")}`, e === "favorites")), this.config.categories.forEach((a) => {
      if (this.config.prompts.filter((n) => n.category === a.id).length > 0) {
        const n = a.name, i = this._getCategoryIcon(a.id, a);
        this.element.appendChild(this._createTab(a.id, `${i} ${n}`, e === a.id));
      }
    }), this.config.prompts.filter((a) => !a.category || a.category === "null").length > 0 && this.element.appendChild(this._createTab("uncategorized", `${this._getCategoryIcon("uncategorized")}${s.t("uncategorized")}`, e === "uncategorized"));
  }
  _createTab(e, t, a) {
    const r = document.createElement("button"), n = "category-tab px-3 py-1.5 rounded-full text-sm font-medium transition-colors flex items-center", i = "active bg-blue-500 text-white", c = "bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700";
    return r.className = `${n} ${a ? i : c}`, r.dataset.categoryId = e, r.innerHTML = `${t}`, r.addEventListener("click", (l) => {
      l.preventDefault(), l.stopPropagation(), this.config.callbacks.onFilter && this.config.callbacks.onFilter(e);
    }), r;
  }
  _renderList() {
    const e = this.config.activeCategoryId || "all", t = (c) => {
      const l = c === e, d = "category-item group flex items-center justify-between px-3 py-2 rounded-md cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors min-h-[36px]";
      return l ? `${d} active bg-gray-100 dark:bg-gray-800 font-medium` : d;
    }, a = (c, l, d, p, u = !1) => {
      const m = document.createElement("div");
      m.className = t(c), m.dataset.action = "filterByCategory", m.dataset.categoryId = c;
      const g = `
                <div class="flex items-center gap-2.5 flex-1 min-w-0 overflow-hidden">
                    <span class="category-icon flex-shrink-0 text-gray-500 dark:text-gray-400 ${c === "favorites" ? "text-red-500" : ""}">
                        ${d}
                    </span>
                    <span class="category-name truncate text-sm">${l}</span>
                </div>
            `;
      let h = "";
      if (u ? h = `
                    <span class="text-xs text-gray-400 font-mono ml-2">${p}</span>
                ` : h = `
                    <div class="flex items-center justify-end ml-2 min-w-[48px]">
                        <!-- Count: Visible by default, hidden on hover -->
                        <span class="category-count text-xs text-gray-400 font-mono group-hover:hidden">${p}</span>
                        
                        <!-- Actions: Hidden by default, visible on hover -->
                        <div class="category-actions hidden group-hover:flex items-center gap-1">
                            <button class="action-btn-edit w-6 h-6 flex items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 transition-colors" title="${s.t("edit")}">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" /></svg>
                            </button>
                            <button class="action-btn-delete w-6 h-6 flex items-center justify-center rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors" title="${s.t("delete")}">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3.5 h-3.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>
                            </button>
                        </div>
                    </div>
                `, m.innerHTML = g + h, m.onclick = () => this.config.callbacks.onFilter && this.config.callbacks.onFilter(c), !u) {
        const v = m.querySelector(".action-btn-edit"), b = m.querySelector(".action-btn-delete");
        v && (v.onclick = (_) => {
          _.stopPropagation(), this._editingCategoryId = c, this.update();
        }), b && (b.onclick = (_) => {
          _.stopPropagation(), this.config.callbacks.onDelete && this.config.callbacks.onDelete(c);
        });
      }
      return m;
    }, r = this.config.prompts.length;
    this.element.appendChild(a(
      "all",
      s.t("all_categories"),
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" /></svg>',
      r,
      !0
    ));
    const n = this.config.prompts.filter((c) => c.isFavorite).length;
    this.element.appendChild(a(
      "favorites",
      s.t("favorite"),
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>',
      n,
      !0
    ));
    const i = this.config.prompts.filter((c) => !c.category || c.category === "null").length;
    this.element.appendChild(a(
      "uncategorized",
      s.t("uncategorized"),
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z" /></svg>',
      i,
      !0
    )), this.config.categories.forEach((c) => {
      if (this._editingCategoryId === c.id) {
        const l = document.createElement("div");
        l.className = "category-item flex items-center gap-2 px-3 py-2 rounded-md bg-white dark:bg-gray-800 border border-blue-500 shadow-sm";
        const d = document.createElement("input");
        d.type = "text", d.value = c.name, d.className = "flex-1 min-w-0 px-2 py-1 text-sm bg-transparent border-none focus:ring-0 p-0";
        const p = () => {
          const u = d.value.trim();
          u && u !== c.name && this.config.callbacks.onUpdate && this.config.callbacks.onUpdate(c.id, u), this._editingCategoryId = null, this.update();
        };
        d.onkeydown = (u) => {
          u.key === "Enter" ? p() : u.key === "Escape" && (this._editingCategoryId = null, this.update()), u.stopPropagation();
        }, d.onblur = () => setTimeout(p, 100), l.appendChild(d), this.element.appendChild(l), setTimeout(() => d.focus(), 0);
      } else {
        const l = this.config.prompts.filter((p) => p.category === c.id).length, d = this._getCategoryIcon(c.id, c);
        this.element.appendChild(a(
          c.id,
          c.name,
          d,
          l,
          !1
          // isSpecial = false, enables hover actions
        ));
      }
    });
  }
}
class N {
  constructor(e, t = {}) {
    this.container = e, this.callbacks = t;
  }
  render(e, t) {
    const a = this.container.querySelector(".panel-pager");
    a && a.remove();
    const r = document.createElement("div");
    if (r.className = "panel-pager flex items-center justify-center p-2 text-xs gap-4", r.style.display = "flex", r.style.alignItems = "center", r.style.justifyContent = "center", r.style.padding = "8px 12px", this.container.style.display = "flex", this.container.style.justifyContent = "center", this.container.style.marginTop = "auto", this.container.style.flexShrink = "0", t > 1) {
      const n = e === 1, i = e === t;
      r.innerHTML = `
                <button class="px-2 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed" ${n ? "disabled" : ""}>
                    < ${s.t("prev_page")}
                </button>
                <span>${s.t("page_info").replace("{current}", e).replace("{total}", t)}</span>
                <button class="px-2 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed" ${i ? "disabled" : ""}>
                    ${s.t("next_page")} >
                </button>
            `, this._bindEvents(r);
    } else
      t === 1 ? r.innerHTML = `
                    <button class="px-2 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        < ${s.t("prev_page")}
                    </button>
                    <span>${s.t("page_info").replace("{current}", 1).replace("{total}", 1)}</span>
                    <button class="px-2 py-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        ${s.t("next_page")} >
                    </button>
                ` : r.style.display = "none";
    this.container.appendChild(r);
  }
  _bindEvents(e) {
    const t = e.querySelectorAll("button");
    if (t.length !== 2) return;
    const a = t[0], r = t[1];
    a.disabled || (a.onclick = (n) => {
      n.preventDefault(), n.stopPropagation(), this.callbacks.onPageChange && this.callbacks.onPageChange("prev");
    }), r.disabled || (r.onclick = (n) => {
      n.preventDefault(), n.stopPropagation(), this.callbacks.onPageChange && this.callbacks.onPageChange("next");
    });
  }
}
class ee {
  /**
   * Setup list keyboard navigation
   * @param {HTMLElement} panel - Panel element
   * @param {Object} config - Configuration object
   * @param {string} config.containerSelector - List container selector
   * @param {string} config.itemSelector - List item selector
   * @param {Function} config.onEnter - Enter key callback (item, index) => void
   * @param {Function} config.onClose - ESC key callback () => void
   * @param {Object} config.panelManager - PanelManager instance (used to check modal state)
   */
  static setup(e, {
    containerSelector: t,
    itemSelector: a,
    onEnter: r = (c) => {
    },
    onClose: n = () => {
    },
    panelManager: i
  }) {
    if (!e) return null;
    let c = -1, l = [];
    const d = () => e.querySelector(t), p = () => {
      const _ = d();
      l = _ ? Array.from(_.querySelectorAll(a)) : [];
    }, u = () => {
      l.forEach((_) => _.classList.remove("keyboard-selected")), c = -1;
    }, m = (_, y) => {
      if (!_ || !y || _.id === "quick-prompt-list")
        return;
      const x = (ae, re) => {
        let V = 0, z = ae;
        for (; z && z !== re; )
          V += z.offsetTop, z = z.offsetParent;
        return V;
      }, w = 4, k = _.clientHeight, E = _.scrollTop, C = x(y, _), A = C + y.offsetHeight, q = E, M = E + k;
      C < q + w ? _.scrollTop = Math.max(0, C - w) : A > M - w && (_.scrollTop = A - k + w);
    }, g = (_) => {
      if (u(), l.forEach((y) => y.classList.remove("hover")), _ >= 0 && _ < l.length) {
        const y = l[_];
        y.classList.add("keyboard-selected"), c = _, m(d(), y);
      }
    }, h = () => {
      const _ = d();
      _ && (_.addEventListener("mouseover", (y) => {
        const x = y.target.closest(a);
        x && l.includes(x) && (l.forEach((w) => w.classList.remove("hover")), x.classList.add("hover"));
      }), _.addEventListener("mouseleave", () => {
        l.forEach((y) => y.classList.remove("hover"));
      }), _.addEventListener("click", (y) => {
        const x = y.target.closest(a);
        if (x && l.includes(x)) {
          const w = l.indexOf(x);
          g(w);
        }
      }));
    }, v = (_) => {
      const y = e.id.includes("quick") ? "quick" : "management";
      if (y !== "quick" && i && i.state && i.state.isModalOpen || e.style.display === "none" || e.style.visibility === "hidden" || getComputedStyle(e).display === "none") return;
      o.debug("KeyboardNav keydown:", _.key, "Selected:", c);
      const w = i && i.state ? i.state.pagination[y] : null, k = e.querySelector(".quick-search, .main-search"), E = k && document.activeElement === k, C = (A = 0) => {
        y === "quick" && i ? i.updateQuickPromptList() : i && i.updatePromptList && i.updatePromptList(), setTimeout(() => {
          p(), l.length > 0 && g(A === "last" ? l.length - 1 : A);
        }, 50);
      };
      switch (_.key) {
        case "ArrowDown":
          if (_.preventDefault(), p(), l.length > 0)
            if (w && c === l.length - 1 && w.currentPage < Math.ceil(w.totalItems / w.itemsPerPage))
              w.currentPage++, C(0);
            else {
              const M = c === -1 ? 0 : Math.min(c + 1, l.length - 1);
              g(M);
            }
          break;
        case "ArrowLeft":
          if (o.debug("ArrowLeft pressed. panelManager:", !!i), E) return;
          _.preventDefault(), i && i.cycleCategory("prev", y);
          break;
        case "ArrowRight":
          if (o.debug("ArrowRight pressed. panelManager:", !!i), E) return;
          _.preventDefault(), i && i.cycleCategory("next", y);
          break;
        case "ArrowUp":
          if (_.preventDefault(), p(), l.length > 0)
            if (w && c === 0 && w.currentPage > 1)
              w.currentPage--, C("last");
            else {
              const M = c === -1 ? l.length - 1 : Math.max(c - 1, 0);
              g(M);
            }
          break;
        case "Home":
          _.preventDefault(), l.length > 0 && g(0);
          break;
        case "End":
          _.preventDefault(), l.length > 0 && g(l.length - 1);
          break;
        case "PageDown":
          _.preventDefault(), w && w.currentPage < Math.ceil(w.totalItems / w.itemsPerPage) && (w.currentPage++, C(), setTimeout(() => g(0), 50));
          break;
        case "PageUp":
          _.preventDefault(), w && w.currentPage > 1 && (w.currentPage--, C(), setTimeout(() => g(0), 50));
          break;
        case "Enter":
          _.preventDefault(), p(), c >= 0 && c < l.length ? r(l[c], c) : E && l.length > 0 && (g(0), r(l[0], 0));
          break;
        case "Escape":
          _.preventDefault(), c !== -1 ? u() : n();
          break;
        default:
          const A = _.target.tagName.toLowerCase(), q = ["input", "textarea", "select"].includes(A);
          if (!E && !q && _.key.length === 1 && !_.ctrlKey && !_.metaKey && !_.altKey && k) {
            k.focus(), k.value += _.key;
            const M = new Event("input", { bubbles: !0 });
            k.dispatchEvent(M), setTimeout(() => {
              p(), l.length > 0 && g(0);
            }, 50);
          }
          break;
      }
    };
    e.addEventListener("keydown", v);
    const b = e.querySelector(".quick-search, .main-search");
    return b && (b.addEventListener("input", () => {
      setTimeout(() => {
        p(), l.length > 0 ? g(0) : u();
      }, 50);
    }), b.addEventListener("keydown", (_) => {
      if (_.key === "ArrowDown" || _.key === "ArrowUp")
        _.preventDefault();
      else if (_.key === "Escape")
        if (_.preventDefault(), _.stopPropagation(), b.value) {
          b.value = "";
          const y = new Event("input", { bubbles: !0 });
          b.dispatchEvent(y), setTimeout(() => {
            p(), l.length > 0 && g(0);
          }, 50);
        } else {
          b.blur();
          try {
            e.focus({ preventScroll: !0 });
          } catch {
            e.focus();
          }
        }
    })), setTimeout(() => {
      p(), l.length > 0 && g(0);
    }, 0), h(), {
      getSelectedIndex: () => c,
      setSelection: g,
      clearSelection: u,
      updateItems: p,
      handleKeyDown: v,
      getItems: () => l
    };
  }
}
class te {
  /**
   * @param {Object} prompt - The prompt data object
   * @param {string} viewType - 'compact' or 'detailed'
   * @param {Array} categories - List of available categories
   * @param {Object} callbacks - Interaction callbacks
   * @param {Function} callbacks.onInsert - Called when prompt is selected/inserted
   * @param {Function} callbacks.onFavorite - Called when favorite is toggled
   * @param {Function} callbacks.onEdit - Called when edit is triggered
   * @param {Function} callbacks.onDelete - Called when delete is triggered
   * @param {Function} callbacks.onUpdateCategory - Called when category is changed
   */
  constructor(e, t = "compact", a = [], r = {}) {
    this.prompt = e, this.viewType = t, this.categories = a, this.callbacks = r, this.element = this._render();
  }
  _render() {
    const e = document.createElement("div");
    return this.viewType === "compact" ? this._renderCompact(e) : this._renderDetailed(e), e;
  }
  _renderCompact(e) {
    e.className = "prompt-item prompt-item--compact p-3 rounded-lg cursor-pointer transition-colors hover:bg-gray-100 dark:hover:bg-gray-700" + (this.prompt.isFavorite ? " favorite" : ""), e.innerHTML = `
            <div class="prompt-title font-medium text-gray-800 dark:text-gray-100">${this.prompt.title}</div>
            <div class="prompt-preview text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap overflow-hidden text-ellipsis">${this.prompt.content.substring(0, 50)}...</div>
        `, e.onclick = (t) => {
      this.callbacks.onInsert && this.callbacks.onInsert(this.prompt, t);
    };
  }
  _renderDetailed(e) {
    e.className = "prompt-item prompt-item--detailed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 flex flex-row items-center justify-between gap-4 transition-colors hover:bg-gray-50 dark:hover:bg-gray-700", e.dataset.promptId = this.prompt.id;
    const t = document.createElement("select");
    t.className = "text-sm rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500", t.dataset.action = "updatePromptCategory", t.dataset.promptId = this.prompt.id, t.title = s.t("change_category"), t.onchange = (l) => {
      this.callbacks.onUpdateCategory && this.callbacks.onUpdateCategory(this.prompt.id, l.target.value);
    };
    const a = document.createElement("option");
    a.value = "null", a.textContent = s.t("uncategorized"), t.appendChild(a), this.categories.forEach((l) => {
      const d = document.createElement("option");
      d.value = l.id, d.textContent = l.name, t.appendChild(d);
    }), t.value = this.prompt.category || "null", e.innerHTML = `
            <div class="flex flex-col items-start cursor-pointer prompt-title-area" style="flex: 1; min-width: 0;" data-action="usePrompt">
                <h4 class="text-base font-semibold text-gray-800 dark:text-gray-100 truncate w-full">${this.prompt.title}</h4>
                <div class="text-xs text-gray-500 dark:text-gray-400 flex gap-3 mt-1">
                    <span>${s.t("usage_count")}: ${this.prompt.usageCount}</span>
                    <span>${s.t("created_at")}: ${new Date(this.prompt.createdAt).toLocaleDateString()}</span>
                </div>
            </div>
            <div class="prompt-category-selector-container" style="width: 140px; flex-shrink: 0;"></div>
            <div class="flex gap-2 flex-shrink-0">
                <button data-action="toggleFavorite" data-prompt-id="${this.prompt.id}" class="btn-icon-only btn-header ${this.prompt.isFavorite ? "favorited" : ""} text-gray-400 hover:text-red-500 transition-colors" title="${s.t("favorite")}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="${this.prompt.isFavorite ? "currentColor" : "none"}" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" /></svg>
                </button>
                <button data-action="editPrompt" data-prompt-id="${this.prompt.id}" class="btn-icon-only btn-header text-gray-400 hover:text-blue-500 transition-colors" title="${s.t("edit")}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" /></svg>
                </button>
                <button data-action="deletePrompt" data-prompt-id="${this.prompt.id}" class="btn-icon-only btn-header text-gray-400 hover:text-red-500 transition-colors" title="${s.t("delete")}">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>
                </button>
            </div>
        `;
    const r = e.querySelector(".prompt-title-area");
    r && (r.onclick = (l) => {
      l.stopPropagation(), this.callbacks.onInsert && this.callbacks.onInsert(this.prompt, l);
    });
    const n = e.querySelector('button[data-action="toggleFavorite"]');
    n && (n.onclick = async (l) => {
      l.stopPropagation();
      const d = n.classList.toggle("favorited");
      try {
        this.callbacks.onFavorite && await this.callbacks.onFavorite(this.prompt.id);
      } catch {
        n.classList.toggle("favorited", !d);
      }
    });
    const i = e.querySelector('button[data-action="editPrompt"]');
    i && this.callbacks.onEdit && (i.onclick = (l) => {
      l.stopPropagation(), this.callbacks.onEdit(this.prompt.id);
    });
    const c = e.querySelector('button[data-action="deletePrompt"]');
    c && this.callbacks.onDelete && (c.onclick = (l) => {
      l.stopPropagation(), this.callbacks.onDelete(this.prompt.id);
    }), e.querySelector(".prompt-category-selector-container").appendChild(t);
  }
}
class B {
  /**
   * Highlight matching text
   * @param {string} text - Original text
   * @param {Array} matches - Array of match information
   * @param {string} fieldName - Field name
   * @returns {string} Highlighted HTML string
   */
  static highlightMatches(e, t, a) {
    if (!t || !Array.isArray(t))
      return e;
    const r = t.find((c) => c.key === a);
    if (!r || !r.indices)
      return e;
    let n = "", i = 0;
    return r.indices.forEach(([c, l]) => {
      n += e.slice(i, c), n += `<mark>${e.slice(c, l + 1)}</mark>`, i = l + 1;
    }), n += e.slice(i), n;
  }
}
class Ie {
  constructor(e) {
    this.manager = e, this._lastQuery = "";
  }
  get state() {
    return this.manager.state;
  }
  get promptManager() {
    return this.manager.promptManager;
  }
  get domUtils() {
    return this.manager.domUtils;
  }
  get scrollUtils() {
    return this.manager.scrollUtils;
  }
  create(e) {
    if (document.getElementById("quick-insert-panel")) return;
    const t = document.createElement("div");
    t.id = "quick-insert-panel", t.className = "unified-panel unified-panel-modal unified-panel--quick-insert", t.style.visibility = "hidden";
    const a = document.createElement("div");
    a.className = "panel-header-container";
    const r = new J(s.t("quick_insert"), [{
      title: s.t("new_prompt"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>',
      action: "createNewPromptViaQuickPanel",
      className: "btn-icon-only"
    }, {
      title: s.t("manage_prompts"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>',
      action: "navigateToManagementPanel",
      className: "btn-icon-only"
    }, {
      title: s.t("close"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>',
      id: "pes-quick-close-btn",
      // Direct binding ID
      action: "closeQuickInsertPanel",
      className: "btn-icon-only btn-close"
    }]).element, n = document.createElement("div");
    n.className = "panel-fixed-header flex-shrink-0";
    const i = new Y({
      containerClass: "search-bar-container",
      inputClass: "quick-search",
      placeholder: s.t("search_prompts_placeholder"),
      oninput: (h) => this.filter(h.target.value)
    }).element;
    this.categoryFilter = new X({
      categories: this.promptManager.categories,
      prompts: this.promptManager.prompts,
      activeCategoryId: this.state.currentQuickCategoryId,
      displayMode: "tabs",
      callbacks: {
        onFilter: (h) => this.filterByCategory(h)
      }
    });
    const c = this.categoryFilter.element, l = document.createElement("div");
    l.className = "hint-inline", l.innerHTML = s.t("hint_inline"), n.append(i, l, c), a.append(r, n);
    const d = document.createElement("div");
    d.className = "flex-1 p-2 min-h-0 overflow-y-auto", d.id = "quick-prompt-list";
    const p = document.createElement("div");
    p.id = "quick-panel-footer", p.className = "flex-shrink-0 border-t border-gray-100 dark:border-gray-800 flex items-center justify-center", p.style.cssText = "display: flex; align-items: center; justify-content: center; min-height: 40px;", t.append(a, d, p), e.appendChild(t), this.pagination || (this.pagination = new N(p, {
      onPageChange: (h) => this.changePage(h)
    })), this._calculatePageSize(), this.updateList(), this.setupKeyboard(t), this.setupSelection(t), this.setupActions(t);
    const u = t.querySelector("#pes-quick-close-btn");
    u && (u.onclick = (h) => {
      h.preventDefault(), h.stopPropagation(), o.debug("Direct .onclick for close button fired."), this.manager.closeAllPanels();
    });
    const m = t.querySelector("#pes-show-help-btn");
    m && (m.removeAttribute("data-action"), m.addEventListener("pointerdown", (h) => {
      h.preventDefault(), h.stopPropagation(), h.stopImmediatePropagation(), this.manager._suppressGlobalCloseOnce = !0;
    }, !0), m.onclick = (h) => {
      h.preventDefault(), h.stopPropagation(), h.stopImmediatePropagation(), o.debug("Direct .onclick for help button fired."), this.manager._suppressGlobalCloseOnce = !0, this.manager.toggleShortcutHelp();
    });
    const g = t.querySelector('.hint-inline [data-action="toggleShortcutHelp"]');
    g && (g.getAttribute("href") !== "javascript:void(0)" && g.setAttribute("href", "javascript:void(0)"), g.addEventListener("pointerdown", (h) => {
      h.preventDefault(), h.stopPropagation(), h.stopImmediatePropagation(), this.manager._suppressGlobalCloseOnce = !0;
    }, !0), g.addEventListener("click", (h) => {
      h.preventDefault(), h.stopPropagation(), h.stopImmediatePropagation(), this.manager._suppressGlobalCloseOnce = !0, this.manager.toggleShortcutHelp();
    }));
  }
  setupActions(e) {
    if (e.dataset.actionsBound === "true")
      return;
    const t = (a) => {
      if (a.target.closest && (a.target.closest("#pes-show-help-btn") || a.target.closest('.hint-inline [data-action="toggleShortcutHelp"]'))) {
        a.preventDefault(), a.stopPropagation(), this.manager._suppressGlobalCloseOnce = !0, this.manager.toggleShortcutHelp();
        return;
      }
      const n = a.target.closest("[data-action]");
      if (!n) return;
      const i = n.dataset.action;
      a.stopPropagation();
      const c = n.closest(".prompt-item--detailed") || n.closest(".prompt-item--compact"), l = n.dataset.promptId || (c == null ? void 0 : c.dataset.promptId), d = n.dataset.categoryId;
      switch (i) {
        case "prevPage":
        case "nextPage":
          this.changePage(i.replace("Page", "").toLowerCase());
          break;
        case "createNewPromptViaQuickPanel":
          this.manager.navigateToManagementPanel(), this.manager.createNewPrompt();
          break;
        case "navigateToManagementPanel":
          this.manager.navigateToManagementPanel();
          break;
        case "closeQuickInsertPanel":
          this.close();
          break;
        case "editPrompt":
          l && this.manager.editPrompt(l);
          break;
        case "deletePrompt":
          l && this.manager.managementPanel.deletePrompt(l);
          break;
        case "toggleFavorite":
          l && this.manager.toggleFavorite(l);
          break;
        case "filterByCategory":
          d && this.filterByCategory(d);
          break;
        case "showVariableHelp":
          this.manager.showVariableHelp();
          break;
        case "closeVariableHelp":
          this.manager.closeVariableHelp();
          break;
        default:
          typeof this.manager[i] == "function" ? this.manager[i]() : o.warn(`Unknown action: ${i}`);
          break;
      }
    };
    e.addEventListener("click", t), e.dataset.actionsBound = "true";
  }
  toggle() {
    if (s.sync(), this.promptManager.refreshCategories(), this.state.lastRenderedLang && this.state.lastRenderedLang !== s.lang) {
      const a = document.getElementById("quick-insert-panel");
      a && (a.remove(), this.state.quickPanelCreated = !1);
      const r = document.getElementById("prompt-management-panel");
      r && (r.remove(), this.state.managementPanelCreated = !1);
      const n = document.getElementById("prompt-enhancement-system");
      n && n.remove(), this.state.activePanel = null;
    }
    this.state.lastRenderedLang = s.lang;
    let e = document.getElementById("quick-insert-panel");
    if (o.debug("[QuickInsert] toggle: activePanel=%s, quickPanel=%s", this.state.activePanel, !!e), this.state.activePanel === "quick") {
      this.close();
      return;
    } else this.state.activePanel && this.manager.closeAllPanels();
    e || (this.manager.rootContainer = this.domUtils.ensureRootContainer(), this.create(this.manager.rootContainer), e = document.getElementById("quick-insert-panel"), this.state.quickPanelCreated = !0);
    const t = document.getElementById("prompt-manager-integrated-btn");
    if (e && t) {
      const a = e.querySelector("#quick-prompt-list");
      a && (a.className = "flex-1 p-2 min-h-0");
      let r = document.getElementById("quick-panel-footer") || e.querySelector("#quick-panel-footer");
      r || (r = document.createElement("div"), r.id = "quick-panel-footer", r.className = "flex-shrink-0 border-t border-gray-100 dark:border-gray-800", r.style.display = "block", e.appendChild(r)), this.pagination || (this.pagination = new N(r, {
        onPageChange: (n) => this.changePage(n)
      })), this.domUtils.createOverlay("quick"), e.style.position = "fixed", e.style.display = "flex", e.style.flexDirection = "column", e.style.zIndex = "2147483000", e.style.opacity = "1", e.style.visibility = "visible", this.manager._panelViewportGap = this.manager._panelViewportGap || 48, e.style.maxHeight = `calc(100vh - ${this.manager._panelViewportGap}px)`, e.style.overflow = "hidden", this.scrollUtils.lockBackgroundScroll(), this.state.activePanel = "quick", this.adjustPosition(e, t), this.updateList(), (typeof e.tabIndex != "number" || e.tabIndex < 0) && (e.tabIndex = 0);
      try {
        e.focus({ preventScroll: !0 });
      } catch {
        e.focus();
      }
      this.state.justOpenedQuickPanel = !0, this.state.currentQuickCategoryId = "all", this.updateCategories(), this.filterByCategory("all"), requestAnimationFrame(() => {
        if (this._calculatePageSize(), this.updateList(), e && e._quickSelection) {
          const { getSelectedIndex: n, setSelection: i, updateItems: c } = e._quickSelection;
          c();
          const l = n();
          i(l === -1 ? 0 : l);
        }
      });
    }
  }
  close() {
    const e = document.getElementById("shortcut-help-modal"), t = e && e.classList.contains("is-visible");
    if (this.manager._suppressGlobalCloseOnce || t) {
      this.manager._suppressGlobalCloseOnce = !1;
      return;
    }
    const a = document.getElementById("quick-insert-panel");
    a && (a.style.display = "none", a.style.visibility = "hidden", this.domUtils.removeOverlay(), this.scrollUtils.unlockBackgroundScroll()), this.state.activePanel = null;
  }
  updateList(e = null, t = 0) {
    const a = document.getElementById("quick-prompt-list");
    if (!a) return;
    let r = e;
    if (r === null) {
      const u = this.state.currentQuickCategoryId || "all";
      u === "all" ? r = this.promptManager.prompts : u === "favorites" ? r = this.promptManager.prompts.filter((m) => m.isFavorite) : r = this.promptManager.prompts.filter((m) => m.category === u), r = [...r].sort((m, g) => m.isFavorite && !g.isFavorite ? -1 : !m.isFavorite && g.isFavorite ? 1 : m.usageCount !== g.usageCount ? g.usageCount - m.usageCount : (g.createdAt || 0) - (m.createdAt || 0));
    }
    const n = this.state.pagination.quick;
    n.totalItems = r.length;
    const i = Math.ceil(n.totalItems / n.itemsPerPage);
    n.currentPage = Math.max(1, Math.min(n.currentPage, i)), o.debug("[QuickList] totalItems=%d, totalPages=%d, currentPage=%d", n.totalItems, i, n.currentPage);
    const c = (n.currentPage - 1) * n.itemsPerPage, l = c + n.itemsPerPage, d = r.slice(c, l);
    this._renderPrompts(a, d, "compact"), this.pagination && this.pagination.render(this.state.pagination.quick.currentPage, i), this.updateCategories(), this.manager._ensureQuickPageFits && this.manager._ensureQuickPageFits(r, t);
    const p = document.getElementById("quick-insert-panel");
    if (p && p._quickSelection) {
      const u = p._quickSelection;
      u.updateItems();
      let m = 0;
      if (this.state.justOpenedQuickPanel) {
        if (Array.isArray(r) && r.length > 0) {
          let g = -1 / 0;
          r.forEach((h, v) => {
            const b = typeof h.usageCount == "number" ? h.usageCount : 0;
            b > g && (g = b, m = v);
          });
        }
        this.state.justOpenedQuickPanel = !1;
      } else
        m = t;
      if (m === "last") {
        const g = u.getItems();
        m = g.length > 0 ? g.length - 1 : 0;
      }
      u.setSelection(m);
    }
  }
  filter(e, t = 0) {
    if (e !== (this._lastQuery || "") && (this.state.pagination.quick.currentPage = 1), this._lastQuery = e, !this.promptManager || !document.getElementById("quick-prompt-list")) return;
    if (this.manager.simpleSearch || this.manager.initializeSearchFeatures(), !e.trim()) {
      this.updateList(null, t);
      return;
    }
    let r = [];
    this.manager.simpleSearch ? r = this.manager.simpleSearch.search(e).map(({ item: i, score: c, matches: l }) => {
      const d = { ...i };
      return d._searchScore = c, d._matches = l, d;
    }) : r = this.promptManager.prompts.filter(
      (n) => n.title.toLowerCase().includes(e.toLowerCase()) || n.content.toLowerCase().includes(e.toLowerCase())
    ), this.updateList(r, t);
  }
  filterByCategory(e) {
    this.state.pagination.quick.currentPage = 1, o.debug("Filtering category:", e), this.state.currentQuickCategoryId = e, this.updateCategories();
    let t;
    e === "all" ? (t = this.promptManager.prompts, o.debug("Showing all prompts:", t.length)) : e === "favorites" ? (t = this.promptManager.prompts.filter((r) => r.isFavorite), o.debug("Showing favorite prompts:", t.length)) : e === "uncategorized" ? (t = this.promptManager.prompts.filter((r) => !r.category || r.category === "null"), o.debug("Showing uncategorized prompts:", t.length)) : (t = this.promptManager.prompts.filter((r) => r.category === e), o.debug("Showing category prompts:", e, t.length)), this.updateList(t);
    const a = document.getElementById("quick-insert-panel");
    if (a && document.activeElement !== a)
      try {
        a.focus({ preventScroll: !0 });
      } catch {
        a.focus();
      }
  }
  updateCategories() {
    document.getElementById("quick-panel-categories") && this.categoryFilter && this.categoryFilter.update({
      activeCategoryId: this.state.currentQuickCategoryId,
      prompts: this.promptManager.prompts,
      categories: this.promptManager.categories
    });
  }
  getCategoryTabs() {
    const e = document.getElementById("quick-panel-categories");
    return e ? Array.from(e.querySelectorAll(".category-tab")) : [];
  }
  cycleCategory(e = "next") {
    const t = this.getCategoryTabs();
    if (!t.length) return;
    const a = t.findIndex((n) => n.classList.contains("active")), r = a < 0 ? 0 : e === "prev" ? (a - 1 + t.length) % t.length : (a + 1) % t.length;
    t[r].click();
  }
  setupKeyboard(e) {
    e && (e.addEventListener("keydown", (t) => {
      if (t.key !== "Tab" || e.style.display === "none") return;
      t.preventDefault();
      const a = e.querySelector(".quick-search"), r = document.getElementById("quick-panel-categories"), n = r ? r.querySelector(".category-tab") : null, i = document.getElementById("quick-prompt-list"), c = i ? i.querySelector(".prompt-item--compact") : null, l = [];
      if (a && l.push(a), n && l.push(n), c && l.push(c), l.length === 0) return;
      const d = document.activeElement;
      let p = l.findIndex((m) => m === d || m.contains && m.contains(d));
      t.shiftKey ? (p === -1 && (p = 0), p = (p - 1 + l.length) % l.length) : p = (p + 1) % l.length;
      const u = l[p];
      if (u) {
        if (typeof u.tabIndex == "number" && u.tabIndex < 0) {
          u.tabIndex = 0;
          const m = () => {
            try {
              u.removeAttribute("tabindex");
            } catch {
            }
            u.removeEventListener("blur", m);
          };
          u.addEventListener("blur", m);
        }
        u.focus(), typeof u.scrollIntoView == "function" && u.scrollIntoView({ block: "nearest", behavior: "smooth" });
      }
    }, !0), typeof e.tabIndex == "number" && e.tabIndex < 0 && (e.tabIndex = 0));
  }
  setupSelection(e) {
    e && (e._quickSelection && e._quickSelection.handleKeyDown && (e.removeEventListener("keydown", e._quickSelection.handleKeyDown), e._quickSelection = null), e._quickSelection = ee.setup(e, {
      containerSelector: "#quick-prompt-list",
      itemSelector: ".prompt-item--compact",
      onEnter: (t) => {
        t.click();
      },
      onClose: () => this.close(),
      panelManager: this.manager
    }), e._quickExtraKeys && e.removeEventListener("keydown", e._quickExtraKeys), e._quickExtraKeys = (t) => {
      const a = e.querySelector(".quick-search"), r = a && document.activeElement === a;
      if (t.key === "?" || t.key === "/" && t.shiftKey) {
        t.preventDefault(), this.manager.toggleShortcutHelp();
        return;
      }
    }, e.addEventListener("keydown", e._quickExtraKeys));
  }
  adjustPosition(e, t) {
  }
  changePage(e) {
    const t = this.state.pagination.quick, a = Math.ceil(t.totalItems / t.itemsPerPage), r = document.querySelector("#quick-insert-panel .quick-search"), n = r ? r.value : "";
    e === "next" && t.currentPage < a ? t.currentPage++ : e === "prev" && t.currentPage > 1 && t.currentPage--, this.filter(n, 0);
    const i = document.getElementById("quick-insert-panel");
    i && i._quickSelection && i._quickSelection.setSelection(0);
  }
  _renderPrompts(e, t, a) {
    if (!(!this.promptManager || !e)) {
      if (e.innerHTML = "", t.length === 0) {
        const r = document.createElement("div");
        r.className = "prompt-item empty-state", r.innerHTML = `
                <div class="prompt-title">${s.t("no_prompts")}</div>
                <div class="prompt-preview">${s.t("no_prompts_hint")}</div>
            `, e.appendChild(r);
        return;
      }
      t.forEach((r) => {
        const n = new te(r, a, this.promptManager.categories, {
          onInsert: (i, c) => this.manager.insertPrompt(i, c),
          onFavorite: (i) => this.manager.toggleFavorite(i)
        }).element;
        if (a === "compact" && r._matches) {
          const i = B.highlightMatches(r.title, r._matches, "title"), c = B.highlightMatches(
            r.content.substring(0, 50) + (r.content.length > 50 ? "..." : ""),
            r._matches,
            "content"
          );
          n.querySelector(".prompt-title").innerHTML = i, n.querySelector(".prompt-preview").innerHTML = c;
        }
        e.appendChild(n);
      });
    }
  }
  _calculatePageSize() {
    const e = document.getElementById("quick-prompt-list"), t = document.getElementById("quick-insert-panel"), a = document.getElementById("quick-panel-footer");
    if (!e || !t) {
      this.state.pagination && this.state.pagination.quick && (this.state.pagination.quick.itemsPerPage = 5);
      return;
    }
    const r = getComputedStyle(e), n = parseFloat(r.paddingTop) || 0, i = parseFloat(r.paddingBottom) || 0, c = t.getBoundingClientRect(), l = e.getBoundingClientRect(), d = a && a.getBoundingClientRect().height || 40, p = c.bottom - l.top - d - n - i - 4, u = e.querySelectorAll(".prompt-item--compact");
    let m = 0, g = 8;
    if (u.length >= 2) {
      const b = u[0].getBoundingClientRect(), _ = u[1].getBoundingClientRect();
      m = b.height, g = _.top - b.bottom;
    } else u.length === 1 ? m = u[0].getBoundingClientRect().height : m = 56;
    const h = m + g;
    let v = Math.floor((p + g + 4) / h);
    v = Math.max(4, v), this.state.pagination && this.state.pagination.quick && this.state.pagination.quick.itemsPerPage !== v && (this.state.pagination.quick.itemsPerPage = v, o.debug(`[QuickInsert] Dynamic page size: ${v} items (available: ${p.toFixed(0)}px, item: ${m.toFixed(0)}px, gap: ${g.toFixed(0)}px, total: ${h.toFixed(0)}px)`));
  }
}
const ke = [
  { char: "âœï¸", keywords: "writing article copy edit" },
  { char: "ğŸš€", keywords: "productivity fast launch speed" },
  { char: "ğŸ“", keywords: "learning study education school" },
  { char: "ğŸ’»", keywords: "coding programming dev tech" },
  { char: "ğŸ“Š", keywords: "data analysis chart stats" },
  { char: "ğŸ ", keywords: "lifestyle home house life" },
  { char: "ğŸ­", keywords: "roleplay character game play" },
  { char: "ğŸ“", keywords: "note content creation" },
  { char: "ğŸ¨", keywords: "art design creative" },
  { char: "ğŸ”", keywords: "search research find" },
  { char: "ğŸ’¡", keywords: "idea light inspiration" },
  { char: "ğŸ› ï¸", keywords: "tools build fix" },
  { char: "ğŸ“", keywords: "folder file organize" },
  { char: "ğŸ“…", keywords: "calendar date plan" },
  { char: "ğŸ“§", keywords: "email mail message" },
  { char: "ğŸ’¬", keywords: "chat talk conversation" },
  { char: "ğŸ¤–", keywords: "ai robot bot" },
  { char: "ğŸ§ ", keywords: "brain mind think" },
  { char: "âœ¨", keywords: "sparkle magic clean" },
  { char: "ğŸ”¥", keywords: "fire hot popular" },
  { char: "ğŸŒˆ", keywords: "rainbow color fun" },
  { char: "ğŸŒ", keywords: "world earth global" },
  { char: "âš™ï¸", keywords: "settings gear config" },
  { char: "ğŸ”’", keywords: "lock private security" },
  { char: "ğŸ“±", keywords: "mobile phone app" },
  { char: "ğŸ®", keywords: "game play fun" },
  { char: "ğŸµ", keywords: "music sound audio" },
  { char: "ğŸ“·", keywords: "camera photo image" },
  { char: "ğŸ¬", keywords: "movie video film" },
  { char: "ğŸ’¼", keywords: "business work office" },
  { char: "ğŸ›’", keywords: "shop cart buy" },
  { char: "ğŸ", keywords: "gift present surprise" },
  { char: "ğŸ”", keywords: "food eat meal" },
  { char: "âš½", keywords: "sport ball game" },
  { char: "âœˆï¸", keywords: "travel flight plane" },
  { char: "ğŸ¥", keywords: "health medical doctor" },
  { char: "ğŸ’°", keywords: "money cash finance" }
];
class Pe {
  constructor(e = {}) {
    this.callbacks = e, this.selectedIcon = "ğŸ“", this.element = this._render(), this.form = this.element.querySelector("form"), this.modalTitle = this.element.querySelector(".modal-header h3"), this.iconPreview = this.element.querySelector("#category-icon-preview"), this.emojiPicker = this.element.querySelector("#emoji-picker"), this.emojiSearch = this.element.querySelector("#emoji-search"), this.emojiGrid = this.element.querySelector("#emoji-grid"), this._bindEvents();
  }
  _render() {
    const e = document.createElement("div");
    return e.id = "category-edit-modal", e.className = "prompt-modal", e.innerHTML = `
            <div class="prompt-modal-content modal-sm" style="width: 400px; max-width: 90vw; background: #fff; border-radius: 12px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35); display: flex; flex-direction: column; overflow: hidden;">
                <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; flex-shrink: 0;">
                    <h3 id="category-modal-title" style="font-size: 1rem; font-weight: 600; margin: 0; color: #fff;">${s.t("new_category")}</h3>
                    <button type="button" class="btn-close" data-action="closeCategoryModal" title="${s.t("close")}" style="width: 28px; height: 28px; padding: 0; display: flex; align-items: center; justify-content: center; border: none; border-radius: 6px; background: rgba(255, 255, 255, 0.2); color: #fff; cursor: pointer; font-size: 18px; transition: background 0.2s;">Ã—</button>
                </div>
                <form id="category-edit-form" style="padding: 20px; display: flex; flex-direction: column; gap: 16px;">
                    <input type="hidden" id="category-edit-id">
                    
                    <!-- Icon Selection -->
                    <div class="form-group" style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="font-size: 13px; font-weight: 500; color: #374151;">${s.t("select_icon")}</label>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <div id="category-icon-preview" style="width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; font-size: 24px; background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 10px; cursor: pointer; transition: all 0.2s;">ğŸ“</div>
                            <div style="flex: 1; position: relative;">
                                <input type="text" id="emoji-search" placeholder="${s.t("search_icon")}" style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 13px; outline: none;">
                                <div id="emoji-picker" style="display: none; position: absolute; top: 100%; left: 0; right: 0; z-index: 100; margin-top: 4px; background: #fff; border: 1px solid #d1d5db; border-radius: 8px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); max-height: 200px; overflow-y: auto; padding: 8px;">
                                    <div id="emoji-grid" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 4px;">
                                        <!-- Emojis will be rendered here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="display: flex; flex-direction: column; gap: 6px;">
                        <label for="category-edit-name" style="font-size: 13px; font-weight: 500; color: #374151;">${s.t("name")} <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="category-edit-name" required placeholder="${s.t("category_name_placeholder")}" style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; outline: none; box-sizing: border-box;">
                    </div>
                    <div class="form-actions" style="display: flex; gap: 10px; margin-top: 4px;">
                        <button type="submit" class="btn-primary" style="flex: 1; padding: 10px 16px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">${s.t("save")}</button>
                        <button type="button" class="btn-secondary" data-action="closeCategoryModal" style="flex: 1; padding: 10px 16px; background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">${s.t("cancel")}</button>
                    </div>
                </form>
            </div>
        `, e;
  }
  _bindEvents() {
    this.form.onsubmit = (r) => {
      r.preventDefault();
      const n = {
        id: this.form.querySelector("#category-edit-id").value,
        name: this.form.querySelector("#category-edit-name").value.trim(),
        icon: this.selectedIcon
      };
      this.callbacks.onSubmit && this.callbacks.onSubmit(n);
    }, this.emojiSearch.oninput = () => {
      const r = this.emojiSearch.value.toLowerCase();
      this._renderEmojiGrid(r), this.emojiPicker.style.display = "block";
    }, this.emojiSearch.onfocus = () => {
      this._renderEmojiGrid(this.emojiSearch.value.toLowerCase()), this.emojiPicker.style.display = "block";
    }, document.addEventListener("click", (r) => {
      !this.emojiPicker.contains(r.target) && r.target !== this.emojiSearch && (this.emojiPicker.style.display = "none");
    }), this.iconPreview.onclick = () => {
      this.emojiSearch.focus();
    };
    const e = this.element.querySelector('.btn-close[data-action="closeCategoryModal"]'), t = this.element.querySelector('.btn-secondary[data-action="closeCategoryModal"]'), a = (r) => {
      r.preventDefault(), r.stopPropagation(), this.callbacks.onClose && this.callbacks.onClose();
    };
    e && (e.onclick = a), t && (t.onclick = a);
  }
  _renderEmojiGrid(e = "") {
    this.emojiGrid.innerHTML = "", ke.filter(
      (a) => !e || a.keywords.toLowerCase().includes(e)
    ).forEach((a) => {
      const r = document.createElement("button");
      r.type = "button", r.className = "emoji-item", r.style.cssText = "width: 100%; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 20px; border: none; background: transparent; cursor: pointer; border-radius: 6px; transition: background 0.2s;", r.innerHTML = a.char, r.onmouseover = () => r.style.background = "#f3f4f6", r.onmouseout = () => r.style.background = "transparent", r.onclick = () => {
        this._selectIcon(a.char), this.emojiPicker.style.display = "none", this.emojiSearch.value = "";
      }, this.emojiGrid.appendChild(r);
    });
  }
  _selectIcon(e) {
    this.selectedIcon = e, this.iconPreview.textContent = e;
  }
  open(e = null) {
    e ? (this.modalTitle.textContent = s.t("edit_category"), this.form.querySelector("#category-edit-id").value = e.id, this.form.querySelector("#category-edit-name").value = e.name, this._selectIcon(e.icon || "ğŸ“")) : (this.modalTitle.textContent = s.t("new_category"), this.form.reset(), this.form.querySelector("#category-edit-id").value = "", this._selectIcon("ğŸ“")), this.element.classList.add("is-visible");
  }
  close() {
    this.element.classList.remove("is-visible"), this.emojiPicker.style.display = "none";
  }
}
class Ce {
  constructor(e) {
    this.manager = e;
  }
  get state() {
    return this.manager.state;
  }
  get promptManager() {
    return this.manager.promptManager;
  }
  get domUtils() {
    return this.manager.domUtils;
  }
  get scrollUtils() {
    return this.manager.scrollUtils;
  }
  create(e) {
    if (document.getElementById("prompt-management-panel")) return;
    const t = document.createElement("div");
    t.id = "prompt-management-panel", t.className = "unified-panel unified-panel-modal unified-panel--management", t.style.display = "none";
    const a = document.createElement("div");
    a.className = "panel-header-container flex-shrink-0";
    const r = new J(s.t("prompt_management"), [{
      title: s.t("new_prompt"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>',
      text: s.t("create"),
      action: "createNewPrompt",
      className: "btn-secondary"
    }, {
      title: s.t("import"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M12 3v13.5m0 0l-4.5-4.5M12 16.5l4.5-4.5" /></svg>',
      text: s.t("import"),
      action: "importPrompts",
      className: "btn-secondary"
    }, {
      title: s.t("export"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" /></svg>',
      text: s.t("export"),
      action: "exportPrompts",
      className: "btn-secondary"
    }, {
      title: s.t("close"),
      icon: '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>',
      action: "closeManagementPanel",
      className: "btn-icon-only btn-close"
    }]).element;
    a.append(r);
    const n = document.createElement("div");
    n.className = "panel-content flex flex-1 overflow-hidden min-h-0", n.style.cssText = "display: flex; flex-direction: row;";
    const i = document.createElement("div");
    i.className = "panel-sidebar", i.style.minWidth = "240px", i.style.maxWidth = "320px", i.style.width = "auto", i.style.flex = "0 0 auto";
    const c = document.createElement("div");
    c.className = "sidebar-section", c.innerHTML = `<h3>${s.t("category")}</h3>`, this.categoryFilter = new X({
      categories: this.promptManager.categories,
      prompts: this.promptManager.prompts,
      activeCategoryId: "all",
      // Default
      displayMode: "list",
      callbacks: {
        onFilter: (y) => {
          this.filterByCategory(y);
        },
        onUpdate: (y, x) => {
          this.promptManager.updateCategory(y, x).then(() => {
            this.updateCategoryList(), this.filterByCategory(this.state.currentManagementCategoryId);
          });
        },
        onDelete: (y) => this.deleteCategory(y)
      }
    });
    const l = this.categoryFilter.element, d = document.createElement("button");
    d.className = "btn-add-category btn-secondary inline-flex items-center gap-1 rounded-md px-3 py-1.5 border border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-850 hover:bg-gray-100 dark:hover:bg-gray-800", d.dataset.action = "addNewCategory", d.textContent = s.t("add_category"), c.append(l, d), i.append(c);
    const p = document.createElement("div");
    p.className = "panel-main flex-1 flex flex-col overflow-hidden min-w-0";
    const u = new Y({
      containerClass: "main-toolbar flex-shrink-0",
      inputClass: "main-search",
      placeholder: s.t("search_prompts_placeholder"),
      oninput: (y) => this.filterPrompts(y.target.value)
    }).element, m = document.createElement("div");
    m.className = "flex-1 overflow-y-auto p-4 flex flex-col gap-3 min-h-0", m.id = "prompt-list-container", m.style.overscrollBehavior = "contain", m.style.paddingBottom = "32px", p.append(u, m), n.append(i, p);
    const g = document.createElement("div");
    g.id = "management-panel-footer", g.className = "flex-shrink-0 border-t border-gray-100 dark:border-gray-800 flex items-center justify-center", g.style.cssText = "height: 48px; min-height: 48px; display: flex; align-items: center; justify-content: center; background: inherit; margin-top: auto;", this.pagination || (this.pagination = new N(g, {
      onPageChange: (y) => this.changePage(y === "prev" ? "prev" : "next")
    })), t.append(a, n, g), e.appendChild(t);
    let h = document.querySelector('div[data-pes-modal-container="true"]');
    h || (h = document.createElement("div"), h.id = "prompt-enhancement-system", h.setAttribute("data-pes-modal-container", "true"), h.style.cssText = "position: fixed; top: 0; left: 0; width: 0; height: 0; z-index: 2147483647;", document.body.appendChild(h));
    const v = this.manager.editorPanel.createModal(), b = this._createCategoryModal();
    h.appendChild(v), h.appendChild(b), v.style.pointerEvents = "auto", b.style.pointerEvents = "auto";
    const _ = (y) => {
      y.key !== "Escape" && y.stopPropagation();
    };
    ["keydown", "keyup", "keypress"].forEach((y) => {
      v.addEventListener(y, _), b.addEventListener(y, _);
    }), this.setupActions(t), this.setupActions(v), this.setupActions(b), this.manager.setupOpacitySlider(t), this.updateCategoryList(), this.updatePromptList(), this.setupKeyboard(t), this.manager.loadAvailableModels(), this.manager.updateAITargetCategories(), window.addEventListener("resize", () => {
      t.style.display !== "none" && (clearTimeout(this._resizeTimer), this._resizeTimer = setTimeout(() => {
        this._calculatePageSize(), this.updatePromptList();
      }, 100));
    });
  }
  toggle() {
    if (s.sync(), this.promptManager.refreshCategories(), this.state.lastRenderedLang && this.state.lastRenderedLang !== s.lang) {
      const t = document.getElementById("quick-insert-panel");
      t && (t.remove(), this.state.quickPanelCreated = !1);
      const a = document.getElementById("prompt-management-panel");
      a && (a.remove(), this.state.managementPanelCreated = !1);
      const r = document.getElementById("prompt-enhancement-system");
      r && r.remove();
    }
    this.state.lastRenderedLang = s.lang;
    let e = document.getElementById("prompt-management-panel");
    if (this.state.activePanel === "management") {
      this.close();
      return;
    } else this.state.activePanel && this.manager.closeAllPanels();
    if (e || (this.manager.rootContainer = this.domUtils.ensureRootContainer(), this.create(this.manager.rootContainer), e = document.getElementById("prompt-management-panel"), this.state.managementPanelCreated = !0), e) {
      this.domUtils.createOverlay("management"), e.style.position = "fixed", e.style.display = "flex", e.style.flexDirection = "column", e.style.zIndex = "100001", e.style.opacity = "1", e.style.visibility = "visible", this.scrollUtils.lockBackgroundScroll(), this.state.activePanel = "management", this.adjustPosition(e), (typeof e.tabIndex != "number" || e.tabIndex < 0) && (e.tabIndex = 0);
      try {
        e.focus({ preventScroll: !0 });
      } catch {
        e.focus();
      }
      this.updateCategoryList(), this.updatePromptList(), requestAnimationFrame(() => {
        this._calculatePageSize(), this.updatePromptList();
      });
    }
  }
  close() {
    const e = document.getElementById("prompt-management-panel");
    e && (e.style.display = "none", this.state.activePanel = null, this.domUtils.removeOverlay(), this.scrollUtils.unlockBackgroundScroll());
  }
  navigateTo() {
    this.manager.closeQuickInsertPanel(), this.toggle();
  }
  cycleCategory(e = "next") {
    const t = Array.from(document.querySelectorAll("#prompt-management-panel .category-item"));
    if (!t.length) return;
    const a = t.findIndex((n) => n.classList.contains("active")), r = a < 0 ? 0 : e === "prev" ? (a - 1 + t.length) % t.length : (a + 1) % t.length;
    t[r].click();
  }
  setupActions(e) {
    if (e.dataset.actionsBound === "true")
      return;
    const t = (a) => {
      if (a.target.closest && (a.target.closest("#pes-show-help-btn") || a.target.closest('.hint-inline [data-action="toggleShortcutHelp"]'))) {
        a.preventDefault(), a.stopPropagation(), this.manager._suppressGlobalCloseOnce = !0, this.manager.toggleShortcutHelp();
        return;
      }
      const n = a.target.closest("[data-action]");
      if (!n) return;
      const i = n.dataset.action;
      a.stopPropagation();
      const c = n.closest(".prompt-item--detailed"), l = n.dataset.promptId || (c == null ? void 0 : c.dataset.promptId), d = n.dataset.categoryId;
      switch (i) {
        case "prevPage":
        case "nextPage":
          this.manager.quickInsertPanel && this.manager.quickInsertPanel.changePage(i.replace("Page", "").toLowerCase());
          break;
        case "managementPrevPage":
        case "managementNextPage":
          this.changePage(i.includes("Prev") ? "prev" : "next");
          break;
        case "updatePromptCategory":
          const p = a.target, u = p.value === "null" ? null : p.value;
          l && this.updatePromptCategory(l, u);
          break;
        case "createNewPromptViaQuickPanel":
          this.navigateTo(), this.manager.createNewPrompt();
          break;
        case "navigateToManagementPanel":
          this.navigateTo();
          break;
        case "closeQuickInsertPanel":
          this.manager.closeQuickInsertPanel();
          break;
        case "editPrompt":
          l && this.manager.editPrompt(l);
          break;
        case "deletePrompt":
          l && this.deletePrompt(l);
          break;
        case "toggleFavorite":
          l && this.manager.toggleFavorite(l);
          break;
        case "filterByCategory":
          d && this.filterByCategory(d);
          break;
        case "addNewCategory":
          this.addNewCategory();
          break;
        case "editCategory":
          d && this.editCategory(d);
          break;
        case "deleteCategory":
          d && this.deleteCategory(d);
          break;
        case "closeCategoryModal":
          this.closeCategoryModal();
          break;
        case "exportData":
          this.manager.promptManager.exportData();
          break;
        case "importData":
          this.manager.promptManager.importData();
          break;
        case "createNewPrompt":
          this.manager.createNewPrompt();
          break;
        case "closePromptModal":
          this.manager.closePromptModal();
          break;
        case "generateWithAI":
          this.manager.generateWithAI();
          break;
        case "acceptAIResult":
          this.manager.acceptAIResult();
          break;
        case "retryGeneration":
          this.manager.retryGeneration();
          break;
        case "manualEdit":
          this.manager.manualEdit();
          break;
        case "showVariableHelp":
          this.manager.showVariableHelp();
          break;
        case "closeVariableHelp":
          this.manager.closeVariableHelp();
          break;
        case "closeManagementPanel":
          this.close();
          break;
        case "goToStep1":
          this.manager.editorPanel.goToStep(1);
          break;
        case "goToStep2":
          this.manager.editorPanel.goToStep(2);
          break;
        default:
          typeof this.manager[i] == "function" ? this.manager[i]() : o.warn(`Unknown action: ${i}`);
          break;
      }
    };
    e.addEventListener("click", t), e.addEventListener("change", (a) => {
      const r = a.target.closest("[data-action]");
      r && r.dataset.action === "updatePromptCategory" && t(a);
    }), e.dataset.actionsBound = "true";
  }
  setupKeyboard(e) {
    e && (e._mgmtSelection && e._mgmtSelection.handleKeyDown && (e.removeEventListener("keydown", e._mgmtSelection.handleKeyDown), e._mgmtSelection = null), e._mgmtSelection = ee.setup(e, {
      containerSelector: "#prompt-list-container",
      itemSelector: ".prompt-item--detailed",
      onEnter: (t) => {
        var r;
        const a = (r = t == null ? void 0 : t.dataset) == null ? void 0 : r.promptId;
        a && this.manager.editPrompt(a);
      },
      onClose: () => this.close(),
      panelManager: this.manager
    }));
  }
  adjustPosition(e) {
  }
  _calculatePageSize() {
    const e = document.getElementById("prompt-list-container"), t = document.getElementById("prompt-management-panel"), a = document.getElementById("management-panel-footer");
    if (!e || !t || t.offsetHeight === 0) {
      this.state.pagination && this.state.pagination.management && (!this.state.pagination.management.itemsPerPage || this.state.pagination.management.itemsPerPage < 5) && (this.state.pagination.management.itemsPerPage = 5);
      return;
    }
    const r = getComputedStyle(e), n = parseFloat(r.paddingTop) || 0;
    parseFloat(r.paddingBottom);
    const i = t.getBoundingClientRect(), c = e.getBoundingClientRect(), l = a && a.getBoundingClientRect().height || 48, d = i.bottom - c.top - l - n - 8, p = e.querySelectorAll(".prompt-item--detailed");
    let u = 0, m = 12;
    if (p.length > 0 && (u = p[0].offsetHeight, p.length >= 2)) {
      const _ = p[0].getBoundingClientRect();
      m = p[1].getBoundingClientRect().top - _.bottom;
    }
    u === 0 && (u = 90, m = 12);
    const g = u + m;
    let h = Math.floor((d + m + 2) / g);
    (d + m + 2) % g > g - 15 && h++;
    const b = d > 400 ? 5 : 3;
    h = Math.max(b, h), this.state.pagination && this.state.pagination.management && this.state.pagination.management.itemsPerPage !== h && (this.state.pagination.management.itemsPerPage = h, o.debug(`[Management] Dynamic page size: ${h} items (available: ${d.toFixed(0)}px, item: ${u.toFixed(0)}px, gap: ${m.toFixed(0)}px, total: ${g.toFixed(0)}px)`));
  }
  updateCategoryList() {
    document.getElementById("category-list") && this.categoryFilter && this.categoryFilter.update({
      prompts: this.promptManager.prompts,
      categories: this.promptManager.categories
    });
  }
  updatePromptList(e = null, t = null) {
    const a = document.getElementById("prompt-list-container");
    if (!a) return;
    let r = e;
    if (r === null) {
      const u = this.state.currentManagementCategoryId || "all";
      u === "all" ? r = this.promptManager.prompts : u === "uncategorized" ? r = this.promptManager.prompts.filter((m) => !m.category || m.category === "null") : r = this.promptManager.prompts.filter((m) => m.category === u);
    }
    let n = t;
    if (n === null) {
      const u = document.querySelector("#prompt-management-panel .main-search");
      n = u ? u.value : "";
    }
    if (n) {
      const u = n.toLowerCase();
      r = r.filter(
        (m) => m.title.toLowerCase().includes(u) || m.content.toLowerCase().includes(u)
      );
    }
    const i = this.state.pagination.management;
    i.totalItems = r.length;
    const c = Math.ceil(i.totalItems / i.itemsPerPage) || 1;
    i.currentPage = Math.max(1, Math.min(i.currentPage, c));
    const l = (i.currentPage - 1) * i.itemsPerPage, d = l + i.itemsPerPage, p = r.slice(l, d);
    this._renderPrompts(a, p, "detailed"), this.pagination && this.pagination.render(this.state.pagination.management.currentPage, c);
  }
  filterPrompts(e) {
    this.state.pagination.management.currentPage = 1;
    const t = document.querySelector(".category-item.active"), a = t ? t.dataset.categoryId : "all";
    let r = this.promptManager.prompts;
    a === "uncategorized" ? r = this.promptManager.prompts.filter((n) => !n.category || n.category === "null") : a !== "all" && (r = this.promptManager.prompts.filter((n) => n.category === a)), this.updatePromptList(r, e);
  }
  filterByCategory(e) {
    if (!this.promptManager) return;
    this.state.currentManagementCategoryId = e, this.state.pagination.management.currentPage = 1, this.categoryFilter && this.categoryFilter.update({ activeCategoryId: e }), document.querySelectorAll(".category-item").forEach((i) => {
      i.classList.remove("active");
    });
    const t = document.querySelector(`.category-item[data-category-id="${e}"]`);
    t && t.classList.add("active");
    const a = document.querySelector("#prompt-management-panel .main-search"), r = a ? a.value : "";
    let n;
    e === "all" ? n = this.promptManager.prompts : e === "favorites" ? n = this.promptManager.prompts.filter((i) => i.isFavorite) : e === "uncategorized" ? n = this.promptManager.prompts.filter((i) => !i.category || i.category === "null") : n = this.promptManager.prompts.filter((i) => i.category === e), this.updatePromptList(n, r);
  }
  changePage(e) {
    const t = this.state.pagination.management, a = Math.ceil(t.totalItems / t.itemsPerPage);
    e === "next" && t.currentPage < a ? t.currentPage++ : e === "prev" && t.currentPage > 1 && t.currentPage--, this.updatePromptList();
  }
  _renderPrompts(e, t, a) {
    if (!(!this.promptManager || !e)) {
      if (e.innerHTML = "", t.length === 0) {
        const r = document.createElement("div");
        r.className = "prompt-item empty-state", r.innerHTML = `
                <div class="prompt-title">${s.t("no_prompts")}</div>
                <div class="prompt-preview">${s.t("no_prompts_hint")}</div>
            `, e.appendChild(r);
        return;
      }
      t.forEach((r) => {
        const n = new te(r, a, this.promptManager.categories, {
          onInsert: (i, c) => this.manager.insertPrompt(i, c),
          onFavorite: (i) => this.manager.toggleFavorite(i),
          onEdit: (i) => this.manager.editPrompt(i),
          onDelete: (i) => this.deletePrompt(i),
          onUpdateCategory: (i, c) => this.updatePromptCategory(i, c)
        }).element;
        if (a === "compact" && r._matches) {
          const i = B.highlightMatches(r.title, r._matches, "title"), c = B.highlightMatches(
            r.content.substring(0, 50) + (r.content.length > 50 ? "..." : ""),
            r._matches,
            "content"
          );
          n.querySelector(".prompt-title").innerHTML = i, n.querySelector(".prompt-preview").innerHTML = c;
        }
        e.appendChild(n);
      });
    }
  }
  async deletePrompt(e) {
    if (!this.promptManager) return;
    const t = this.promptManager.getPromptById(e);
    if (!t) {
      this.domUtils.showAlert(s.t("prompt_not_found"));
      return;
    }
    if (await this.domUtils.showConfirm(s.t("confirm_delete_prompt_message").replace("{title}", t.title)))
      try {
        await this.promptManager.deletePrompt(t.id), this.manager.rebuildSearchIndex && this.manager.rebuildSearchIndex();
        const r = document.querySelector("#prompt-management-panel .main-search"), n = r ? r.value : "";
        this.updatePromptList(this.promptManager.prompts, n), this.updateCategoryList(), this.manager.quickInsertPanel && this.manager.quickInsertPanel.updateList(), this.domUtils.showToast(s.t("prompt_deleted"), "success");
      } catch (r) {
        o.error("Delete prompt failed:", r), this.domUtils.showAlert(`${s.t("delete_failed")}${r.message}`);
      }
  }
  async updatePromptCategory(e, t) {
    if (this.promptManager)
      try {
        const a = this.promptManager.getPromptById(e);
        if (!a) throw new Error("Prompt not found");
        const r = { ...a, category: t };
        await this.promptManager.updatePrompt(e, r), this.updateCategoryList();
      } catch (a) {
        o.error("Quick update category failed:", a), this.domUtils.showAlert(`${s.t("update_category_failed")}${a.message}`), this.updatePromptList();
      }
  }
  // Import/Export
  exportPrompts() {
    if (!this.promptManager) return;
    const e = {
      prompts: this.promptManager.prompts,
      categories: this.promptManager.categories,
      exportDate: (/* @__PURE__ */ new Date()).toISOString(),
      version: "2.0"
    }, t = new Blob([JSON.stringify(e, null, 2)], { type: "application/json" }), a = URL.createObjectURL(t), r = document.createElement("a");
    r.href = a, r.download = `prompts_${(/* @__PURE__ */ new Date()).toISOString().split("T")[0]}.json`, r.click(), URL.revokeObjectURL(a);
  }
  async importPrompts() {
    const e = document.createElement("input");
    e.type = "file", e.accept = ".json", e.onchange = async (t) => {
      const a = t.target.files[0];
      if (!a) return;
      const r = new FileReader();
      r.onload = async (n) => {
        try {
          const i = JSON.parse(n.target.result);
          if (i.prompts && Array.isArray(i.prompts)) {
            const c = i.prompts.length;
            if (confirm(s.t("found_prompts_import_confirm").replace("{count}", c))) {
              const l = await this.promptManager.importPrompts(i);
              this.updatePromptList(), this.updateCategoryList(), this.domUtils.showAlert(s.t("import_success_message").replace("{imported}", l.importedCount).replace("{skipped}", l.skippedCount));
            }
          } else
            this.domUtils.showAlert(s.t("invalid_file_format"));
        } catch (i) {
          this.domUtils.showAlert(`${s.t("file_parse_failed")}${i.message}`);
        }
      }, r.readAsText(a);
    }, e.click();
  }
  _createCategoryModal() {
    const e = new Pe({
      onSubmit: (t) => this.saveCategory(t),
      onClose: () => this.closeCategoryModal()
    });
    return this.categoryModal = e, e.element;
  }
  openCategoryModal(e = null) {
    if (!this.categoryModal) {
      const t = this._createCategoryModal();
      document.getElementById("prompt-enhancement-system").appendChild(t);
    }
    this.categoryModal.open(e), this.state.isModalOpen = !0;
  }
  closeCategoryModal() {
    this.categoryModal && this.categoryModal.close(), this.state.isModalOpen = !1;
  }
  async saveCategory(e) {
    const t = e.id, a = e.name, r = e.icon;
    if (!a) {
      this.domUtils.showAlert(s.t("category_name_required"));
      return;
    }
    let n;
    if (t) {
      const i = this.promptManager.categories.find((c) => c.id === t);
      i && (n = { ...i, name: a, icon: r });
    } else
      n = {
        id: P(),
        name: a,
        icon: r || "ğŸ“",
        // Use selected icon or default
        color: "#a0aec0",
        // Default color (legacy)
        description: "",
        order: this.promptManager.categories.length + 1
      };
    n && (await this.promptManager.upsertCategory(n), this.updateCategoryList(), this.manager.quickInsertPanel && this.manager.quickInsertPanel.updateCategories(), this.updatePromptList(), this.closeCategoryModal());
  }
  addNewCategory() {
    this.openCategoryModal();
  }
  // editCategory removed as it is replaced by inline editing
  async deleteCategory(e) {
    await this.domUtils.showConfirm(s.t("confirm_delete_category")) && (this.promptManager.prompts.forEach((t) => {
      t.category === e && (t.category = null);
    }), this.promptManager.saveData(), await this.promptManager.deleteCategory(e), this.updateCategoryList(), this.manager.quickInsertPanel && this.manager.quickInsertPanel.updateCategories(), this.updatePromptList());
  }
}
class Se {
  constructor() {
    this.activePanel = null, this.isModalOpen = !1, this.panelsCreated = !1, this.quickPanelCreated = !1, this.managementPanelCreated = !1, this.justOpenedQuickPanel = !1, this.currentQuickCategoryId = "favorites", this.currentManagementCategoryId = "all", this.pagination = {
      quick: { currentPage: 1, itemsPerPage: 6, totalItems: 0 },
      management: { currentPage: 1, itemsPerPage: 6, totalItems: 0 }
    }, this.currentAIGeneration = null, this.lastAIUserInput = null;
  }
  reset() {
    this.activePanel = null, this.isModalOpen = !1, this.currentAIGeneration = null;
  }
}
class Ee {
  constructor() {
    this.scrollLocked = !1, this.scrollLock = null, this.trapInstalled = !1, this.trapTouchMove = null, this.trapKeydown = null;
  }
  /**
   * Lock background scroll
   */
  lockBackgroundScroll() {
    if (this.scrollLocked) return;
    this.scrollLocked = !0;
    const e = window.scrollX || window.pageXOffset || 0, t = window.scrollY || window.pageYOffset || 0;
    this.scrollLock = { x: e, y: t }, document.documentElement.classList.add("pes-no-scroll"), document.body.classList.add("pes-no-scroll"), document.documentElement.style.overscrollBehaviorY = "none", document.body.style.overscrollBehaviorY = "none", document.body.style.position = "fixed", document.body.style.top = `-${t}px`, document.body.style.left = "0", document.body.style.right = "0", document.body.style.width = "100%", this.installGlobalScrollTrap();
  }
  /**
   * Unlock background scroll
   */
  unlockBackgroundScroll() {
    if (!this.scrollLocked) return;
    document.documentElement.classList.remove("pes-no-scroll"), document.body.classList.remove("pes-no-scroll"), document.documentElement.style.overscrollBehaviorY = "", document.body.style.overscrollBehaviorY = "", document.body.style.position = "", document.body.style.top = "", document.body.style.left = "", document.body.style.right = "", document.body.style.width = "";
    const e = this.scrollLock || { x: 0, y: 0 };
    window.scrollTo(e.x, e.y), this.removeGlobalScrollTrap(), this.scrollLocked = !1, this.scrollLock = null;
  }
  /**
   * Attach wheel scroll lock to element
   * @param {HTMLElement} el - Target element
   */
  attachWheelScrollLock(e) {
    !e || e.dataset.wheelLock === "true" || (e.style.overscrollBehavior = "contain", e.dataset.wheelLock = "true");
  }
  /**
   * Attach wheel routing to panel
   * @param {HTMLElement} panelEl - Panel element
   * @param {HTMLElement} listEl - List element
   */
  attachPanelWheelRouting(e, t) {
    !e || e.dataset.wheelRouted === "true" || (e.addEventListener("wheel", (a) => {
      t && (t.contains(a.target) || (a.preventDefault(), t.scrollTop += a.deltaY));
    }, { passive: !1 }), e.dataset.wheelRouted = "true");
  }
  /**
   * Install global scroll trap
   * @param {string} rootContainerId - Root container ID
   */
  installGlobalScrollTrap(e = "prompt-enhancement-system") {
    if (this.trapInstalled) return;
    this.trapInstalled = !0;
    const t = () => document.getElementById(e);
    this.trapTouchMove = (a) => {
      const r = t();
      r && (r.contains(a.target) || a.preventDefault());
    }, this.trapKeydown = (a) => {
      const r = a.target.tagName;
      if (r === "TEXTAREA" || r === "INPUT" || r === "SELECT" || a.target.isContentEditable || ![" ", "Space", "Spacebar", "PageUp", "PageDown", "Home", "End", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].includes(a.key)) return;
      const i = t();
      i && (i.contains(a.target) || a.preventDefault());
    }, document.addEventListener("touchmove", this.trapTouchMove, { passive: !1, capture: !0 }), document.addEventListener("keydown", this.trapKeydown, { capture: !0 });
  }
  /**
   * Remove global scroll trap
   */
  removeGlobalScrollTrap() {
    this.trapInstalled && (document.removeEventListener("touchmove", this.trapTouchMove, { capture: !0 }), document.removeEventListener("keydown", this.trapKeydown, { capture: !0 }), this.trapInstalled = !1, this.trapTouchMove = null, this.trapKeydown = null);
  }
}
class Ae {
  constructor(e = "prompt-enhancement-system") {
    this.rootContainerId = e, this.rootContainer = null;
  }
  /**
   * Ensure root container exists
   * @returns {HTMLElement} Root container element
   */
  ensureRootContainer() {
    return this.rootContainer && document.body.contains(this.rootContainer) ? this.rootContainer : (this.rootContainer = document.createElement("div"), this.rootContainer.id = this.rootContainerId, document.body.appendChild(this.rootContainer), this.rootContainer);
  }
  /**
   * Create overlay
   * @param {string} type - Overlay type ('quick' or 'management')
   * @returns {HTMLElement} Overlay element
   */
  createOverlay(e = "quick") {
    this.ensureRootContainer();
    let t = document.getElementById("panel-overlay");
    t || (t = document.createElement("div"), t.id = "panel-overlay", t.className = "panel-overlay", this.rootContainer.appendChild(t)), t.className = e === "management" ? "panel-overlay management" : "panel-overlay", t.style.display = "block", t.style.zIndex = "100000";
    const a = (r) => r.preventDefault();
    return t.addEventListener("wheel", a, { passive: !1 }), t.addEventListener("touchmove", a, { passive: !1 }), t;
  }
  /**
   * Remove overlay
   */
  removeOverlay() {
    const e = document.getElementById("panel-overlay");
    e && (e.style.display = "none");
  }
  /**
   * Get root container
   * @returns {HTMLElement|null} Root container element
   */
  getRootContainer() {
    return this.rootContainer;
  }
  /**
   * Show a custom alert modal
   * @param {string} message - Alert message
   * @param {string} title - Alert title (optional)
   * @returns {Promise<void>} Resolves when closed
   */
  showAlert(e, t = null) {
    return new Promise((a) => {
      const r = document.createElement("div");
      r.className = "fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center", r.onclick = (m) => {
        m.target === r && m.stopPropagation();
      };
      const n = document.documentElement.classList.contains("dark"), i = n ? "#171717" : "#fff", c = n ? "#e5e7eb" : "#4b5563", l = document.createElement("div");
      l.className = "prompt-modal-content modal-sm", l.style.cssText = `
                width: 400px; 
                max-width: 90vw; 
                background: ${i}; 
                border-radius: 12px; 
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35); 
                display: flex; 
                flex-direction: column; 
                overflow: hidden;
                margin: 0 16px;
                transform: scale(1);
                transition: transform 0.2s;
            `;
      const d = t || s.t("info") || "Info";
      l.innerHTML = `
                <!-- Purple-blue gradient header -->
                <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; flex-shrink: 0;">
                    <h3 style="font-size: 1rem; font-weight: 600; margin: 0; color: #fff;">${d}</h3>
                    <button type="button" class="btn-close" style="width: 28px; height: 28px; padding: 0; display: flex; align-items: center; justify-content: center; border: none; border-radius: 6px; background: rgba(255, 255, 255, 0.2); color: #fff; cursor: pointer; font-size: 18px; transition: background 0.2s;">Ã—</button>
                </div>
                
                <!-- Content -->
                <div style="padding: 24px 20px;">
                    <p class="text-sm text-gray-500 dark:text-gray-400 whitespace-pre-wrap" style="margin: 0; font-size: 14px; line-height: 1.5; color: ${c};">${e}</p>
                </div>

                <!-- Actions -->
                <div class="form-actions" style="display: flex; justify-content: flex-end; padding: 0 20px 20px 20px;">
                    <button class="btn-confirm" style="padding: 8px 24px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">${s.t("confirm") || "OK"}</button>
                </div>
            `;
      const p = document.body, u = () => {
        p.removeChild(r);
      };
      l.querySelector(".btn-close").onclick = (m) => {
        m.stopPropagation(), u(), a();
      }, l.querySelector(".btn-confirm").onclick = (m) => {
        m.stopPropagation(), u(), a();
      }, r.style.zIndex = "2147483647", r.appendChild(l), p.appendChild(r);
    });
  }
  /**
   * Show a custom confirm modal
   * @param {string} message - Confirm message
   * @param {string} title - Confirm title (optional)
   * @returns {Promise<boolean>} Resolves to true if confirmed, false otherwise
   */
  showConfirm(e, t = null) {
    return new Promise((a) => {
      const r = document.createElement("div");
      r.className = "pes-confirm-overlay fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center", r.onclick = (v) => {
        v.target === r && v.stopPropagation();
      };
      const n = document.documentElement.classList.contains("dark"), i = n ? "#171717" : "#fff", c = n ? "#e5e7eb" : "#4b5563", l = n ? "#374151" : "#f3f4f6", d = n ? "#e5e7eb" : "#374151", p = n ? "#4b5563" : "#d1d5db", u = document.createElement("div");
      u.className = "prompt-modal-content modal-sm", u.style.cssText = `
                width: 400px; 
                max-width: 90vw; 
                background: ${i}; 
                border-radius: 12px; 
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35); 
                display: flex; 
                flex-direction: column; 
                overflow: hidden;
                margin: 0 16px;
                transform: scale(1);
                transition: transform 0.2s;
            `;
      const m = t || s.t("confirm_delete_title") || "Confirm";
      u.innerHTML = `
                <!-- Purple-blue gradient header -->
                <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; flex-shrink: 0;">
                    <h3 style="font-size: 1rem; font-weight: 600; margin: 0; color: #fff;">${m}</h3>
                    <button type="button" class="btn-close" style="width: 28px; height: 28px; padding: 0; display: flex; align-items: center; justify-content: center; border: none; border-radius: 6px; background: rgba(255, 255, 255, 0.2); color: #fff; cursor: pointer; font-size: 18px; transition: background 0.2s;">Ã—</button>
                </div>
                
                <!-- Content -->
                <div style="padding: 24px 20px;">
                    <p class="text-sm text-gray-500 dark:text-gray-400 whitespace-pre-wrap" style="margin: 0; font-size: 14px; line-height: 1.5; color: ${c};">${e}</p>
                </div>

                <!-- Actions -->
                <div class="form-actions" style="display: flex; gap: 10px; padding: 0 20px 20px 20px;">
                    <button class="btn-cancel" style="flex: 1; padding: 10px 16px; background: ${l}; color: ${d}; border: 1px solid ${p}; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">${s.t("cancel") || "Cancel"}</button>
                    <button class="btn-confirm" style="flex: 1; padding: 10px 16px; background: #dc2626; color: #fff; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer;">${s.t("delete") || "Delete"}</button>
                </div>
            `;
      const g = document.body, h = () => {
        g.removeChild(r);
      };
      u.querySelector(".btn-close").onclick = (v) => {
        v.preventDefault(), v.stopPropagation(), h(), a(!1);
      }, u.querySelector(".btn-cancel").onclick = (v) => {
        v.preventDefault(), v.stopPropagation(), h(), a(!1);
      }, u.querySelector(".btn-confirm").onclick = (v) => {
        v.preventDefault(), v.stopPropagation(), setTimeout(() => {
          h(), a(!0);
        }, 50);
      }, r.style.zIndex = "2147483647", r.appendChild(u), g.appendChild(r);
    });
  }
  /**
   * Show a toast notification
   * @param {string} message - Toast message
   * @param {string} type - Toast type ('success', 'error', 'info')
   */
  showToast(e, t = "success") {
    this.showModalMessage(e, t);
  }
  showModalMessage(e, t) {
    document.querySelectorAll(".pes-modal-overlay").forEach((d) => d.remove());
    const r = document.createElement("div");
    r.className = "pes-modal-overlay";
    const n = document.createElement("div");
    n.className = "pes-modal-box";
    const i = e.replace(/^[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F1E0}-\u{1F1FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]\s*/u, "");
    let c = s.t("info");
    t === "error" && (c = s.t("error")), t === "info" && (c = s.t("info")), n.innerHTML = `
            <div class="pes-modal-header">
                <div class="pes-modal-title">${c}</div>
                <button class="pes-modal-close">âœ•</button>
            </div>
            <div class="pes-modal-body">
                ${i}
            </div>
            <div class="pes-modal-footer">
                <button class="pes-modal-btn">${s.t("confirm")}</button>
            </div>
        `;
    const l = () => {
      r.style.transition = "opacity 0.2s ease-out", r.style.opacity = "0", setTimeout(() => r.remove(), 200);
    };
    n.querySelector(".pes-modal-close").onclick = l, n.querySelector(".pes-modal-btn").onclick = l, r.appendChild(n), document.body.appendChild(r), setTimeout(() => {
      const d = n.querySelector(".pes-modal-btn");
      d && d.focus();
    }, 100);
  }
}
o.debug("--- PanelManager v1.2.0 --- Loading...");
class W {
  constructor(e, t, a) {
    o.debug("[PanelManager] Constructor called"), this.promptManager = e, this.promptInserter = t, this.domManipulator = a, this.rootContainer = null, this.state = new Se(), this.scrollUtils = new Ee(), this.domUtils = new Ae(), this.aiValidator = new Z(), this.aiRetryManager = new ve(e.api), this.aiGenerationPanel = new we(this), this.editorPanel = new xe(this), this.quickInsertPanel = new Ie(this), this.managementPanel = new Ce(this), this.setupGlobalEventListeners(), this.simpleSearch = null, this.useSimpleSearch = !0, this.initializeTransparencyControl(), window.addEventListener("pes:show-toast", (r) => {
      const { message: n, type: i } = r.detail;
      this.domUtils.showToast(n, i);
    });
  }
  // Delegate methods for backward compatibility and cleaner API
  toggleQuickInsertPanel() {
    s.sync(), this.quickInsertPanel.toggle();
  }
  toggleManagementPanel() {
    s.sync(), this.managementPanel.toggle();
  }
  closeQuickInsertPanel() {
    this.quickInsertPanel.close();
  }
  closeManagementPanel() {
    this.managementPanel.close();
  }
  closePromptModal() {
    this.editorPanel.close();
  }
  // Initialize search features (delegated)
  initializeSearchFeatures() {
    this.useSimpleSearch && !this.simpleSearch && (this.simpleSearch = new K(this.promptManager.prompts), o.debug("Simple search initialized"));
  }
  // Update lists (delegated)
  updatePromptList() {
    this.managementPanel && this.managementPanel.updatePromptList();
  }
  updateCategoryList() {
    this.managementPanel && this.managementPanel.updateCategoryList();
  }
  updateQuickPromptList() {
    this.quickInsertPanel && this.quickInsertPanel.updateList();
  }
  // Cycle through categories (for keyboard navigation)
  // Cycle through categories (for keyboard navigation)
  cycleCategory(e, t) {
    o.debug(`[CycleCategory] Direction: ${e}, Panel: ${t}`), t === "quick" && this.quickInsertPanel ? this.quickInsertPanel.cycleCategory(e) : t === "management" && this.managementPanel && this.managementPanel.cycleCategory(e);
  }
  updateQuickPanelCategories() {
    this.quickInsertPanel && this.quickInsertPanel.updateCategories();
  }
  navigateToManagementPanel() {
    this.closeQuickInsertPanel(), this.toggleManagementPanel();
  }
  showVariableHelp() {
    this.editorPanel.showVariableHelp();
  }
  closeVariableHelp() {
    this.editorPanel.closeVariableHelp();
  }
  // Setup global event listeners
  setupGlobalEventListeners() {
    document.addEventListener("click", (t) => {
      this.handleGlobalClick(t);
    }), document.addEventListener("keydown", (t) => {
      t.key === "Escape" && this.closeAllPanels();
    }), window.addEventListener("resize", () => {
      this.adjustPanelPositions();
    });
    const e = (t) => {
      document.addEventListener(t, (a) => {
        const r = a.target;
        if (r.closest && (r.closest("#pes-quick-close-btn") || r.closest('[data-action="closeQuickInsertPanel"]')) && this.state.activePanel) {
          a.preventDefault(), a.stopPropagation(), a.stopImmediatePropagation(), this.closeAllPanels();
          return;
        }
      }, !0);
    };
    e("pointerdown"), e("click"), document.addEventListener("keydown", (t) => {
      if (!["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight", "Home", "End", "PageUp", "PageDown", "Enter"].includes(t.key) || this.state.isModalOpen) return;
      let r = null;
      if (this.state.activePanel === "quick" ? r = document.getElementById("quick-insert-panel") : this.state.activePanel === "management" && (r = document.getElementById("prompt-management-panel")), !r || r.style.display === "none") return;
      r.contains(t.target) || (t.preventDefault(), this.state.activePanel === "quick" && r._quickSelection && typeof r._quickSelection.handleKeyDown == "function" ? r._quickSelection.handleKeyDown(t) : this.state.activePanel === "management" && r._mgmtSelection && typeof r._mgmtSelection.handleKeyDown == "function" && r._mgmtSelection.handleKeyDown(t));
    }, !0);
  }
  // Handle global click events
  handleGlobalClick(e) {
    if (this._suppressGlobalCloseOnce) {
      this._suppressGlobalCloseOnce = !1;
      return;
    }
    const t = document.getElementById("quick-insert-panel"), a = document.getElementById("prompt-management-panel"), r = document.getElementById("prompt-manager-integrated-btn"), n = document.getElementById("prompt-edit-modal"), i = document.getElementById("shortcut-help-modal");
    if (i && i.classList.contains("is-visible")) {
      const l = i.querySelector(".prompt-modal-content"), d = e.target.closest && (e.target.closest('[data-action="toggleShortcutHelp"]') || e.target.closest("#pes-show-help-btn"));
      l && !l.contains(e.target) && !d && this.closeShortcutHelpModal();
      return;
    }
    if (!(r && r.contains(e.target)) && e.target.isConnected && !(e.target.closest(".pes-modal-overlay") || e.target.closest(".pes-message-overlay") || e.target.closest(".pes-confirm-overlay"))) {
      if (t && t.style.display !== "none" && (t.contains(e.target) || this.quickInsertPanel.close()), a && a.style.display !== "none") {
        const l = document.getElementById("prompt-edit-modal"), d = document.getElementById("category-edit-modal"), p = l && l.classList.contains("is-visible") && l.contains(e.target), u = d && d.classList.contains("is-visible") && d.contains(e.target);
        if (p || u)
          return;
        a.contains(e.target) || this.managementPanel.close();
      }
      if (n && n.classList.contains("is-visible")) {
        const l = n.querySelector(".prompt-modal-content"), d = e.target.closest('[data-action="editPrompt"]') || e.target.closest('[data-action="createNewPrompt"]');
        l && !l.contains(e.target) && !d && this.closePromptModal();
      }
    }
  }
  // Close all panels
  closeAllPanels() {
    o.debug("[PanelManager] closeAllPanels called."), this.quickInsertPanel && this.quickInsertPanel.close(), this.managementPanel && this.managementPanel.close(), this.closePromptModal(), this.state.activePanel = null;
  }
  // Adjust panel positions (on window resize)
  adjustPanelPositions() {
    const e = document.getElementById("quick-insert-panel"), t = document.getElementById("prompt-management-panel"), a = document.getElementById("prompt-manager-integrated-btn");
    e && e.style.display === "block" && this.quickInsertPanel && this.quickInsertPanel.adjustPosition(e, a), t && t.style.display === "block" && this.adjustManagementPanelPosition(t);
  }
  // Positioning handled by CSS transform, but keeping function for future use
  // Setup management panel event delegation (Refactored to clearer switch structure)
  // Create overlay
  // Remove overlay
  // Dynamically calculate and set page size to avoid scrolling
  // Toggle Quick Insert Panel - Create on demand
  // Toggle Management Panel - Create on demand
  // Close panel
  // Navigate to management panel
  closePromptModal() {
    this.editorPanel.close();
  }
  // Quick Insert Panel Keyboard Navigation: Tab cycles between Search -> Category -> List
  // General List Keyboard Navigation (Reused by Quick/Management panels)
  // Enable keyboard navigation for management panel (Reuse common logic)
  // Enable keyboard navigation for quick insert panel (Reuse common logic)
  // Quick Panel: Get category tabs
  // Quick Panel: Cycle categories
  // Update category tabs in quick panel
  // Filter quick prompts by category
  // Initialize search features (called after data and dependencies are loaded)
  initializeSearchFeatures() {
    if (this.promptManager)
      try {
        this.simpleSearch = new K(), this.simpleSearch.buildIndex(this.promptManager.prompts), o.debug("Simple search initialized");
      } catch (e) {
        o.error("Simple search initialization failed:", e), this.simpleSearch = null;
      }
  }
  // Rebuild search index (async optimized version)
  async rebuildSearchIndex() {
    if (o.debug("ğŸ”„ Rebuilding search index..."), !this.promptManager) {
      o.warn("PromptManager unavailable, skipping index rebuild");
      return;
    }
    const e = this.promptManager.prompts.length;
    return e > 100 ? (o.debug(`ğŸ“Š Large dataset detected (${e} prompts), using async rebuild...`), this.rebuildSearchIndexAsync()) : this.rebuildSearchIndexSync();
  }
  // Sync rebuild search index (small dataset)
  rebuildSearchIndexSync() {
    this.useSimpleSearch ? this.initializeSimpleSearch() : this.initializeSearchFeatures();
  }
  // Async rebuild search index (large dataset)
  async rebuildSearchIndexAsync() {
    o.debug("ğŸ”„ Starting async search index rebuild..."), this.showSearchRebuildIndicator();
    try {
      await new Promise((e) => {
        const t = () => {
          try {
            this.rebuildSearchIndexSync(), e();
          } catch (a) {
            o.error("Async index rebuild failed:", a), e();
          }
        };
        "requestIdleCallback" in window ? requestIdleCallback(t, { timeout: 2e3 }) : setTimeout(t, 10);
      }), o.debug("âœ… Async search index rebuild completed");
    } finally {
      this.hideSearchRebuildIndicator();
    }
  }
  // Show search rebuild indicator
  showSearchRebuildIndicator() {
    const e = document.querySelector(".quick-search, .main-search");
    if (!e) return;
    let t = document.getElementById("search-rebuild-indicator");
    t || (t = document.createElement("div"), t.id = "search-rebuild-indicator", t.style.cssText = `
                position: absolute;
                right: 8px;
                top: 50%;
                transform: translateY(-50%);
                font-size: 12px;
                color: #666;
                pointer-events: none;
                z-index: 10;
            `, t.innerHTML = "ğŸ”„", e.parentNode.style.position = "relative", e.parentNode.appendChild(t)), t.style.display = "block";
  }
  // Hide search rebuild indicator
  hideSearchRebuildIndicator() {
    const e = document.getElementById("search-rebuild-indicator");
    e && (e.style.display = "none");
  }
  // Initialize simple search feature
  initializeSimpleSearch() {
    o.debug("Initializing simple search feature"), this.simpleSearchIndex = /* @__PURE__ */ new Map(), this.promptManager.prompts.forEach((e) => {
      this.tokenizeText(e.title + " " + e.content).forEach((a) => {
        this.simpleSearchIndex.has(a) || this.simpleSearchIndex.set(a, []), this.simpleSearchIndex.get(a).push(e.id);
      });
    }), o.debug(`Simple search index built, total ${this.simpleSearchIndex.size} terms`);
  }
  // Simple text tokenization
  tokenizeText(e) {
    return e.toLowerCase().replace(/[^\w\u4e00-\u9fff]/g, " ").split(/\s+/).filter((t) => t.length > 0);
  }
  // Simple search implementation
  performSimpleSearch(e) {
    if (!e.trim()) return [];
    const t = this.tokenizeText(e), a = /* @__PURE__ */ new Map();
    return t.forEach((n) => {
      (this.simpleSearchIndex.get(n) || []).forEach((c) => {
        const l = a.get(c) || 0;
        a.set(c, l + 1);
      });
    }), Array.from(a.entries()).map(([n, i]) => {
      const c = this.promptManager.prompts.find((l) => l.id === n);
      if (c) {
        const l = { ...c };
        return l._searchScore = i / t.length, l;
      }
      return null;
    }).filter(Boolean).sort((n, i) => i._searchScore - n._searchScore);
  }
  // Update quick prompt list
  // Update category list
  // Update prompt list
  // Insert prompt
  async insertPrompt(e) {
    await this.promptInserter.insertPrompt(e, "command") && this.quickInsertPanel.close();
  }
  // Search and Filter (Use simple search)
  // Prompt operations
  async toggleFavorite(e) {
    if (this.promptManager) {
      o.debug("toggleFavorite called with promptId:", e);
      try {
        const t = await this.promptManager.toggleFavorite(e);
        return o.debug("toggleFavorite result:", t), this.managementPanel.updatePromptList(), this.quickInsertPanel.updateCategories(), t;
      } catch (t) {
        o.error("Toggle favorite failed:", t), this.domUtils.showAlert(`${s.t("operation_failed")}${t.message}`);
      }
    }
  }
  createNewPrompt() {
    this.editorPanel.openPromptModal();
  }
  editPrompt(e) {
    const t = this.promptManager.prompts.find((a) => a.id === e);
    t && this.editorPanel.openPromptModal(t);
  }
  savePrompt() {
    this.editorPanel && this.editorPanel.savePrompt();
  }
  // Resolve and fallback category, ensuring a valid category value always exists
  // Prefill manual form with generation result or external data, and sync preview
  prefillManualForm(e) {
    this.editorPanel && this.editorPanel.prefillForm(e);
  }
  async updatePromptCategory(e, t, a) {
    this.managementPanel && await this.managementPanel.updatePromptCategory(e, t);
  }
  showTemporaryFeedback(e, t) {
    if (!e) return;
    const a = e.style.borderColor;
    e.style.borderColor = "#48bb78";
    const r = document.createElement("span");
    r.className = "temp-feedback", r.textContent = t, r.style.cssText = `
            color: #48bb78;
            font-size: 12px;
            margin-left: 8px;
            opacity: 1;
            transition: opacity 0.5s;
        `, e.parentNode.insertBefore(r, e.nextSibling), setTimeout(() => {
      r.style.opacity = "0", e.style.borderColor = a, setTimeout(() => r.remove(), 500);
    }, 1500);
  }
  openCategoryModal(e = null) {
    let t = document.getElementById("category-edit-modal");
    t || (t = this._createCategoryModal(), this.rootContainer = this.domUtils.ensureRootContainer(), this.rootContainer.appendChild(t)), this.categoryModal && (this.categoryModal.open(e), this.state.isModalOpen = !0);
  }
  closeCategoryModal() {
    this.categoryModal && this.categoryModal.close(), this.state.isModalOpen = !1;
  }
  saveCategory(e) {
    const t = e.id, a = e.name, r = e.icon, n = e.color;
    if (!a) {
      this.domUtils.showAlert(s.t("category_name_required"));
      return;
    }
    if (t) {
      const i = this.promptManager.metadata.categories.find((l) => l.id === t);
      i && (i.name = a, i.icon = r || "ğŸ“", i.color = n || "#a0aec0");
      const c = this.promptManager.categories.find((l) => l.id === t);
      c && (c.name = a, c.icon = r || "ğŸ“", c.color = n || "#a0aec0");
    } else {
      const i = {
        id: P(),
        name: a,
        icon: r || "ğŸ“",
        color: n || "#a0aec0",
        description: "",
        order: this.promptManager.categories.length + 1
      };
      this.promptManager.metadata.categories.push(i), this.promptManager.categories.push(i);
    }
    this.promptManager.saveData(), this.promptManager.saveDataToCache(), this.managementPanel.updateCategoryList(), this.quickInsertPanel.updateCategories(), this.managementPanel.updatePromptList(), this.closeCategoryModal();
  }
  addNewCategory() {
    this.openCategoryModal();
  }
  // New: Edit category method
  editCategory(e) {
    const t = this.promptManager.categories.find((a) => a.id === e);
    t && this.openCategoryModal(t);
  }
  // New: Delete category method
  deleteCategory(e) {
    this.managementPanel && this.managementPanel.deleteCategory(e);
  }
  // Toggle Import/Export
  toggleImportExport() {
    this.toggleManagementPanel();
  }
  exportPrompts() {
    this.managementPanel && this.managementPanel.exportPrompts();
  }
  importPrompts() {
    this.managementPanel && this.managementPanel.importPrompts();
  }
  // ==================== AI Assistant Features ====================
  // Update AI target category selector
  updateAITargetCategories() {
    const e = document.getElementById("ai-target-category");
    !e || !this.promptManager || (e.innerHTML = `<option value="">${s.t("category_name_placeholder")}</option>`, this.promptManager.categories.forEach((t) => {
      const a = document.createElement("option");
      a.value = t.id, a.textContent = `${t.icon} ${t.name}`, e.appendChild(a);
    }));
  }
  // AI Generate Prompt - Get input from UI
  async generateWithAI() {
    return this.aiGenerationPanel.generateWithAI();
  }
  // Delegate to AIGenerationPanel
  async _executeAIGeneration(e) {
    return this.aiGenerationPanel._executeAIGeneration(e);
  }
  displayAIResult(e, t, a = !1) {
    return this.aiGenerationPanel.displayAIResult(e, t, a);
  }
  resetAIPanelState() {
    return this.aiGenerationPanel.resetAIPanelState();
  }
  showAIProgress(e) {
    return this.aiGenerationPanel.showAIProgress(e);
  }
  updateProgressStep(e, t) {
    return this.aiGenerationPanel.updateProgressStep(e, t);
  }
  showAIError(e) {
    return this.aiGenerationPanel.showAIError(e);
  }
  setGenerateButtonState(e) {
    return this.aiGenerationPanel.setGenerateButtonState(e);
  }
  _getVariableHelpMarkdown() {
    return this.aiGenerationPanel._getVariableHelpMarkdown();
  }
  // Internal core logic for executing AI generation
  async _executeAIGeneration(e) {
    o.debug("[PanelManager] Executing AI generation with input:", e), this.resetAIPanelState(), this.showAIProgress(!0), this.updateProgressStep("generating", "active");
    try {
      o.debug("[PanelManager] Calling aiRetryManager.generateWithRetry...");
      const t = await this.aiRetryManager.generateWithRetry(
        e,
        (a) => this.handleAIProgress(a)
      );
      o.debug("[PanelManager] Received result from aiRetryManager:", t), t.success ? (this.displayAIResult(t.content, t.validation), this.state.currentAIGeneration = t.content) : t.content && t.canManualEdit ? (this.displayAIResult(t.content, t.validation, !0), this.state.currentAIGeneration = t.content) : this.showAIError(t.error || s.t("generation_failed_retry"));
    } catch (t) {
      o.error("[PanelManager] AI Generation Exception:", t), this.showAIError(`${s.t("generation_error")}${t.message}`);
    } finally {
      this.setGenerateButtonState(!1);
    }
  }
  // Handle AI generation progress
  handleAIProgress(e) {
    const { stage: t, attempt: a, message: r, errors: n, warnings: i, score: c } = e;
    this.updateProgressStep(t, "active");
    const l = document.getElementById("progress-message");
    l && (l.textContent = r);
    const d = document.getElementById("progress-details");
    if (d) {
      let p = "";
      a && (p += `Attempt ${a}`), n && n.length > 0 && (p += `
Errors: ${n.slice(0, 2).join(", ")}`), i && i.length > 0 && (p += `
Warnings: ${i.slice(0, 2).join(", ")}`), c !== void 0 && (p += `
Score: ${Math.round(c * 100)}%`), d.textContent = p.trim();
    }
    switch (t) {
      case "generating":
        this.resetProgressSteps(), this.updateProgressStep("generating", "active");
        break;
      case "validating":
        this.updateProgressStep("generating", "completed"), this.updateProgressStep("validating", "active");
        break;
      case "retrying":
        this.updateProgressStep("validating", "warning"), this.updateProgressStep("retrying", "active");
        break;
      case "completed":
        this.updateProgressStep("retrying", "completed"), this.updateProgressStep("completed", "completed");
        break;
      case "failed":
        this.updateProgressStep(t.replace("step-", ""), "error");
        break;
    }
  }
  // Display AI Result
  displayAIResult(e, t, a = !1) {
    o.debug("[PanelManager] displayAIResult: Starting UI update.", { content: e, validation: t }), this.showAIProgress(!1);
    const r = document.getElementById("ai-assistant-panel");
    if (!r) {
      o.error("[PanelManager] displayAIResult: AI assistant panel not found!");
      return;
    }
    const n = document.getElementById("validation-result");
    n && (o.debug("[PanelManager] displayAIResult: Removing old result panel."), n.remove());
    const i = document.createElement("div");
    i.id = "validation-result", i.className = "validation-result", o.debug("[PanelManager] displayAIResult: Created new result panel element.");
    const c = document.createElement("div");
    c.className = "ai-generated-preview";
    const l = this.sanitizeHTML(e.title || s.t("untitled")), d = this.sanitizeHTML(e.content || s.t("no_content")).replace(/\n/g, "<br>"), p = this.sanitizeHTML(e.category || ""), u = this.sanitizeHTML(e.command || "");
    c.innerHTML = `
            <h5>${s.t("generated_preview_title")}</h5>
            <div class="preview-title">
                <strong>${s.t("title_label")}</strong>${l}
            </div>
            <div class="preview-content">
                <div class="content-label"><strong>${s.t("content_label")}</strong></div>
                <div class="content-text">${d}</div>
            </div>
            ${p ? `<div class="preview-category"><strong>${s.t("category_label")}</strong>${p}</div>` : ""}
            ${u ? `<div class="preview-command"><strong>${s.t("command_label")}</strong>/${u}</div>` : ""}
        `, i.appendChild(c);
    const m = document.createElement("div");
    m.className = "validation-score";
    const g = Math.round(t.score * 100);
    m.innerHTML = `
            <span class="score-label">${s.t("quality_score_label")}</span>
            <span class="score-value ${g >= 80 ? "excellent" : g >= 60 ? "good" : "poor"}">${g}%</span>
        `, i.appendChild(m);
    const h = document.createElement("div");
    h.className = "validation-details";
    let v = "";
    t.errors && t.errors.length > 0 && (v += `${s.t("errors_label")} (${t.errors.length}):
${t.errors.slice(0, 3).join(`
`)}

`), t.warnings && t.warnings.length > 0 && (v += `${s.t("warnings_label")} (${t.warnings.length}):
${t.warnings.slice(0, 3).join(`
`)}

`), t.suggestions && t.suggestions.length > 0 && (v += `${s.t("suggestions_label")} (${t.suggestions.length}):
${t.suggestions.slice(0, 3).join(`
`)}`), h.textContent = v.trim() || s.t("content_meets_requirements"), i.appendChild(h);
    const b = document.createElement("div");
    b.className = "validation-actions", b.innerHTML = `
            <button type="button" class="btn-success" data-action="acceptAIResult">${s.t("accept_result")}</button>
            <button type="button" class="btn-warning" data-action="retryGeneration">${s.t("regenerate")}</button>
            <button type="button" class="btn-info" data-action="manualEdit">${s.t("manual_edit")}</button>
        `, i.appendChild(b);
    const _ = document.createElement("div");
    _.className = "validation-hint", _.textContent = s.t("synced_to_form_hint"), i.appendChild(_), r.appendChild(i), o.debug("[PanelManager] displayAIResult: Appended new result panel to AI assistant panel."), this.scrollUtils.attachWheelScrollLock(i), this.rebindValidationActions(i), this.scrollToAIResult(), this.prefillManualForm(e), o.debug("[PanelManager] displayAIResult: UI update process finished.");
  }
  // Accept AI Result
  async acceptAIResult() {
    if (this.state.currentAIGeneration)
      try {
        const e = this.state.currentAIGeneration, t = this.resolveCategory(e.category), a = {
          title: e.title || "",
          content: e.content || "",
          category: t,
          access_control: null
        };
        await this.promptManager.createPrompt(a), this.managementPanel.updatePromptList(), this.managementPanel.updateCategoryList(), this.closePromptModal(), alert(s.t("ai_prompt_saved"));
      } catch (e) {
        o.error("Failed to save AI generated prompt:", e), alert(`${s.t("save_failed")}${e.message}`);
      }
  }
  // Regenerate
  retryGeneration() {
    if (o.debug("[PanelManager] retryGeneration called."), this.state.lastAIUserInput) {
      o.debug("[PanelManager] Retrying with last input:", this.state.lastAIUserInput);
      const e = JSON.parse(JSON.stringify(this.state.lastAIUserInput));
      o.debug("[PanelManager] Created deep copy for retry:", e), this._executeAIGeneration(e);
    } else
      alert(s.t("no_retry_record")), o.error("[PanelManager] Retry failed: lastAIUserInput is null.");
  }
  // Manual Edit
  manualEdit() {
    this.state.currentAIGeneration && this.prefillManualForm(this.state.currentAIGeneration), this.toggleManualMode();
    const e = document.getElementById("validation-result");
    e && (e.style.display = "none");
  }
  // Use Template
  async useTemplate() {
    const e = document.getElementById("ai-scenario").value, t = document.getElementById("ai-description").value.trim();
    try {
      const a = await this.promptManager.api.generateScenarioTemplate(e, t);
      if (document.getElementById("prompt-edit-title").value = a.title || "", document.getElementById("prompt-edit-content").value = a.content || "", a.category) {
        const r = document.getElementById("prompt-edit-category");
        r && (r.value = a.category);
      }
      this.toggleAIMode();
    } catch (a) {
      o.error("Failed to fetch template:", a), alert(`${s.t("get_template_failed")}${a.message}`);
    }
  }
  // Show/Hide AI progress and manage button state
  showAIProgress(e) {
    const t = document.getElementById("ai-progress");
    t && (t.style.display = e ? "block" : "none"), this.setGenerateButtonState(e);
  }
  // Reset progress steps
  resetProgressSteps() {
    document.querySelectorAll(".step").forEach((t) => {
      t.className = "step";
    });
  }
  // Update progress step
  updateProgressStep(e, t) {
    const a = document.getElementById(`step-${e}`);
    a && (a.className = `step ${t}`);
  }
  // Show AI Error
  showAIError(e) {
    this.showAIProgress(!1);
    const t = document.getElementById("ai-progress");
    t && (t.style.display = "block");
    const a = document.getElementById("progress-message");
    a && (a.textContent = `âŒ ${e}`, a.style.color = "#e53e3e");
  }
  // Show variable help
  // Close variable help
  // Simple HTML sanitize function
  sanitizeHTML(e) {
    const t = document.createElement("div");
    return t.textContent = e, t.innerHTML;
  }
  // ==================== Model Selection Feature ====================
  // Load available models (Using ModelSelect component)
  async loadAvailableModels() {
    if (o.debug("[ModelSelect] ğŸš€ loadAvailableModels called"), this._modelLoading) {
      o.debug("[ModelSelect] â³ Already loading, skipping"), o.debug("[ModelSelect] Already loading, skipping.");
      return;
    }
    const e = document.getElementById("ai-model-select-container");
    if (!e) {
      o.warn("[ModelSelect] AI model select container not found.");
      return;
    }
    if (this.modelSelect && this.modelSelect.container !== e && (o.debug("[ModelSelect] Container changed, resetting component."), this.modelSelect = null), this.modelSelect && this.modelSelect.models && this.modelSelect.models.length > 0) {
      o.debug("[ModelSelect] Model data already loaded, skipping.");
      return;
    }
    this._modelLoading = !0;
    try {
      this.modelSelect || (this.modelSelect = new be(e, {
        placeholder: s.t("search_select_model_placeholder"),
        onSelect: (t) => {
          this.handleModelChange(t.id);
        }
      })), await this._loadModelData();
    } finally {
      this._modelLoading = !1;
    }
  }
  // Internal method: Load model data
  async _loadModelData() {
    var e;
    if (!this.modelSelect) {
      o.warn("[ModelSelect] Component not initialized");
      return;
    }
    try {
      if (o.debug("[ModelSelect] Starting model load..."), this.modelSelect.setLoading(!0), !this.promptManager || !this.promptManager.api)
        throw o.error("[ModelSelect] API unavailable", {
          promptManager: !!this.promptManager,
          api: !!((e = this.promptManager) != null && e.api)
        }), new Error(s.t("ai_api_unavailable"));
      o.debug("[ModelSelect] Calling getAvailableModels...");
      const t = await this.promptManager.api.getAvailableModels();
      if (o.debug("[ModelSelect] Got models:", t == null ? void 0 : t.length), t && Array.isArray(t) && t.length > 0) {
        this.modelSelect.setModels(t);
        try {
          const a = await this.promptManager.api.getCurrentModel();
          o.debug("[ModelSelect] Current model:", a), a && this.modelSelect.setSelected(a);
        } catch (a) {
          o.warn("[ModelSelect] Failed to get current model:", a);
        }
        o.debug(`[ModelSelect] âœ… Loaded ${t.length} available models`);
      } else
        o.warn("[ModelSelect] No available models found"), this.modelSelect.setError(s.t("no_models_available"));
    } catch (t) {
      o.error("[ModelSelect] Load failed:", t), this.modelSelect.setError(s.t("load_failed_refresh"));
    } finally {
      this.modelSelect.setLoading(!1);
    }
  }
  // Format model display name
  formatModelDisplayName(e) {
    const t = e.id || e.model || s.t("unknown_model");
    let r = e.name || t;
    return e.owned_by && e.owned_by !== "system" && (r += ` (${e.owned_by})`), e.is_active === !1 && (r += ` [${s.t("offline")}]`), t.includes("gpt-4") ? r = "ğŸ¤– " + r : t.includes("gpt-3.5") ? r = "ğŸ’¬ " + r : t.includes("gemini") ? r = "âœ¨ " + r : t.includes("claude") ? r = "ğŸ­ " + r : t.includes("llama") ? r = "ğŸ¦™ " + r : r = "ğŸ”§ " + r, r;
  }
  // Handle model selection change
  handleModelChange(e) {
    if (!(!e || e === "retry"))
      try {
        o.debug(`[PanelManager] ğŸ’¾ Save model selection: ${e}`), localStorage.setItem("selectedModel", e);
        const t = localStorage.getItem("selectedModel");
        o.debug(`[PanelManager] âœ… Verify localStorage: ${t}`), this.promptManager && this.promptManager.api && o.debug(`[PanelManager] Switched to model: ${e}`);
      } catch (t) {
        o.error("[PanelManager] Failed to switch model:", t), alert(`Failed to switch model: ${t.message}`);
      }
  }
  // Show model switch success notification
  showModelChangeSuccess(e) {
    const t = document.createElement("div");
    t.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #48bb78;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            z-index: 999999;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            animation: slideInRight 0.3s ease-out;
        `, t.innerHTML = `âœ… ${s.t("switched_to")}${this.getSimpleModelName(e)}`, document.body.appendChild(t), setTimeout(() => {
      t.parentNode && (t.style.animation = "slideOutRight 0.3s ease-out", setTimeout(() => {
        t.remove();
      }, 300));
    }, 3e3);
  }
  // Get simplified model name
  getSimpleModelName(e) {
    return e.replace(/^(openai\/|anthropic\/|google\/|meta\/|mistral\/)/, "").replace(/(-instruct|-chat|-completion)$/, "").replace(/^gpt-/, "GPT-").replace(/^claude-/, "Claude ").replace(/^gemini-/, "Gemini ").replace(/^llama-/, "Llama ");
  }
  // Get currently selected model
  getCurrentSelectedModel() {
    return this.modelSelect ? this.modelSelect.getSelectedId() : null;
  }
  // Set selected model
  setSelectedModel(e) {
    this.modelSelect && (this.modelSelect.setSelected(e), this.handleModelChange(e));
  }
  // Rebind validation result button events
  rebindValidationActions(e) {
    e.querySelectorAll("[data-action]").forEach((a) => {
      a.addEventListener("click", (r) => {
        r.preventDefault(), r.stopPropagation();
        const n = a.dataset.action, i = this[n];
        typeof i == "function" ? (o.debug(`Executing validation action: ${n}`), i.call(this)) : o.warn(`Handler not found for action: ${n}`);
      });
    });
  }
  // Scroll to AI generation result
  scrollToAIResult() {
    setTimeout(() => {
      const e = document.getElementById("validation-result"), t = document.querySelector(".prompt-modal-content");
      if (e && t) {
        const a = t.getBoundingClientRect(), n = e.getBoundingClientRect().top - a.top + t.scrollTop - 100;
        t.scrollTo({
          top: Math.max(0, n),
          behavior: "smooth"
        }), o.debug("Auto-scrolling to AI generation result");
      } else {
        const a = document.getElementById("validation-result");
        a && a.scrollIntoView({
          behavior: "smooth",
          block: "center"
        });
      }
    }, 200);
  }
  // Reset AI panel state
  resetAIPanelState() {
    this.state.currentAIGeneration = null;
    const e = document.getElementById("validation-result");
    e && e.remove();
    const t = document.getElementById("ai-progress");
    t && (t.style.display = "none"), this.setGenerateButtonState(!1);
  }
  // Unified management of generate button state
  setGenerateButtonState(e) {
    const t = document.querySelector('[data-action="generateWithAI"]');
    if (t) {
      t.disabled = e;
      const a = t.querySelector(".btn-text"), r = t.querySelector(".btn-loading");
      a && (a.style.display = e ? "none" : "inline"), r && (r.style.display = e ? "inline" : "none");
    }
  }
  // Secondary calibration: Ensure current page fits container perfectly, no scrolling
  // _ensureQuickPageFits moved to QuickInsertPanel
  // Shortcut Help Modal removed as per user request
  // ==================== Transparency Control ====================
  initializeTransparencyControl() {
    const e = localStorage.getItem("panelOpacity") || "0.95";
    this.updateTransparency(e);
  }
  updateTransparency(e) {
    document.documentElement.style.setProperty("--panel-opacity-light", e * 0.85), document.documentElement.style.setProperty("--panel-opacity-dark", e), localStorage.setItem("panelOpacity", e);
    const t = document.getElementById("opacity-slider");
    t && t.value !== e && (t.value = e);
  }
  setupOpacitySlider(e) {
    const t = e.querySelector("#opacity-slider");
    t && (t.value = localStorage.getItem("panelOpacity") || "0.95", t.addEventListener("input", (a) => {
      this.updateTransparency(a.target.value);
    }));
  }
  // Generate Variable Help Markdown
  // _getVariableHelpMarkdown moved to EditorPanel
}
class Me {
  constructor() {
    this.version = "0.1.5", console.log(`%c ğŸš€ Open WebUI Prompt Plus v${this.version} %c https://github.com/fujie/open-webui-prompt-plus `, "background: #667eea; color: #fff; border-radius: 3px 0 0 3px; padding: 2px 5px; font-weight: bold;", "background: #764ba2; color: #fff; border-radius: 0 3px 3px 0; padding: 2px 5px;"), this.initialized = !1, this.buttonCreated = !1, this.domManipulator = new U(), this.promptManager = null, this.inputDetector = null, this.textInserter = null, this.promptInserter = null, this.panelManager = null, this.placeholderSet = !1, this.targetContainerCache = null, this.lastContainerCheck = 0, this.containerCheckInterval = 250, this.initializationQueue = [], this.isInitializing = !1;
  }
  // Fast Initialize - Create only necessary components (and provide immediately interactive lightweight instances)
  fastInitialize() {
    this.domManipulator || (this.domManipulator = new U()), this.inputDetector || (this.inputDetector = new j()), this.textInserter || (this.textInserter = new G()), this.promptManager || (this.promptManager = new O()), this.promptInserter || (this.promptInserter = new H(this.inputDetector, this.textInserter)), this.panelManager || (this.panelManager = new W(this.promptManager, this.promptInserter, this.domManipulator)), window.promptManager = this.promptManager, window.panelManager = this.panelManager, window.loaderApp = this, this.buttonCreated = !0;
  }
  // Full Initialize - Lazy load heavyweight components
  async fullInitialize() {
    if (!(this.initialized || this.isInitializing)) {
      this.isInitializing = !0;
      try {
        this.inputDetector || (this.inputDetector = new j()), this.textInserter || (this.textInserter = new G()), this.promptManager || (this.promptManager = new O()), this.promptInserter || (this.promptInserter = new H(this.inputDetector, this.textInserter)), this.panelManager || (this.panelManager = new W(this.promptManager, this.promptInserter, this.domManipulator)), this.syncService || (this.syncService = new ye(this.promptManager));
        const e = (t) => {
          o.debug("SWR Callback: Prompts updated, refreshing UI components..."), this.panelManager && (this.panelManager.initializeSearchFeatures(), this.panelManager.managementPanel && (this.panelManager.managementPanel.updatePromptList(), this.panelManager.managementPanel.updateCategoryList()), this.panelManager.quickInsertPanel && (this.panelManager.quickInsertPanel.updateList(), this.panelManager.quickInsertPanel.updateCategories()));
        };
        await this.promptManager.loadData(e), this.panelManager && this.panelManager.initializeSearchFeatures(), this.syncService.start(), window.promptManager = this.promptManager, window.panelManager = this.panelManager, window.loaderApp = this, this.initialized = !0, this.isInitializing = !1, o.debug("LoaderApp fully initialized"), this.processInitializationQueue();
      } catch (e) {
        o.error("LoaderApp full initialization failed:", e), this.isInitializing = !1;
      }
    }
  }
  // Async data loading - This method is now replaced by Promise.all in fullInitialize
  // But kept in case it is called elsewhere
  async loadDataAsync() {
    try {
      this.promptManager && await this.promptManager.loadData();
    } catch (e) {
      o.warn("Async data load failed:", e);
    }
  }
  // Process initialization queue
  processInitializationQueue() {
    for (; this.initializationQueue.length > 0; ) {
      const e = this.initializationQueue.shift();
      try {
        e();
      } catch (t) {
        o.warn("Failed to process initialization queue:", t);
      }
    }
  }
  // Add to initialization queue
  addToInitializationQueue(e) {
    this.initialized ? e() : this.initializationQueue.push(e);
  }
  // Compatible with old initialization method
  async initialize() {
    await this.fullInitialize();
  }
  // Setup Enhanced Prompt Manager - Performance Optimized and Self-Healing Version
  async setupEnhancedPromptManager() {
    const e = this.domManipulator.findTargetContainer();
    if (e && !document.getElementById("prompt-manager-integrated-btn")) {
      this.buttonCreated || this.fastInitialize(), this.domManipulator.cleanupExistingElements();
      const t = this.domManipulator.createIntegratedButton(e);
      this.bindFastButtonEvents(t), !this.initialized && !this.isInitializing && this.scheduleFullInitialization();
    }
  }
  // Get cached target container
  getCachedTargetContainer() {
    const e = Date.now();
    return this.targetContainerCache && e - this.lastContainerCheck < this.containerCheckInterval ? this.targetContainerCache : (this.targetContainerCache = this.domManipulator.findTargetContainer(), this.lastContainerCheck = e, this.targetContainerCache);
  }
  // Schedule full initialization
  scheduleFullInitialization() {
    this.initialized || this.isInitializing || (window.requestIdleCallback ? window.requestIdleCallback(() => {
      this.fullInitialize();
    }, { timeout: 0 }) : setTimeout(() => {
      this.fullInitialize();
    }, 0));
  }
  // Fast button event binding
  bindFastButtonEvents(e) {
    const t = (a, r) => {
      a.preventDefault(), a.stopPropagation();
      const n = () => {
        this.panelManager && (r === "toggleQuick" ? this.panelManager.toggleQuickInsertPanel() : r === "toggleManagement" && this.panelManager.toggleManagementPanel());
      };
      this.initialized ? n() : (this.panelManager || this.fastInitialize(), n(), this.isInitializing || this.fullInitialize());
    };
    e.onclick = (a) => t(a, "toggleQuick"), e.oncontextmenu = (a) => t(a, "toggleManagement");
  }
  // Bind button events
  bindButtonEvents(e) {
    e.onclick = (t) => {
      t.preventDefault(), t.stopPropagation(), this.panelManager.toggleQuickInsertPanel();
    }, e.oncontextmenu = (t) => {
      t.preventDefault(), t.stopPropagation(), this.panelManager.toggleManagementPanel();
    };
  }
  // Create floating panels - No longer needed, changed to create on demand
  createFloatingPanels() {
  }
  // Handle keyboard events
  handleKeyboardEvents(e) {
    var r, n, i, c, l;
    const a = navigator.platform.toUpperCase().indexOf("MAC") >= 0 ? e.metaKey : e.ctrlKey;
    if (!this.initialized && !this.isInitializing && this.fullInitialize(), this.panelManager || this.fastInitialize(), a && e.shiftKey && (e.key === "p" || e.key === "P") && (e.preventDefault(), (r = this.panelManager) == null || r.toggleQuickInsertPanel()), a && e.shiftKey && (e.key === "l" || e.key === "L") && (e.preventDefault(), (n = this.panelManager) == null || n.toggleManagementPanel()), e.key === "Escape" && ((i = this.panelManager) == null || i.closeQuickInsertPanel(), (c = this.panelManager) == null || c.closeManagementPanel(), (l = this.panelManager) == null || l.closePromptModal()), e.key === "Tab") {
      const d = document.activeElement;
      if (this.handleCommandPanelTab(e))
        return;
      d && d.id === "chat-input" && this.domManipulator.handlePlaceholderNavigation(e, d);
    }
  }
  // Handle Tab key trigger for command panel
  handleCommandPanelTab(e) {
    const t = document.querySelector(".selected-command-option-button");
    return t ? (e.preventDefault(), e.stopPropagation(), t.click(), o.debug("Tab key triggered command:", t.textContent), !0) : !1;
  }
  // Run main loop
  run() {
    document.addEventListener("keydown", (t) => this.handleKeyboardEvents(t)), new MutationObserver(() => {
      s.sync(), this.domManipulator.setRandomPlaceholder(), this.domManipulator.hideVersionInfo(), this.setupEnhancedPromptManager(), this.handleVariableModal();
    }).observe(document.body, {
      childList: !0,
      subtree: !0
    }), s.sync(), this.domManipulator.setRandomPlaceholder(), this.domManipulator.hideVersionInfo(), this.scheduleFullInitialization();
  }
  // Handle variable modal, remove required attributes
  handleVariableModal() {
    document.querySelectorAll(".modal-content, .modal-body, .modal-dialog").forEach((t) => {
      const a = t.querySelector("h3, .modal-title, .modal-header");
      a && a.textContent.includes("æ’å…¥å˜é‡") && (t.querySelector("form") || t).querySelectorAll("input, textarea, select").forEach((i) => {
        var c;
        if (i.hasAttribute("required")) {
          i.removeAttribute("required");
          const l = (c = i.closest(".form-group, .form-field")) == null ? void 0 : c.querySelector("label");
          if (l) {
            const d = Array.from(l.childNodes).find(
              (p) => p.nodeType === Node.ELEMENT_NODE && p.textContent.includes("*required")
            );
            d ? d.remove() : l.innerHTML.includes("*required") && (l.innerHTML = l.innerHTML.replace(/\s*\*required/g, ""));
          }
        }
      });
    });
  }
}
window.insertPrompt = function(f) {
  var e;
  (e = window.loaderApp) != null && e.promptInserter && window.loaderApp.promptInserter.insertPrompt(f).then((t) => {
    var a;
    t && ((a = window.loaderApp.panelManager) == null || a.closeQuickInsertPanel());
  });
};
export {
  Me as LoaderApp,
  Me as PromptApp,
  Me as default
};
